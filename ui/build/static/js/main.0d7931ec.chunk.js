(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{119:function(e,t,a){"use strict";a.r(t);var s=a(2),r=a.n(s),n=a(21),c=a.n(n),o=(a(70),a(3)),l=a(20),i=a(12),u=a(5),d=a.n(u),j=a(8),b=a(10),m=a.n(b),h=a(18),x=a.n(h),p=a(42),f=a(6),O=a(35),g=a.n(O),v=a(57),w=a(1);g.a.config();var y="865349714041-35tbv6kfmsdueb9cb018vukqpdul0shv.apps.googleusercontent.com";function S(e){var t=e.error,a=e.setError,r=(e.loading,e.setLoading),n=Object(s.useState)(JSON.parse(localStorage.getItem("signup"))),c=Object(o.a)(n,2),l=c[0],u=(c[1],"".concat(f.baseUrl,"/auth/").concat(l?"signup":"login")),d=Object(i.f)();return Object(w.jsx)("div",{children:Object(w.jsx)(p.GoogleLogin,{clientId:y,buttonText:l?"Signup with Google":"Login with Google",onSuccess:function(e){k(!0,e.profileObj.email,null,u,t,a,r,d,e.profileObj.name,e.profileObj.imageUrl)},onFailure:function(e){},cookeiPolicy:"single_host_origin",style:{marginTop:"160px"}})})}var N=function(){return Object(w.jsx)("div",{children:Object(w.jsx)(p.GoogleLogout,{clientId:y,render:function(e){return Object(w.jsx)("span",{children:Object(w.jsx)(v.a,{size:25})})},buttonText:"Signout",onLogoutSuccess:function(e){},style:{marginTop:"160px"}})})};a.p,a.p;g.a.config();var k=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,s,r,n,c,o,l,i,u,j,b=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=b.length>0&&void 0!==b[0]&&b[0],a=b.length>1?b[1]:void 0,s=b.length>2&&void 0!==b[2]?b[2]:null,r=b.length>3?b[3]:void 0,b.length>4?b[4]:void 0,n=b.length>5?b[5]:void 0,c=b.length>6?b[6]:void 0,o=b.length>7?b[7]:void 0,l=b.length>8?b[8]:void 0,i=b.length>9?b[9]:void 0,localStorage.setItem("img",i),c(!0),t){e.next=26;break}if(a&&s){e.next=21;break}if(a){e.next=18;break}return n("Email is required"),c(!1),e.abrupt("return");case 18:return n("Password required"),c(!1),e.abrupt("return");case 21:return e.next=23,m()({method:"POST",url:"".concat(r),data:{email:a,password:s},headers:{"Content-Type":"application/json"}}).catch((function(e){var t,a,s,r;e.isAxiosError&&((null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error.search("NOTFOUND"))>=0?n("Please check your network"):n(null===(s=e.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.error))}));case 23:u=e.sent,e.next=29;break;case 26:return e.next=28,m()({method:"POST",url:"".concat(r),data:{email:a,password:"passs",auth:"google",name:l,imageUrl:i},headers:{"Content-Type":"application/json"}}).catch((function(e){n(e.response.data.error)}));case 28:u=e.sent;case 29:u&&u.data.success?(localStorage.setItem("email",a),localStorage.setItem("img",u.data.data.user.imageUrl),localStorage.setItem("userId",u.data.data.user.id),localStorage.setItem("username",null===(j=u.data.data.user)||void 0===j?void 0:j.username),localStorage.setItem("token",u.data.data.token),c(!1),o.push("/twits")):c(!1);case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function T(e){var t=Object(s.useState)(""),a=Object(o.a)(t,2),r=a[0],n=a[1],c=Object(s.useState)(""),l=Object(o.a)(c,2),u=l[0],d=l[1],j=Object(s.useState)(""),b=Object(o.a)(j,2),m=b[0],h=b[1],p=Object(s.useState)(!1),O=Object(o.a)(p,2),g=O[0],v=O[1],y=Object(s.useState)(JSON.parse(localStorage.getItem("signup"))),N=Object(o.a)(y,2),T=N[0],C=N[1],E=localStorage.getItem("token"),I=Object(i.f)(),A="".concat(f.baseUrl,"/auth/").concat(T?"signup":"login"),z=function(e){"email"===e.target.name?n(e.target.value):d(e.target.value)};return Object(s.useEffect)((function(){return E&&I.push("/twits"),function(){}}),[]),Object(w.jsxs)("div",{style:{fontFamily:"Roboto",fontWeight:"600"},className:"text-center align-items-center bg-gradient-to-r from-cyan-500 to-blue-500",children:[Object(w.jsxs)("p",{className:"text-center mb-2",children:[Object(w.jsxs)("span",{style:{fontFamily:"Architects Daughter",fontSize:"1.8em"},className:"text-purple-900 font-bold italic",children:["Buzz",Object(w.jsx)("br",{})]}),Object(w.jsx)("span",{className:"text-md",children:" Feel free, express yourself & network "})]}),Object(w.jsx)("h3",{style:{fontSize:20},className:"font-bold text-md mb-4 mt-7",children:T?"Signup":"Login"}),Object(w.jsx)("input",{type:"text",name:"email",value:r,placeholder:"email",onChange:z,className:"px-3 rounded mb-5"}),Object(w.jsx)("br",{}),Object(w.jsx)("input",{type:"password",name:"password",value:u,placeholder:"password",onChange:z,className:"px-3 rounded mb-5"}),Object(w.jsx)("br",{}),Object(w.jsxs)("div",{className:"flex flex-col mb-3",children:[m&&Object(w.jsx)("span",{className:"mb-2 text-red-600",children:m}),Object(w.jsx)("div",{className:"flex justify-center",children:g?Object(w.jsx)("span",{className:"",children:Object(w.jsx)(x.a,{type:"ThreeDots",color:"#00bfff",height:40,width:40})}):Object(w.jsx)("span",{onClick:function(){return k(!1,r,u,A,m,h,v,I)},className:"cursor-pointer mb-3 bg-green-500 hover:bg-green-400 py-1 px-6 rounded text-white",children:T?"Signup":"Login"})})]}),!E&&Object(w.jsx)(S,{error:m,setError:h,loading:g,setLoading:v}),Object(w.jsxs)("div",{className:"mt-7 mb-6 text-xs",children:[T?"Already signed up ?":"Not registered ?",Object(w.jsx)("span",{className:"hover:bg-purple-400 bg-purple-500 ml-2 p-1 rounded text-white font-bold cursor-pointer",onClick:function(){T?(C(!1),localStorage.setItem("signup",!1)):(C(!0),localStorage.setItem("signup",!0))},children:T?" Switch to Login":" Switch to Signup!"})]})]})}var C=a(27),E=a.n(C),I=a(7),A=a(14),z=a(13),U=a(65),D=a(44),_=a(31),P=a(64),F=a(28);function R(e){e.imageUrl;var t=e.setImageUrl,a=Object(s.useState)(""),r=Object(o.a)(a,2),n=(r[0],r[1]),c=Object(s.useState)(""),l=Object(o.a)(c,2),i=l[0],u=l[1],b=function(){var e=Object(j.a)(d.a.mark((function e(a){var s,r,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n("loading"),s=a.target.files[0],r=new FormData,"https://api.cloudinary.com/v1_1/thevetdoctor/image/upload",r.append("file",s),r.append("upload_preset","zunt8yrw"),e.next=8,fetch("https://api.cloudinary.com/v1_1/thevetdoctor/image/upload",{method:"POST",body:r});case 8:return c=e.sent,e.next=11,c.json();case 11:o=e.sent,u(o.secure_url),t(o.secure_url),n("done");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsx)("div",{className:"flex p-1 rounded ml-1",children:i?Object(w.jsx)("img",{src:i,alt:"post",style:{width:"20em",height:"9em"},className:"rounded"}):Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("label",{className:"ml-2 cursor-pointer flex",children:[Object(w.jsx)(F.a,{size:22})," ",Object(w.jsx)("span",{className:"font-semibold ml-2 text-white pr-2"}),Object(w.jsx)("input",{type:"file",placeholder:"",accept:"image/*;capture",className:"hidden",onChange:function(e){return b(e)}})]})})})}function L(e){var t=Object(s.useState)(localStorage.getItem("twitText")?localStorage.getItem("twitText"):""),a=Object(o.a)(t,2),r=a[0],n=a[1],c=Object(s.useState)(localStorage.getItem("twitImage")?localStorage.getItem("twitImage"):""),l=Object(o.a)(c,2),i=l[0],u=l[1],b=Object(s.useState)(550),h=Object(o.a)(b,2),p=h[0],O=h[1],g=Object(s.useState)(""),v=Object(o.a)(g,2),y=v[0],S=v[1],N=Object(s.useState)(!1),k=Object(o.a)(N,2),T=k[0],C=k[1],E=localStorage.getItem("token"),I="".concat(f.baseUrl,"/twits/post"),A=function(){var t=Object(j.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(r,i),r||i){t.next=4;break}return S("Inputs required"),t.abrupt("return");case 4:return C(!0),t.next=7,m()({method:"POST",url:"".concat(I),data:{text:r,imageUrl:i},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(E)}}).catch((function(e){S("Please check your network")}));case 7:(a=t.sent)&&a.data.success?(C(!1),localStorage.removeItem("twitTitle"),localStorage.removeItem("twitText"),e.setSync(!e.sync),e.showForm()):C(!1);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(w.jsxs)("div",{className:"sticky text-center h-full bg-blue-200 p-1 -mb-2 -mt-3 align-self-center",children:[Object(w.jsx)("h1",{className:"font-bold text-md mb-3 mt-2",children:"New Post"}),Object(w.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",borderRadius:"20%"},children:[Object(w.jsx)("textarea",{type:"textarea",name:"text",rows:4,cols:3,style:{width:"16em",height:"".concat(i?"5em":"13em"),border:"none"},maxLength:550,value:r,overflow:"hidden",placeholder:"Write and share ...",onChange:function(e){n(e.target.value),O(550-e.target.value.length),localStorage.setItem("twitText",e.target.value)},className:"px-3 rounded mb-1 text-lg text-black font-bold w-full",required:!0}),Object(w.jsxs)("span",{style:{display:"flex",width:"18em"},className:"shadow-md justify-between px-3 mb-2 ml-5 mr-5 bg-blue-300",children:[Object(w.jsx)(R,{imageUrl:i,setImageUrl:u}),Object(w.jsx)("span",{className:"mr-6",children:p})]})]}),Object(w.jsxs)("div",{style:{flexDirection:"column"},className:"flex mb-3",children:[y&&Object(w.jsx)("span",{className:"mb-2 text-red-800 text-md",children:y}),Object(w.jsx)("div",{className:"flex justify-center mt-2",children:T?Object(w.jsx)("span",{className:"m-auto self-center",children:Object(w.jsx)(x.a,{type:"ThreeDots",color:"#00bfff",height:40,width:40})}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return e.showForm()},className:"hover:bg-gray-900 bg-gray-400 text-lg font-medium p-1 rounded text-white",children:"Cancel"}),Object(w.jsx)("span",{style:{cursor:"pointer"},onClick:A,className:"hover:bg-green-900 bg-green-400 text-lg font-bold p-1 rounded text-white mx-2",children:"Send"})]})})]})]})}function W(e){var t=Object(s.useState)(""),a=Object(o.a)(t,2),r=a[0],n=a[1],c=Object(s.useState)(160),l=Object(o.a)(c,2),i=l[0],u=l[1],b=Object(s.useState)(""),h=Object(o.a)(b,2),p=h[0],O=h[1],g=Object(s.useState)(!1),v=Object(o.a)(g,2),y=v[0],S=v[1],N=localStorage.getItem("token"),k="".concat(f.baseUrl,"/comments"),T=function(){var t=Object(j.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.twitId){t.next=2;break}return t.abrupt("return");case 2:if(r){t.next=5;break}return O("Inputs required"),t.abrupt("return");case 5:return S(!0),t.next=8,m()({method:"POST",url:"".concat(k,"/").concat(e.twitId),data:{text:r},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(N)}}).catch((function(e){O(e.response.data.error)}));case 8:(a=t.sent)&&a.data.success?(S(!1),e.setSync(!e.sync),e.showCommentForm()):S(!1);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(w.jsxs)("div",{className:"text-center pt-4",children:[Object(w.jsx)("p",{style:{fontSize:"0.9em"},className:"font-bold text-xs mb-3",children:"New Comment"}),Object(w.jsx)("textarea",{type:"textarea",name:"text",rows:5,cols:8,maxLength:160,style:{width:"15em",height:"8em"},value:r,placeholder:"Drop in your comment ...",onChange:function(e){"text"===e.target.name&&(n(e.target.value),u(160-e.target.value.length))},className:"px-3 rounded mb-5 h-20 text-md text-gray-600",required:!0}),Object(w.jsx)("br",{}),i,Object(w.jsxs)("div",{style:{flexDirection:"column"},className:"flex mb-5",children:[p&&Object(w.jsx)("span",{className:"mb-2 text-red-800 text-xs",children:p}),Object(w.jsxs)("div",{className:"justify-items-center",children:[Object(w.jsx)("span",{style:{cursor:"pointer",fontSize:"0.9em"},onClick:function(){return e.showCommentForm()},className:"hover:bg-gray-900 bg-gray-400 font-medium p-1 rounded text-white",children:"Cancel"}),y?Object(w.jsx)("span",{className:"m-auto",children:Object(w.jsx)(x.a,{type:"ThreeDots",color:"#00bfff",height:40,width:40})}):Object(w.jsx)("span",{style:{cursor:"pointer",fontSize:"0.9em"},onClick:T,className:"hover:bg-green-900 text-lg bg-green-400 font-medium p-1 rounded text-white mx-2",children:"Send"})]})]})]})}var B=a(122);function J(e){var t=e.show,a=e.handleShow,s=e.sourceData;return Object(w.jsx)("div",{children:Object(w.jsxs)(B.a,{show:t,onHide:function(){return a()},dialogClassName:"modal-90w","aria-labelledby":"example-custom-modal-styling-title",className:"h-full bg-gray-300",size:"lg",children:[Object(w.jsx)(B.a.Header,{closeButton:!0,children:Object(w.jsx)(B.a.Title,{children:null===s||void 0===s?void 0:s.header})}),Object(w.jsxs)(B.a.Body,{children:[Object(w.jsx)("div",{className:"image_box",children:Object(w.jsx)("img",{src:null===s||void 0===s?void 0:s.source,alt:null===s||void 0===s?void 0:s.altTag,style:{width:"27em",height:"15em",borderRadius:"1em",marginBottom:"1em"},className:"image"})}),Object(w.jsx)("div",{className:"w-full h-full bg-green-400",children:Object(w.jsx)("div",{children:Object(w.jsxs)("div",{className:"socials",children:[Object(w.jsx)("a",{href:"https://www.linkedin.com/in/k-kornienko/",target:"_blank",children:Object(w.jsx)("span",{children:Object(w.jsx)(F.e,{})})}),Object(w.jsx)("a",{href:"https://www.linkedin.com/in/k-kornienko/",target:"_blank",children:Object(w.jsx)("span",{children:Object(w.jsx)(F.b,{})})}),Object(w.jsx)("a",{href:"https://www.linkedin.com/in/k-kornienko/",target:"_blank",children:Object(w.jsx)("span",{children:Object(w.jsx)(F.d,{})})}),Object(w.jsx)("a",{href:"https://www.linkedin.com/in/k-kornienko/",target:"_blank",children:Object(w.jsx)("span",{children:Object(w.jsx)(F.c,{})})})]})})})]})]})})}var H=a(41),G=a(62),Q=a(4),M={setTwitData:{type:"SET_TWIT_DATA"},setMessagesData:{type:"SET_MESSAGES_DATA"},setUserCount:{type:"SET_USER_COUNT"},setPeopleData:{type:"SET_PEOPLE_DATA"},setSearchData:{type:"SET_SEARCH_DATA"},setUsersData:{type:"SET_USERS_DATA"},setNewsType:{type:"SET_NEWS_TYPE"},setPage:{type:"SET_PAGE"},setTotalPages:{type:"SET_TOTAL_PAGES"},setSearchQuery:{type:"SET_SEARCH_QUERY"},setNetworkStatus:{type:"SET_NETWORK_STATUS"}};var q={twits:[],messages:[],users:0,peopleData:[],searchData:[],usersData:[],searchQuery:"",networkStatus:!1},Y=Object(H.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M.setTwitData.type:return Object(Q.a)(Object(Q.a)({},e),{},{twits:t.data});case M.setMessagesData.type:return Object(Q.a)(Object(Q.a)({},e),{},{messages:t.data});case M.setPeopleData.type:return Object(Q.a)(Object(Q.a)({},e),{},{peopleData:t.data});case M.setSearchData.type:return Object(Q.a)(Object(Q.a)({},e),{},{searchData:t.data});case M.setUsersData.type:return Object(Q.a)(Object(Q.a)({},e),{},{usersData:t.data});case M.setUserCount.type:return Object(Q.a)(Object(Q.a)({},e),{},{users:t.data});case M.setNewsType.type:var a=e.newsData.filter((function(e){return e.type===t.data}));return Object(Q.a)(Object(Q.a)({},e),{},{newsType:t.data,news:a,searchQuery:"",page:1,totalPages:Math.ceil(a.length/e.pageSize)});case M.setPage.type:return Object(Q.a)(Object(Q.a)({},e),{},{page:t.data});case M.setTotalPages.type:return Object(Q.a)(Object(Q.a)({},e),{},{totalPages:t.data});case M.setSearchQuery.type:var s;return s="Filter By Type"===e.newsType?""===t.data?e.newsData:e.newsData.filter((function(e){var a;return(null===e||void 0===e||null===(a=e.text)||void 0===a?void 0:a.toLowerCase().indexOf(t.data.toLowerCase()))>=0})):e.newsData.filter((function(a){var s;return(null===a||void 0===a||null===(s=a.text)||void 0===s?void 0:s.toLowerCase().indexOf(t.data.toLowerCase()))>=0&&a.type===e.newsType})),Object(Q.a)(Object(Q.a)({},e),{},{searchQuery:t.data,news:s,page:1,totalPages:Math.ceil(s.length/e.pageSize)});case M.setNetworkStatus.type:return Object(Q.a)(Object(Q.a)({},e),{},{networkStatus:t.data});default:return e}}),Object(G.devToolsEnhancer)()),K=Y,V=a(17);function Z(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],n=Object(s.useState)(!1),c=Object(o.a)(n,2),l=c[0],u=c[1],b=Object(s.useState)(!1),h=Object(o.a)(b,2),p=h[0],O=h[1],g=K.getState,v=K.dispatch,y=(g(),Object(V.b)((function(e){return e}))),S=y.twits,k=y.users,T=localStorage.getItem("email")?localStorage.getItem("email"):"",C=localStorage.getItem("email")?localStorage.getItem("userId"):"",E=localStorage.getItem("img")?localStorage.getItem("img"):"",A=Object(i.f)(),U=localStorage.getItem("token"),D="".concat(f.baseUrl,"/twits"),_=function(){u(!l)},F=function(){var e=Object(j.a)(d.a.mark((function e(t,a,s){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:t,url:a,data:s,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(U)}}).catch((function(e){var t,a;e.isAxiosError&&r(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)}));case 2:O(!p);case 3:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),R=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,m()({method:"GET",url:"".concat(D),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(U)}}).catch((function(e){var t,a;e.isAxiosError&&r(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)}));case 4:(t=e.sent)&&t.data.success?(v({type:"SET_TWIT_DATA",data:t.data.data}),localStorage.setItem("twits",JSON.stringify(t.data.data.map((function(e){return e.formActive=!1,e}))))):(r("Please check your network"),v({type:"SET_TWIT_DATA",data:JSON.parse(localStorage.getItem("twits"))}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:"GET",url:"".concat(f.baseUrl,"/auth/users"),headers:{"Content-Type":"application/json"}}).catch((function(e){var t,a;e.isAxiosError&&r(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)}));case 2:(t=e.sent)&&t.data.success?(v({type:"SET_USER_COUNT",data:t.data.data.count}),localStorage.setItem("userCount",t.data.data.count)):(r("Error found"),r("Please check your network"),v({type:"SET_USER_COUNT",data:JSON.parse(localStorage.getItem("userCount"))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){S.map((function(e){return e.formActive=!1,e}))};return Object(s.useEffect)((function(){return localStorage.setItem("hash",window.location.hash),U?(W(),function(){}):A.push("/")}),[]),Object(s.useEffect)((function(){return U&&R(),function(){}}),[p]),Object(s.useEffect)((function(){return U&&setTimeout((function(){var e;localStorage.getItem("hash");e=window.location.hash.replace("#","");var t=document.getElementById(e);t&&t.scrollIntoView()}),0),function(){}}),[]),Object(w.jsxs)("div",{style:{fontFamily:"Roboto",fontWeight:"600",height:"90vh"},className:"mb-5 p-3 m-auto flex justify-center md:w-1/2",children:[Object(w.jsxs)("span",{style:{cursor:"pointer",borderRadius:"50%"},className:"text-xs mb-3 fixed bottom-7 right-2 bg-green-500 px-5 py-3 text-white",children:[Object(w.jsx)(P.a,{size:25,onClick:_}),"post"]}),l&&Object(w.jsx)(L,{error:a,showForm:_,sync:p,setSync:O}),!l&&Object(w.jsxs)("div",{children:[Object(w.jsxs)("p",{className:"text-center mb-2",children:[Object(w.jsxs)("span",{style:{fontFamily:"Architects Daughter",fontSize:"1.8em"},className:"text-purple-900 font-bold italic",children:["Buzz",Object(w.jsx)("br",{})]}),Object(w.jsx)("span",{style:{fontSize:"1em"},children:" Feel free, express yourself & network "})]}),Object(w.jsxs)("div",{className:"py-2 px-2 rounded mb-4 flex justify-between border-3 border shadow-md",children:["null"!==E?Object(w.jsx)("span",{className:"cursor-pointer",onClick:function(e){return A.push("/".concat(T.split("@")[0]))},children:a?Object(w.jsx)(I.b,{size:25}):Object(w.jsx)("img",{src:E,alt:"Profile",style:{width:"30px",height:"30px",borderRadius:"50%"}})}):Object(w.jsx)("span",{className:"text-left cursor-pointer",children:Object(w.jsx)(I.b,{size:25,onClick:function(e){return A.push("/".concat(T.split("@")[0]))}})}),k>0&&Object(w.jsxs)("span",{className:"text-left flex cursor-pointer",onClick:function(e){return A.push("people")},children:[Object(w.jsx)(z.b,{size:30}),Object(w.jsx)("span",{className:"pt-1 pl-1",children:k})]}),Object(w.jsx)("span",{style:{cursor:"pointer"},className:"text-right",onClick:function(){return localStorage.removeItem("token"),void A.push("/")},children:Object(w.jsx)(N,{})})]}),a&&Object(w.jsx)("div",{style:{fontFamily:"Roboto",backgroundColor:"white",fontWeight:"bold"},className:"text-red-500 text-center py-2 m-1 rounded",children:"Please check your network !"}),S.length<1?Object(w.jsx)("div",{className:"flex justify-center items-center pt-8",children:Object(w.jsx)(x.a,{type:"Bars",color:"#00bfff",height:80,width:80})}):Object(w.jsx)("div",{className:"",children:S.sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})).map((function(e,t){return Object(w.jsx)($,{twit:e,email:T,userId:C,apiCallHook:F,baseUrl:f.baseUrl,frontendUrl:f.frontendUrl,sync:p,setSync:O,showForm:_,formActive:l,checkOpenForms:B,error:a},t)}))})]})]})}var $=function(e){var t,a=e.twit,r=a.id,n=(a.title,a.text),c=a.imageUrl,l=a.twits,u=a.likes,b=a.comments,m=a.createdAt,h=a.updatedAt,x=e.email,p=e.userId,f=e.apiCallHook,O=e.baseUrl,g=e.frontendUrl,v=e.sync,y=e.setSync,S=(e.checkOpenForms,e.error),N=Object(s.useState)(!1),k=Object(o.a)(N,2),T=k[0],C=k[1],z=Object(s.useState)(!1),P=Object(o.a)(z,2),F=P[0],R=P[1],L=Object(s.useState)(!1),B=Object(o.a)(L,2),H=B[0],G=B[1],Q=Object(s.useState)(!1),M=Object(o.a)(Q,2),q=M[0],Y=M[1],K=Object(s.useState)(n),V=Object(o.a)(K,2),Z=V[0],$=V[1],te=Object(s.useState)(!1),ae=Object(o.a)(te,2),se=ae[0],re=ae[1],ne=Object(s.useState)(!1),ce=Object(o.a)(ne,2),oe=ce[0],le=ce[1],ie=Object(s.useState)(!1),ue=Object(o.a)(ie,2),de=ue[0],je=ue[1],be=Object(s.useState)(!1),me=Object(o.a)(be,2),he=me[0],xe=me[1],pe=Object(s.useState)(!1),fe=Object(o.a)(pe,2),Oe=fe[0],ge=fe[1],ve=Object(s.useState)({}),we=Object(o.a)(ve,2),ye=we[0],Se=we[1],Ne=Object(i.f)(),ke=b.filter((function(e){return!e.isDeleted}));n.search("http")>=0&&(t=n.split(" ").filter((function(e){return e.search("http")>=0}))[0].split("\n").filter((function(e){return e.search("http")>=0})),n=n.replace(t,""));var Te=!!u.filter((function(e){return e.userlikes.email===x&&!0===e.isLiked})).length,Ce=function(){je(!de)},Ee=function(){re(!se),$(n)},Ie=u.filter((function(e){return e.isLiked})).length,Ae=function(){C(!T),e.twit.formActive=!T},ze=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("clipboard"in navigator)){e.next=7;break}return le(!0),e.next=4,navigator.clipboard.writeText(t);case 4:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)("div",{id:"".concat(r),style:{fontSize:"1.1em"},className:"shadow-lg border border-gray-200 rounded px-4 pb-4 mb-4",children:[Object(w.jsxs)("p",{className:"flex justify-between mb-2",children:[Object(w.jsx)("span",{}),Object(w.jsx)("span",{className:oe?"mr-2 mb-1 text-xs self-end":"mr-2 mb-1 invisible text-xs self-end",children:"copied"})]}),Object(w.jsxs)("span",{className:"text-xs mb-2 flex justify-between",children:[Object(w.jsx)(E.a,{fromNow:!0,children:m}),Object(w.jsxs)("span",{className:"flex",children:[x===l.email&&!se&&Object(w.jsx)("span",{className:"cursor-pointer mr-2 text-black p-2 -mt-2 rounded-full",onClick:function(){return Ee()},children:Object(w.jsx)(_.a,{size:15})}),Object(w.jsx)("span",{className:oe?"flex-col rounded-full p-2 text-white bg-blue-900 cursor-pointer -mt-2 mr-1":"rounded-full p-2 cursor-pointer -mt-2 mr-1",onClick:function(){return ze("".concat(g,"/#").concat(r)),void setTimeout((function(){le(!1)}),1e3)},children:Object(w.jsx)(U.a,{size:15})})]})]}),se&&Object(w.jsxs)("div",{className:"mb-5",children:[Object(w.jsx)("textarea",{className:"border-gray-200 border-2 p-2 mb-2 rounded bg-white-300 focus:outline-none text-black",style:{width:"100%"},cols:3,rows:4,maxLength:550,value:Z,onChange:function(e){$(e.target.value)},required:!0}),Object(w.jsx)("br",{}),F?Object(w.jsx)(ee,{height:20,width:20,color:"#00bfff"}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("span",{className:"text-xs cursor-pointer bg-gray-500 p-2 m-2 text-white rounded hover:bg-gray-400",onClick:function(){return Ee()},children:"Cancel"}),Object(w.jsx)("span",{className:"text-xs cursor-pointer bg-green-600 p-2 mb-2 text-white rounded hover:bg-green-400 hover:text-black",onClick:function(){return f("PATCH","".concat(O,"/twits/").concat(r),{text:Z}),R(!0),void setTimeout((function(){R(!1),re(!1)}),1e3)},children:"Update Story"})]})]}),!se&&Object(w.jsxs)("div",{style:{fontSize:"0.9em",lineHeight:2},className:"mt-2",children:[n.length>100?n.slice(0,100):n,t&&Object(w.jsx)("a",{className:"underline",href:t,target:"_blank",children:"link"}),de?Object(w.jsxs)(w.Fragment,{children:[n.slice(100),Object(w.jsx)(w.Fragment,{children:n.length>100&&Object(w.jsxs)("span",{style:{color:"gray",fontWeight:"0.3em"},className:"cursor-pointer",onClick:Ce,children:["...",Object(w.jsx)("span",{className:"underline",children:"See less"})]})})]}):Object(w.jsx)(w.Fragment,{children:n.length>100&&Object(w.jsxs)("span",{style:{color:"gray",fontWeight:"0.3em"},className:"cursor-pointer",onClick:Ce,children:["...",Object(w.jsx)("span",{className:"underline",children:"See more"})]})}),Object(w.jsx)("br",{}),new Date(h).getTime()-new Date(m).getTime()>0&&Object(w.jsxs)("span",{className:"text-xs",children:["Updated ",Object(w.jsx)(E.a,{fromNow:!0,children:h})]})]}),Object(w.jsx)("span",{children:c&&Object(w.jsx)("img",{style:{width:"100%",maxHeight:"18em"},src:c,alt:"imgurl",className:"rounded max-h-72 cursor-pointer"})}),Object(w.jsx)(J,{show:Oe,handleShow:function(e){console.log(e),ge(!Oe),Se(e)},sourceData:ye}),(Ie>0||b.length>0)&&Object(w.jsxs)("div",{className:"flex text-xs p-1 px-3 mt-1 -mx-4",children:[Ie>0&&Object(w.jsxs)("span",{className:"mr-2",children:[Ie," "," ",Ie>1?"likes":"like"," "]}),ke.length>0&&Object(w.jsxs)("span",{className:"",children:[ke.length," "," ",ke.length>1?"comments":"comment"," "]})]}),Object(w.jsxs)("div",{style:{fontSize:"0.9em"},className:"justify-between text-gray-800 flex mt-1 pt-2 pl-3 pr-3 -mb-3 -ml-5 -mr-5 pt-1 border-t-2",children:[Object(w.jsxs)("span",{className:"mx-1 flex cursor-pointer",onClick:function(e){return Ne.push("/".concat(l.username))},children:[l.imageUrl?Object(w.jsx)("span",{className:"mr-1",children:S?Object(w.jsx)(I.b,{size:18}):Object(w.jsx)("img",{src:l.imageUrl,alt:"Profile",style:{width:"20px",height:"20px",borderRadius:"50%"}})}):Object(w.jsx)(I.b,{size:18}),x===l.email?"Me":l.username]}),Object(w.jsxs)("span",{className:"flex",children:[Object(w.jsx)("span",{style:{cursor:"pointer"},className:"mx-2 flex",onClick:function(){return G(!0),setTimeout((function(){G(!1)}),1e3),void f("POST","".concat(O,"/likes/like/").concat(r))},children:H?Object(w.jsx)(ee,{height:20,width:18,color:"#00bfff"}):Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("span",{className:Te?"text-blue-500":"text-gray-500",children:Object(w.jsx)(D.a,{size:20})})})}),Object(w.jsx)("span",{style:{cursor:"pointer"},className:"mx-2 flex text-gray-500",onClick:function(){Ae()},children:Object(w.jsx)(I.a,{size:18})}),x===l.email&&Object(w.jsx)("span",{style:{cursor:"pointer"},className:"mx-2 flex hover:text-red-800",onClick:function(){return Y(!0),setTimeout((function(){Y(!1)}),1e3),void f("DELETE","".concat(O,"/twits/").concat(r))},children:q?Object(w.jsx)(ee,{height:20,width:20,color:"#00bfff"}):Object(w.jsx)(A.b,{size:20,color:"red"})})]})]}),T&&Object(w.jsx)(W,{twitId:r,showCommentForm:Ae,sync:v,setSync:y}),ke.length>0&&Object(w.jsx)("div",{className:"mt-5",children:Object(w.jsx)("span",{className:"text-xs mt-4 -mb-2 cursor-pointer shadow-sm border-2 p-2",onClick:function(){xe(!he)},children:he?"Hide Comments":"View Comments"})}),he&&Object(w.jsx)(w.Fragment,{children:b.length>0&&Object(w.jsx)("div",{className:"mt-4 rounded",children:ke.sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})).map((function(e,t){return Object(w.jsx)(X,{comment:e,apiCallHook:f,email:x,userId:p,error:S},t)}))})})]})},X=function(e){var t=e.comment,a=t.id,r=t.text,n=t.usercomments,c=t.likecomments,l=t.createdAt,u=e.email,d=e.userId,j=e.apiCallHook,b=e.error,m=Object(s.useState)(!1),h=Object(o.a)(m,2),x=h[0],p=h[1],O=Object(s.useState)(!1),g=Object(o.a)(O,2),v=g[0],y=g[1],S=Object(s.useState)(!1),N=Object(o.a)(S,2),k=N[0],T=N[1],C=Object(i.f)(),z=function(){T(!k)},U=!!c.filter((function(e){return e.userId===d&&!0===e.isLiked})).length,_=null===c||void 0===c?void 0:c.filter((function(e){return e.isLiked})).length;return Object(w.jsxs)("div",{className:"border border-gray-200 shadow-lg mb-2 p-1 rounded",children:[Object(w.jsx)("span",{className:"text-xs mb-2 ml-2",children:Object(w.jsx)(E.a,{fromNow:!0,children:l})}),Object(w.jsxs)("p",{style:{fontSize:"0.9em",lineHeight:2},className:"p-2 font-semibold",children:[r.length>100?r.slice(0,100):r,k?Object(w.jsxs)(w.Fragment,{children:[r.slice(100),Object(w.jsx)(w.Fragment,{children:r.length>100&&Object(w.jsxs)("span",{style:{color:"gray",fontWeight:"0.3em"},className:"cursor-pointer",onClick:z,children:["...",Object(w.jsx)("span",{className:"underline",children:"See less"})]})})]}):Object(w.jsx)(w.Fragment,{children:r.length>100&&Object(w.jsxs)("span",{style:{color:"gray",fontWeight:"0.3em"},className:"cursor-pointer",onClick:z,children:["...",Object(w.jsx)("span",{className:"underline",children:"See more"})]})})]}),_>0&&Object(w.jsx)("div",{className:"flex text-xs p-1 px-3 mt-1 -mx-1",children:_>0&&Object(w.jsxs)("span",{className:"mr-2",children:[_," "," ",_>1?"likes":"like"," "]})}),Object(w.jsxs)("div",{style:{fontSize:"0.9em"},className:"flex justify-between text-gray-800 flex mt-1 mb-1 pt-2 -ml-1 -mr-1 border-t-2 border-gray-200",children:[Object(w.jsxs)("span",{className:"mx-1 flex cursor-pointer",onClick:function(e){return C.push("/".concat(n.username))},children:[n.imageUrl?Object(w.jsx)("span",{className:"mr-1",children:b?Object(w.jsx)(I.b,{size:20}):Object(w.jsx)("img",{src:n.imageUrl,alt:"Profile",style:{width:"20px",height:"20px",borderRadius:"50%"}})}):Object(w.jsx)(I.b,{size:20}),u===n.email?"Me":n.username]}),Object(w.jsxs)("span",{className:"flex",children:[Object(w.jsx)("span",{style:{cursor:"pointer"},className:"mx-2 flex",onClick:function(){return p(!0),setTimeout((function(){p(!1)}),1e3),void j("POST","".concat(f.baseUrl,"/likecomments/like/").concat(a))},children:x?Object(w.jsx)(ee,{height:20,width:18,color:"#00bfff"}):Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("span",{className:U?"text-blue-500":"text-gray-500",children:Object(w.jsx)(D.a,{size:20})})})}),u===n.email&&Object(w.jsx)("span",{style:{cursor:"pointer"},className:"mx-2 flex hover:text-red-800",onClick:function(){return y(!0),setTimeout((function(){p(!1)}),1e3),void j("DELETE","".concat(f.baseUrl,"/comments/").concat(a))},children:v?Object(w.jsx)(ee,{height:20,width:20,color:"#00bfff"}):Object(w.jsx)(A.b,{size:20,color:"red"})})]})]})]})},ee=function(e){var t=e.height,a=e.width,s=e.color;return Object(w.jsx)("span",{className:"m-auto mr-4",children:Object(w.jsx)(x.a,{type:"ThreeDots",color:s,height:t,width:a})})},te=a(45);a(118);function ae(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],n=Object(s.useState)({}),c=Object(o.a)(n,2),l=c[0],u=c[1],b=Object(s.useState)(!1),h=Object(o.a)(b,2),p=h[0],O=h[1],g=Object(s.useState)(!1),v=Object(o.a)(g,2),y=v[0],S=v[1],N=Object(s.useState)(0),k=Object(o.a)(N,2),T=k[0],C=k[1],U=Object(s.useState)(0),D=Object(o.a)(U,2),_=D[0],P=D[1],F=Object(s.useState)(0),R=Object(o.a)(F,2),L=R[0],W=R[1],B=Object(s.useState)(!1),J=Object(o.a)(B,2),H=J[0],G=J[1],Q=Object(s.useState)(!1),M=Object(o.a)(Q,2),q=M[0],Y=M[1],Z=Object(i.g)().user,$=Object(i.f)(),X=localStorage.getItem("email")?localStorage.getItem("email"):"",ae=localStorage.getItem("token"),ne=K.getState,ce=K.dispatch,oe=(ne(),Object(V.b)((function(e){return e}))),le=oe.twits,ie=function(){var e=Object(j.a)(d.a.mark((function e(t,a,s){var n,c,o,l,i,j,b,h,x,p,f,g,v;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:t,url:a,data:s,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(ae)}}).catch((function(e){var t,a;e.isAxiosError&&r(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)}));case 2:(n=e.sent)&&n.data.success?"GET"===t?(ce({type:"SET_USERS_DATA",data:n.data.data.users}),localStorage.setItem("usersData",JSON.stringify(n.data.data.users)),localStorage.setItem("users",JSON.stringify(n.data.data.users)),c=le.filter((function(e){return e.twits.username===Z})),o=n.data.data.users.filter((function(e){return e.username===Z}))[0],l=o.followers.filter((function(e){return e.follower.isFollowed})),i=o.following.filter((function(e){return e.follower.isFollowed})),j=l.filter((function(e){return e.email===X})).length>0,b=i.filter((function(e){return e.email===X})).length>0,u(o),C(l.length),P(i.length),O(j),S(b),W(c.length),r("")):(Object(te.b)("updated successfully!"),Y(!q)):(r("Please check your network"),ce({type:"SET_USERS_DATA",data:JSON.parse(localStorage.getItem("usersData"))}),h=le.filter((function(e){return e.twits.username===Z})),x=JSON.parse(localStorage.getItem("usersData")).filter((function(e){return e.username===Z}))[0],p=null===x||void 0===x?void 0:x.followers.filter((function(e){return e.follower.isFollowed})),f=null===x||void 0===x?void 0:x.following.filter((function(e){return e.follower.isFollowed})),g=(null===p||void 0===p?void 0:p.filter((function(e){return e.email===X})).length)>0,v=(null===f||void 0===f?void 0:f.filter((function(e){return e.email===X})).length)>0,u(x),C(null===p||void 0===p?void 0:p.length),P(null===f||void 0===f?void 0:f.length),O(g),S(v),W(null===h||void 0===h?void 0:h.length));case 4:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),ue=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ae){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,m()({method:"GET",url:"".concat(f.baseUrl,"/twits"),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(ae)}}).catch((function(e){var t,a;e.isAxiosError&&r(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)}));case 4:(t=e.sent)&&t.data.success?(ce({type:"SET_TWIT_DATA",data:t.data.data}),localStorage.setItem("twits",JSON.stringify(t.data.data.map((function(e){return e.formActive=!1,e}))))):(r("Please check your network"),ce({type:"SET_TWIT_DATA",data:JSON.parse(localStorage.getItem("twits"))}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){return ie("GET","".concat(f.baseUrl,"/auth/users")),function(){}}),[q]),Object(s.useEffect)((function(){return ae&&ue(),function(){}}),[]),Object(w.jsxs)("div",{id:"".concat(Z),style:{fontSize:"1.1em"},className:"shadow-lg border border-gray-200 h-full rounded p-2 mb-4 m-auto justify-center md:w-1/2",children:[Object(w.jsxs)("p",{className:"flex justify-between mb-6 border-3 border shadow-md p-2",children:[Object(w.jsx)("span",{className:"cursor-pointer",onClick:function(){return $.goBack()},children:Object(w.jsx)(z.a,{size:30})}),Object(w.jsx)("span",{className:"flex cursor-pointer",onClick:function(e){return $.push("people")},children:Object(w.jsx)(z.b,{size:35})}),Object(w.jsx)("span",{className:"bg-black-400 cursor-pointer",onClick:function(){return $.push("/twits")},children:Object(w.jsx)(A.a,{size:28})})]}),Object(w.jsx)(te.a,{}),l.username?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"mb-1 flex justify-between",children:[Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(re,{imgUrl:null===l||void 0===l?void 0:l.imageUrl,setImgUrl:!0,error:a})}),Object(w.jsxs)("div",{className:"ml-2",children:[Object(w.jsx)("div",{children:Object(w.jsx)("span",{className:"text-xl font-semibold ml-2 mb-2",children:null===l||void 0===l?void 0:l.username})}),Object(w.jsxs)("div",{className:"flex justify-between mt-3 p-1 rounded bg-gray-200",children:[Object(w.jsxs)("span",{className:"flex-col flex text-center p-2 cursor-pointer mr-3",onClick:function(e){return $.push("/follower/".concat(Z))},children:[Object(w.jsx)("span",{className:"text-lg font-bold",children:T})," ",Object(w.jsx)("span",{className:"text-xs",children:T>1?"followers":"follower"})]}),Object(w.jsxs)("span",{className:"flex-col flex text-center p-2 cursor-pointer mr-3",onClick:function(e){return $.push("/following/".concat(Z))},children:[Object(w.jsx)("span",{className:"text-lg font-bold",children:_}),Object(w.jsx)("span",{className:"text-xs",children:" following"})]}),Object(w.jsxs)("span",{className:"flex-col flex text-center p-2 cursor-pointer mr-3",onClick:function(e){return $.push("/twits/".concat(Z))},children:[Object(w.jsx)("span",{className:"text-lg font-bold",children:L}),Object(w.jsxs)("span",{className:"text-xs",children:[" ",L>1?"posts":"post"]})]})]})]})]}),a&&Object(w.jsx)("div",{style:{backgroundColor:"white",fontWeight:"bold"},className:"text-red-500 text-center py-2 mb-5 rounded",children:a}),Object(w.jsxs)("span",{className:"text-sm mt-3 mb-4 flex justify-between",children:[Object(w.jsxs)("span",{children:[Object(w.jsxs)("span",{className:"",children:["Joined: ",Object(w.jsx)(E.a,{fromNow:!0,children:null===l||void 0===l?void 0:l.createdAt})]}),Object(w.jsx)("br",{}),y&&Object(w.jsx)("span",{className:"text-xs text-white bg-gray-500 rounded p-1 mb-3",children:"Follows you"})]}),Object(w.jsx)("span",{className:"flex",children:X!==(null===l||void 0===l?void 0:l.email)&&Object(w.jsx)(w.Fragment,{children:H?Object(w.jsx)(ee,{height:20,width:20,color:""}):Object(w.jsxs)("span",{className:"flex flex-col",children:[Object(w.jsx)("span",{className:"invisible mt-2 mr-1"}),Object(w.jsx)("span",{className:"text-white bg-blue-900 rounded hover:bg-blue-400 p-1 cursor-pointer -mt-2 mr-1",onClick:function(){return G(!0),setTimeout((function(){G(!1)}),1e3),void(p?ie("PATCH","".concat(f.baseUrl,"/followers/unfollow"),{followerId:null===l||void 0===l?void 0:l.id}):ie("POST","".concat(f.baseUrl,"/followers/follow"),{followerId:null===l||void 0===l?void 0:l.id}))},children:p?"Following":"Follow"})]})})})]}),X===(null===l||void 0===l?void 0:l.email)&&Object(w.jsx)("span",{className:"text-sm text-white bg-gray-900 rounded hover:bg-gray-400 p-2 cursor-pointer mr-3 mt-5",onClick:function(e){return $.push("/chats/".concat(Z))},children:"Messages"}),Object(w.jsx)(se,{email:X,userData:l,apiCallHook:ie})]}):Object(w.jsx)("div",{className:"flex justify-center items-center pt-8",children:Object(w.jsx)(x.a,{type:"Bars",color:"#00bfff",height:80,width:80})}),Object(w.jsx)("div",{className:"flex",children:Object(w.jsx)("span",{className:"m-auto",children:Object(w.jsx)(I.b,{size:300})})})]})}var se=function(e){var t=e.userData,a=e.email,r=e.apiCallHook,n=t.name,c=t.bio,l=t.location,i=t.mobile,u=t.dob,d=Object(s.useState)(!1),j=Object(o.a)(d,2),b=j[0],m=j[1],h=Object(s.useState)(n),x=Object(o.a)(h,2),p=x[0],O=x[1],g=Object(s.useState)(c),v=Object(o.a)(g,2),y=v[0],S=v[1],N=Object(s.useState)(l),k=Object(o.a)(N,2),T=k[0],C=k[1],E=Object(s.useState)(u),I=Object(o.a)(E,2),A=I[0],z=I[1],U=Object(s.useState)(i),D=Object(o.a)(U,2),P=D[0],F=D[1],R=function(){m(!b),b&&r("PATCH","".concat(f.baseUrl,"/auth/update"),{name:p,bio:y,location:T,dob:A,mobile:P})},L=function(e){"name"===e.target.name?O(e.target.value):"bio"===e.target.name?S(e.target.value):"location"===e.target.name?C(e.target.value):"date-of-birth"===e.target.name?z(e.target.value):F(e.target.value)};return Object(w.jsxs)("div",{className:"text-md border border-t-1 shadow-md rounded mt-2",children:[Object(w.jsxs)("div",{className:"flex mt-2 justify-between",children:[Object(w.jsx)("span",{className:"ml-2 underline",children:"Profile Information"}),a===(null===t||void 0===t?void 0:t.email)&&Object(w.jsxs)(w.Fragment,{children:[!b&&Object(w.jsxs)("span",{className:" flex cursor-pointer text-black p-2 rounded-full justify-items-end",onClick:function(){return R()},children:[Object(w.jsx)(_.a,{size:18})," ",Object(w.jsx)("span",{className:"text-sm ml-1",children:"Edit"})]}),b&&Object(w.jsxs)("span",{className:"flex cursor-pointer text-black p-2 rounded-full",onClick:function(){return R()},children:[Object(w.jsx)(_.b,{size:18}),Object(w.jsx)("span",{className:"text-sm ml-1",children:"Update"})]})]})]}),Object(w.jsx)("label",{htmlFor:"Name",className:"px-2 font-bold",children:" Name"}),Object(w.jsx)("br",{}),b&&Object(w.jsx)("input",{type:"text",name:"name",value:p||n,style:{width:"16em"},onChange:L,placeholder:"Your name",className:"p-1 my-1 rounded"}),!b&&Object(w.jsx)("div",{className:"px-2",children:p||(n||"Not available")}),Object(w.jsx)("br",{}),Object(w.jsx)("label",{htmlFor:"Bio",className:"px-2 font-bold",children:"Bio"}),Object(w.jsx)("br",{}),b&&Object(w.jsx)("textarea",{type:"textarea",name:"bio",value:y||c,rows:4,cols:3,style:{width:"18em",height:"8em"},onChange:L,placeholder:"Tell the world briefly about yourself",className:"text-sm p-1 my-1 rounded"}),!b&&Object(w.jsx)("div",{className:"px-2",children:y||(c||"Not available")}),Object(w.jsx)("br",{}),Object(w.jsx)("label",{htmlFor:"Location",className:"px-2 font-bold",children:" Location"}),Object(w.jsx)("br",{}),b&&Object(w.jsx)("input",{type:"text",name:"location",value:T||l,style:{width:"16em"},onChange:L,placeholder:"Share your location",className:"p-1 my-1 rounded"}),!b&&Object(w.jsx)("div",{className:"px-2",children:T||(l||"Not available")}),Object(w.jsx)("br",{}),Object(w.jsx)("label",{htmlFor:"Date of Birth",className:"px-2 font-bold",children:" Date of Birth"}),Object(w.jsx)("br",{}),b&&Object(w.jsx)("input",{type:"date",name:"date-of-birth",value:A||u,style:{width:"16em"},onChange:L,placeholder:"Date of Birth",className:"p-1 my-1 rounded"}),!b&&Object(w.jsx)("div",{className:"px-2",children:A||(u||"Not available")}),Object(w.jsx)("br",{}),Object(w.jsx)("label",{htmlFor:"Phone Number",className:"px-2 font-bold",children:" Phone Number"}),Object(w.jsx)("br",{}),b&&Object(w.jsx)("input",{name:"mobile",value:P||i,type:"tel",pattern:"/^[0]\\d{10, 12}$/",style:{width:"16em"},onChange:L,placeholder:"Drop your mobile number ",className:"p-1 my-1 rounded"}),!b&&Object(w.jsx)("div",{className:"px-2",children:P||(i||"Not available")})]})};function re(e){var t=e.imgUrl,a=(e.imageUrl,e.setImgUrl,e.error),r=Object(s.useState)(""),n=Object(o.a)(r,2),c=(n[0],n[1]),l=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c("loading"),a=t.target.files[0],s=new FormData,"https://api.cloudinary.com/v1_1/thevetdoctor/image/upload",s.append("file",a),s.append("upload_preset","zunt8yrw"),console.log("imgLink.secure_url"),c("done");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsx)("div",{className:"flex p-1 rounded ml-1",children:Object(w.jsxs)("label",{className:"-ml-2 -mr-5 cursor-pointer flex",children:[t?Object(w.jsx)(w.Fragment,{children:a?Object(w.jsx)("span",{className:"flex bg-gray-300 p-3 rounded",children:Object(w.jsx)(I.b,{size:80})}):Object(w.jsx)("img",{src:t,alt:"avatar",style:{width:"6em",height:"6em",borderRadius:"10%"},className:"rounded -mr-2"})}):Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("span",{className:"flex bg-gray-300 p-3 rounded",children:Object(w.jsx)(I.b,{size:80})})}),Object(w.jsx)("input",{type:"file",placeholder:"",accept:"image/*;capture",className:"hidden",onChange:function(e){return l(e)}})]})})}function ne(e){var t=e.searchQuery,a=e.setSearchQuery,s=e.handleChange;return Object(w.jsxs)("div",{className:"flex mb-2 rounded",children:[Object(w.jsx)("div",{className:"flex-grow",children:Object(w.jsx)("input",{type:"text",name:"top-search",value:t,placeholder:"Search friends",required:!0,onChange:s,className:"p-2 text-dark-3 text-md rounded font-semibold text-center bg-white-200 w-full outline-none"})}),t&&Object(w.jsx)("div",{className:"flex text-white font-bold bg-blue-900 hover:bg-blue-500 cursor-pointer px-3 rounded items-center",onClick:function(){return a("")},children:"Clear"})]})}function ce(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],n=Object(s.useState)(""),c=Object(o.a)(n,2),l=c[0],u=c[1],b=Object(s.useState)({}),h=Object(o.a)(b,2),p=(h[0],h[1]),O=Object(s.useState)(!1),g=Object(o.a)(O,2),v=(g[0],g[1],Object(s.useState)(!1)),y=Object(o.a)(v,2),S=(y[0],y[1],Object(s.useState)(0)),N=Object(o.a)(S,2),k=(N[0],N[1],Object(s.useState)(0)),T=Object(o.a)(k,2),C=(T[0],T[1],Object(s.useState)(!1)),E=Object(o.a)(C,2),U=(E[0],E[1],Object(s.useState)(!1)),D=Object(o.a)(U,2),_=D[0],P=D[1],F=Object(i.g)().user,R=Object(i.f)(),L=K.getState,W=K.dispatch,B=(L(),Object(V.b)((function(e){return e}))),J=(B.twits,B.users,B.peopleData),H=B.searchData,G=(B.networkStatus,localStorage.getItem("email")?localStorage.getItem("email"):""),Q=localStorage.getItem("token"),M=function(){var e=Object(j.a)(d.a.mark((function e(t,a,s){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:t,url:a,data:s,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Q)}}).catch((function(e){var t,a;e.isAxiosError&&r(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)}));case 2:(n=e.sent)&&n.data.success?"GET"===t?(p(n.data.data.user),W({type:"SET_PEOPLE_DATA",data:n.data.data.users}),localStorage.setItem("peopleData",JSON.stringify(n.data.data.users)),W({type:"SET_SEARCH_DATA",data:n.data.data.users}),localStorage.setItem("searchData",JSON.stringify(n.data.data.users)),localStorage.setItem("users",JSON.stringify(n.data.data.users)),r("")):P(!_):(r("Please check your network"),W({type:"SET_PEOPLE_DATA",data:JSON.parse(localStorage.getItem("peopleData"))}),W({type:"SET_SEARCH_DATA",data:JSON.parse(localStorage.getItem("peopleData"))}));case 4:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){return M("GET","".concat(f.baseUrl,"/auth/users")),W({type:"SET_SEARCH_DATA",data:JSON.parse(localStorage.getItem("peopleData"))}),function(){}}),[_]),Object(s.useEffect)((function(){return function(){var e=J.filter((function(e){return e.username.toLowerCase().indexOf(l.toLowerCase())>=0}));W({type:"SET_SEARCH_DATA",data:e}),localStorage.setItem("searchData",JSON.stringify(e))}(),function(){}}),[l]),Object(w.jsxs)("div",{id:"".concat(F),style:{fontSize:"1.1em"},className:"shadow-lg border border-gray-200 h-full rounded p-2 mb-4 m-auto md:w-1/2",children:[Object(w.jsxs)("p",{className:"flex justify-between p-2 mb-6 border-3 border shadow-md",children:[Object(w.jsx)("span",{className:"cursor-pointer text-left",onClick:function(){return R.goBack()},children:Object(w.jsx)(z.a,{size:30})}),Object(w.jsx)("span",{style:{fontFamily:"Roboto Slab"},className:"text-xl font-bold self-center",children:"People"}),Object(w.jsx)("span",{className:"text-left bg-black-400 cursor-pointer hover:invisible",onClick:function(){return R.push("/twits")},children:Object(w.jsx)(A.a,{size:28})})]}),a&&Object(w.jsx)("div",{style:{backgroundColor:"white",fontWeight:"bold"},className:"text-red-500 text-center py-2 m-1 rounded",children:"Please check your network !"}),Object(w.jsx)("span",{className:"text-sm mt-3 mb-5"}),!J.length>0?Object(w.jsx)("div",{className:"flex justify-center items-center pt-8",children:Object(w.jsx)(x.a,{type:"Bars",color:"#00bfff",height:80,width:80})}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(ne,{searchQuery:l,handleChange:function(e){var t=e.target.value;u(t)},setSearchQuery:u}),Object(w.jsx)("div",{className:"flex flex-col text-md",children:H.sort((function(e,t){return e.email.localeCompare(t.email)})).map((function(e,t){return Object(w.jsx)("span",{className:"bg-gray-200 rounded hover:bg-gray-400 p-2 mb-2 cursor-pointer",onClick:function(){return R.push("/".concat(e.username))},children:Object(w.jsxs)("span",{className:"mx-2 flex cursor-pointer",onClick:function(t){return R.push("/".concat(e.username))},children:[e.imageUrl?Object(w.jsx)("span",{className:"mr-2",children:a?Object(w.jsx)(I.b,{size:"1.5em",color:"black"}):Object(w.jsx)("img",{src:e.imageUrl,alt:"Profile",style:{width:"1.5em",height:"1.5em",borderRadius:"50%"}})}):Object(w.jsx)("span",{className:"mr-2 text-black",children:Object(w.jsx)(I.b,{size:"1.5em"})}),G===e.email?"Me":e.username]})},t)}))})]}),Object(w.jsx)("div",{className:"flex",children:Object(w.jsx)("span",{className:"m-auto",children:Object(w.jsx)(z.b,{size:300})})})]})}function oe(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),a=t[0],r=(t[1],Object(s.useState)("")),n=Object(o.a)(r,2),c=n[0],l=n[1],u=Object(s.useState)({}),d=Object(o.a)(u,2),j=d[0],b=d[1],m=Object(s.useState)([]),h=Object(o.a)(m,2),x=h[0],p=h[1],f=Object(s.useState)([]),O=Object(o.a)(f,2),g=O[0],v=O[1],y=Object(s.useState)(!1),S=Object(o.a)(y,2),N=(S[0],S[1],Object(s.useState)(!1)),k=Object(o.a)(N,2),T=(k[0],k[1],Object(i.g)().user),C=Object(i.f)(),E=localStorage.getItem("email")?localStorage.getItem("email"):"";localStorage.getItem("token");return Object(s.useEffect)((function(){return function(){var e=g.filter((function(e){return e.username.toLowerCase().indexOf(c.toLowerCase())>=0}));p(e)}(),function(){}}),[c]),Object(s.useEffect)((function(){var e=JSON.parse(localStorage.getItem("users")).filter((function(e){return e.username===T}))[0],t=e.followers.filter((function(e){return e.follower.isFollowed}));b(e),p(t),v(t)}),[]),Object(w.jsxs)("div",{id:"".concat(T),style:{fontSize:"1.1em"},className:"shadow-lg border border-gray-200 h-full rounded p-2 mb-4 md:w-1/2 m-auto",children:[Object(w.jsxs)("p",{className:"flex justify-between mb-6 p-2 border-3 border shadow-md",children:[Object(w.jsx)("span",{className:"cursor-pointer",onClick:function(){return C.goBack()},children:Object(w.jsx)(z.a,{size:30})}),Object(w.jsx)("span",{className:"text-xl font-bold -ml-8",children:"Followers"}),Object(w.jsx)("span",{className:"text-left bg-black-400 cursor-pointer hover:invisible",onClick:function(){return C.push("/twits")},children:Object(w.jsx)(A.a,{size:28})})]}),a&&Object(w.jsx)("div",{style:{backgroundColor:"white",fontWeight:"bold"},className:"text-red-500 text-center py-2 m-1 rounded",children:"Please check your network !"}),Object(w.jsx)("span",{className:"text-sm mt-3 mb-5"}),a&&Object(w.jsx)("div",{style:{backgroundColor:"white",fontWeight:"bold"},className:"text-red-500 text-center py-2 mb-5 rounded",children:a}),Object(w.jsx)("div",{className:"mb-1",children:Object(w.jsx)(w.Fragment,{children:(null===j||void 0===j?void 0:j.imageUrl)?Object(w.jsxs)("span",{className:"flex",children:[a?Object(w.jsx)(I.b,{size:"1.7em",color:"black"}):Object(w.jsx)("img",{src:null===j||void 0===j?void 0:j.imageUrl,alt:"Profile",style:{width:"2em",height:"2em",borderRadius:"50%"}}),Object(w.jsx)("span",{className:"text-xl font-semibold ml-2 mb-2",children:null===j||void 0===j?void 0:j.username})]}):Object(w.jsxs)("span",{className:"flex",children:[Object(w.jsx)(I.b,{size:30}),Object(w.jsx)("span",{className:"text-xl font-semibold ml-2 mb-2",children:null===j||void 0===j?void 0:j.username})]})})}),Object(w.jsx)(ne,{searchQuery:c,handleChange:function(e){var t=e.target.value;l(t)},setSearchQuery:l}),Object(w.jsx)("div",{className:"flex flex-col text-md",children:x.sort((function(e,t){return e.email.localeCompare(t.email)})).map((function(e,t){return Object(w.jsx)("span",{className:"bg-gray-200 rounded hover:bg-gray-400 p-2 mb-2 cursor-pointer",onClick:function(){return C.push("/".concat(e.username))},children:Object(w.jsxs)("span",{className:"mx-2 flex cursor-pointer",onClick:function(t){return C.push("/".concat(e.username))},children:[a,e.imageUrl?Object(w.jsx)("span",{className:"mr-2",children:a?Object(w.jsx)(I.b,{size:"1.5em",color:"black"}):Object(w.jsx)("img",{src:e.imageUrl,alt:"Profile",style:{width:"1.5em",height:"1.5em",borderRadius:"50%"}})}):Object(w.jsx)("span",{className:"mr-2 text-black",children:Object(w.jsx)(I.b,{size:"1.5em"})}),E===e.email?"Me":e.username,a]})},t)}))}),Object(w.jsx)("div",{className:"flex",children:Object(w.jsx)("span",{className:"m-auto",children:Object(w.jsx)(z.b,{size:300})})})]})}function le(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),a=t[0],r=(t[1],Object(s.useState)("")),n=Object(o.a)(r,2),c=n[0],l=n[1],u=Object(s.useState)({}),d=Object(o.a)(u,2),j=d[0],b=d[1],m=Object(s.useState)([]),h=Object(o.a)(m,2),x=h[0],p=h[1],f=Object(s.useState)([]),O=Object(o.a)(f,2),g=O[0],v=O[1],y=Object(s.useState)(!1),S=Object(o.a)(y,2),N=(S[0],S[1],Object(s.useState)(!1)),k=Object(o.a)(N,2),T=(k[0],k[1],Object(i.g)().user),C=Object(i.f)(),E=localStorage.getItem("email")?localStorage.getItem("email"):"";localStorage.getItem("token");return Object(s.useEffect)((function(){return function(){var e=g.filter((function(e){return e.username.toLowerCase().indexOf(c.toLowerCase())>=0}));p(e)}(),function(){}}),[c]),Object(s.useEffect)((function(){var e=JSON.parse(localStorage.getItem("users")).filter((function(e){return e.username===T}))[0],t=e.following.filter((function(e){return e.follower.isFollowed}));b(e),p(t),v(t)}),[]),Object(w.jsxs)("div",{id:"".concat(T),style:{fontSize:"1.1em"},className:"shadow-lg border border-gray-200 h-full rounded p-2 mb-4 md:w-1/2 m-auto",children:[Object(w.jsxs)("p",{className:"flex justify-between mb-6 border-3 border shadow-md p-2",children:[Object(w.jsx)("span",{className:"cursor-pointer",onClick:function(){return C.goBack()},children:Object(w.jsx)(z.a,{size:30})}),Object(w.jsx)("span",{className:"text-xl font-bold",children:"Following"}),Object(w.jsx)("span",{className:"text-left bg-black-400 cursor-pointer hover:invisible",onClick:function(){return C.push("/twits")},children:Object(w.jsx)(A.a,{size:28})})]}),a&&Object(w.jsx)("div",{style:{backgroundColor:"white",fontWeight:"bold"},className:"text-red-500 text-center py-2 m-1 rounded",children:"Please check your network !"}),Object(w.jsx)("div",{className:"mb-1",children:Object(w.jsx)(w.Fragment,{children:(null===j||void 0===j?void 0:j.imageUrl)?Object(w.jsxs)("span",{className:"flex",children:[a?Object(w.jsx)(I.b,{size:"1.7em",color:"black"}):Object(w.jsx)("img",{src:null===j||void 0===j?void 0:j.imageUrl,alt:"Profile",style:{width:"2em",height:"2em",borderRadius:"50%"}}),Object(w.jsx)("span",{className:"text-xl font-semibold ml-2 mb-2",children:null===j||void 0===j?void 0:j.username})]}):Object(w.jsxs)("span",{className:"flex",children:[Object(w.jsx)(I.b,{size:30}),Object(w.jsx)("span",{className:"text-xl font-semibold ml-2 mb-2",children:null===j||void 0===j?void 0:j.username})]})})}),Object(w.jsx)(ne,{searchQuery:c,handleChange:function(e){var t=e.target.value;l(t)},setSearchQuery:l}),Object(w.jsx)("div",{className:"flex flex-col text-md",children:x.sort((function(e,t){return e.email.localeCompare(t.email)})).map((function(e,t){return Object(w.jsx)("span",{className:"bg-gray-200 rounded hover:bg-gray-400 p-2 mb-2 cursor-pointer",onClick:function(){return C.push("/".concat(e.username))},children:Object(w.jsxs)("span",{className:"mx-2 flex cursor-pointer",onClick:function(t){return C.push("/".concat(e.username))},children:[e.imageUrl?Object(w.jsx)("span",{className:"mr-2",children:a?Object(w.jsx)("img",{src:e.imageUrl,alt:"Profile",style:{width:"1.5em",height:"1.5em",borderRadius:"50%"}}):Object(w.jsx)(I.b,{size:"1.5em",color:"black"})}):Object(w.jsx)("span",{className:"mr-2 text-black",children:Object(w.jsx)(I.b,{size:"1.5em"})}),E===e.email?"Me":e.username]})},t)}))}),Object(w.jsx)("div",{className:"flex",children:Object(w.jsx)("span",{className:"m-auto",children:Object(w.jsx)(z.b,{size:300})})})]})}function ie(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],n=Object(s.useState)({}),c=Object(o.a)(n,2),l=c[0],u=c[1],b=Object(s.useState)([]),h=Object(o.a)(b,2),x=h[0],p=h[1],O=Object(s.useState)(!1),g=Object(o.a)(O,2),v=g[0],y=g[1],S=Object(i.g)().user,N=Object(i.f)(),k=K.getState,T=K.dispatch,C=(k(),Object(V.b)((function(e){return e}))),E=C.twits,U=localStorage.getItem("email")?localStorage.getItem("email"):"",D=localStorage.getItem("token"),_="".concat(f.baseUrl,"/twits"),P=function(){var e=Object(j.a)(d.a.mark((function e(t,a,s){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:t,url:a,data:s,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(D)}}).catch((function(e){e.isAxiosError}));case 2:(n=e.sent)&&n.data.success?"GET"===t?(u(n.data.data.user),p(n.data.data.users),localStorage.setItem("users",JSON.stringify(n.data.data.users)),r("")):y(!v):r("Please check your network");case 4:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),F=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,m()({method:"GET",url:"".concat(_),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(D)}}).catch((function(e){var t,a;e.isAxiosError&&r(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)}));case 4:(t=e.sent)&&t.data.success?(T({type:"SET_TWIT_DATA",data:t.data.data}),localStorage.setItem("twits",JSON.stringify(t.data.data.map((function(e){return e.formActive=!1,e})))),s=t.data.data.filter((function(e){return e.twits.username===S})),u(null===(a=s[0])||void 0===a?void 0:a.twits),p(s)):(r("Please check your network"),T({type:"SET_TWIT_DATA",data:JSON.parse(localStorage.getItem("twits"))}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e,t=E.filter((function(e){return e.twits.username===S}));u(null===(e=t[0])||void 0===e?void 0:e.twits),p(t)}),[]),Object(s.useEffect)(Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(),e.abrupt("return",(function(){}));case 2:case"end":return e.stop()}}),e)}))),[v]),Object(w.jsxs)("div",{id:"".concat(S),style:{fontSize:"1.1em"},className:"shadow-lg border border-gray-200 h-full rounded p-2 mb-4 md:w-1/2 m-auto",children:[Object(w.jsxs)("p",{className:"flex justify-between mb-6 border-3 border shadow-md p-2",children:[Object(w.jsx)("span",{className:"cursor-pointer text-left",onClick:function(){return N.goBack()},children:Object(w.jsx)(z.a,{size:30})}),Object(w.jsx)("span",{className:"text-xl font-bold self-center",children:"Posts"}),Object(w.jsx)("span",{className:"text-left bg-black-400 cursor-pointer hover:invisible",onClick:function(){return N.push("/twits")},children:Object(w.jsx)(A.a,{size:28})})]}),a&&Object(w.jsx)("div",{style:{backgroundColor:"white",fontWeight:"bold"},className:"text-red-500 text-center py-2 m-1 rounded",children:"Please check your network !"}),Object(w.jsx)("div",{className:"mb-1",children:Object(w.jsx)(w.Fragment,{children:(null===l||void 0===l?void 0:l.imageUrl)?Object(w.jsxs)("span",{className:"flex",children:[a?Object(w.jsx)(I.b,{size:"1.7em",color:"black"}):Object(w.jsx)("img",{src:null===l||void 0===l?void 0:l.imageUrl,alt:"Profile",style:{width:"2em",height:"2em",borderRadius:"50%"}}),Object(w.jsx)("span",{className:"text-xl font-semibold ml-2 mb-2",children:null===l||void 0===l?void 0:l.username})]}):Object(w.jsxs)("span",{className:"flex",children:[Object(w.jsx)(I.b,{size:30}),Object(w.jsx)("span",{className:"text-xl font-semibold ml-2 mb-2",children:null===l||void 0===l?void 0:l.username})]})})}),Object(w.jsx)("div",{style:{fontFamily:"Roboto"},className:"text-md",children:x.sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})).map((function(e,t){return Object(w.jsx)("div",{style:{backgroundColor:"white",fontWeight:"bold"},children:Object(w.jsx)($,{twit:e,email:U,apiCallHook:P,baseUrl:f.baseUrl,frontendUrl:f.frontendUrl,sync:v,setSync:y},t)},t)}))})]})}var ue=a(40);function de(e){var t=Object(s.useState)(""),a=Object(o.a)(t,2),r=a[0],n=a[1],c=Object(s.useState)(""),l=Object(o.a)(c,2),u=l[0],d=l[1],j=Object(s.useState)(""),b=Object(o.a)(j,2),m=b[0],h=(b[1],Object(s.useState)(!1)),p=Object(o.a)(h,2),O=p[0],g=(p[1],Object(i.f)(),"".concat(f.baseUrl,"/auth/reset"),function(e){"newpass1"===e.target.name?(console.log(e.target.value),n(e.target.value)):(console.log(e.target.value),d(e.target.value))});return Object(s.useEffect)((function(){return function(){}}),[]),Object(w.jsxs)("div",{style:{fontFamily:"Roboto",fontWeight:"600",backgroundImage:'url("./bg.png")'},className:"font-Roboto text-center align-items-center bg-cover bg-center",children:[Object(w.jsxs)("p",{className:"text-center mb-2",children:[Object(w.jsxs)("span",{style:{fontFamily:"Architects Daughter",fontSize:"1.8em"},className:"text-purple-900 font-bold italic",children:["Buzz",Object(w.jsx)("br",{})]}),Object(w.jsx)("span",{className:"text-md",children:" Feel free, express yourself & network "})]}),Object(w.jsx)("h3",{className:"font-bold text-md mt-8 mb-4",children:"Set up a new password"}),Object(w.jsx)("input",{type:"text",name:"newpass1",value:r,placeholder:"Enter a new password",onChange:g,className:"px-3 rounded mb-5 text-xs"}),Object(w.jsx)("br",{}),Object(w.jsx)("input",{type:"text",name:"newpass2",value:u,placeholder:"Confirm new password",onChange:g,className:"px-3 rounded mb-5 text-xs"}),Object(w.jsx)("br",{}),Object(w.jsxs)("div",{className:"flex flex-col mb-3",children:[m&&Object(w.jsx)("span",{className:"mb-2 text-red-600",children:m}),Object(w.jsx)("div",{className:"flex justify-center",children:O?Object(w.jsx)("span",{className:"",children:Object(w.jsx)(x.a,{type:"ThreeDots",color:"#00bfff",height:40,width:40})}):Object(w.jsx)("span",{className:"cursor-pointer mb-3 bg-green-500 hover:bg-green-400 py-2 px-3 font-bold shadow-md rounded text-white text-xs",children:"Update Password"})})]}),Object(w.jsxs)("p",{className:"text-white-400 bold flex text-center",children:[Object(w.jsx)(ue.a,{})," Twitee"]})]})}function je(e){var t=e.messages;return Object(w.jsx)("div",{children:t.map((function(e,t){return Object(w.jsx)(be,{texts:e},t)}))})}var be=function(e){var t=e.texts,a=Object(i.f)(),s=t.messages;return Object(w.jsxs)("div",{children:["Message (",s.length,")",s.sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})).map((function(e,t){return Object(w.jsxs)("div",{className:"border border-gray-200 shadow-lg mb-2 p-1 rounded",children:[Object(w.jsxs)("div",{className:"flex justify-between",children:[Object(w.jsxs)("span",{className:"mx-1 flex cursor-pointer",onClick:function(t){return a.push("/".concat(e.sender.username))},children:[e.sender.imageUrl?Object(w.jsx)("span",{className:"mr-1",children:Object(w.jsx)("img",{src:e.sender.imageUrl,alt:"Profile",style:{width:"2em",height:"2em",borderRadius:"50%"}})}):Object(w.jsx)(I.b,{size:20}),Object(w.jsx)("span",{className:"text-md",children:e.sender.username})]}),Object(w.jsx)("span",{children:new Date(e.createdAt).toLocaleTimeString()})]}),Object(w.jsx)("span",{className:"ml-9",children:e.text})]},t)}))]})};function me(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],n=Object(s.useState)(!1),c=Object(o.a)(n,2),l=c[0],u=(c[1],Object(i.g)().user),b=Object(i.f)(),h=K.getState,x=K.dispatch,p=(h(),Object(V.b)((function(e){return e}))),O=p.messages;console.log(O);var g=localStorage.getItem("email")?localStorage.getItem("email"):"",v=localStorage.getItem("token"),y="".concat(f.baseUrl,"/messages"),S=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,m()({method:"GET",url:"".concat(y,"/chats"),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(v)}}).catch((function(e){var t,a;e.isAxiosError&&r(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)}));case 4:(t=e.sent)&&t.data.success?(x({type:"SET_MESSAGES_DATA",data:t.data.data}),localStorage.setItem("messages",JSON.stringify(t.data.data))):(r("Please check your network"),x({type:"SET_MESSAGES_DATA",data:JSON.parse(localStorage.getItem("messages"))}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){return S(),function(){}}),[l]);var N=O.map((function(e){return g===e.chatSender.email?e.chatReceiver:e.chatSender}));return console.log(O,N),Object(w.jsxs)("div",{id:"".concat(u),style:{fontSize:"1.1em"},className:"shadow-lg border border-gray-200 h-full rounded p-2 mb-4 md:w-1/2 m-auto",children:[Object(w.jsxs)("p",{className:"flex justify-between mb-6 border-3 border shadow-md p-2",children:[Object(w.jsx)("span",{className:"cursor-pointer text-left",onClick:function(){return b.goBack()},children:Object(w.jsx)(z.a,{size:30})}),Object(w.jsx)("span",{className:"text-xl font-bold self-center",children:"Messages"}),Object(w.jsx)("span",{className:"text-left bg-black-400 cursor-pointer hover:invisible",onClick:function(){return b.push("/twits")},children:Object(w.jsx)(A.a,{size:28})})]}),a&&Object(w.jsx)("div",{style:{backgroundColor:"white",fontWeight:"bold"},className:"text-red-500 text-center py-2 m-1 rounded",children:"Please check your network !"}),Object(w.jsx)("div",{className:"mb-1",children:Object(w.jsx)(je,{messages:O})})]})}function he(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],n=Object(s.useState)({}),c=Object(o.a)(n,2),l=c[0],u=(c[1],Object(i.g)().user),b=Object(i.f)(),h=(localStorage.getItem("email")&&localStorage.getItem("email"),localStorage.getItem("token"),K.getState),x=(K.dispatch,h(),function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:"GET",url:"".concat(f.baseUrl,"/auth/verify/").concat(u),headers:{"Content-Type":"application/json"}}).catch((function(e){var t,a;e.isAxiosError&&r(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)}));case 2:(t=e.sent)&&t.data.success||r("Please check your network");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(s.useEffect)((function(){return x(),function(){}}),[]),Object(w.jsxs)("div",{id:"".concat(u),style:{fontSize:"1.1em"},className:"shadow-lg border border-gray-200 h-full rounded p-2 mb-4 m-auto justify-center md:w-1/2",children:[Object(w.jsxs)("p",{className:"flex justify-between mb-6 border-3 border shadow-md p-2",children:[Object(w.jsx)("span",{className:"cursor-pointer",onClick:function(){return b.goBack()},children:Object(w.jsx)(z.a,{size:30})}),Object(w.jsx)("span",{className:"flex cursor-pointer",onClick:function(e){return b.push("/people")},children:Object(w.jsx)(z.b,{size:35})}),Object(w.jsx)("span",{className:"bg-black-400 cursor-pointer",onClick:function(){return b.push("/twits")},children:Object(w.jsx)(A.a,{size:28})})]}),Object(w.jsx)("div",{className:"mb-1",children:Object(w.jsx)(w.Fragment,{children:(null===l||void 0===l?void 0:l.imageUrl)?Object(w.jsxs)("span",{className:"flex",children:[a?Object(w.jsx)(I.b,{size:"1.7em",color:"black"}):Object(w.jsx)("img",{src:null===l||void 0===l?void 0:l.imageUrl,alt:"Profile",style:{width:"2em",height:"2em",borderRadius:"50%"}}),Object(w.jsx)("span",{className:"text-xl font-semibold ml-2 mb-2",children:u})]}):Object(w.jsxs)("span",{className:"flex",children:[Object(w.jsx)(I.b,{size:30}),Object(w.jsx)("span",{className:"text-xl font-semibold ml-2 mb-2",children:u})]})})}),"Your account is now verified!",a&&Object(w.jsx)("div",{style:{backgroundColor:"white",fontWeight:"bold"},className:"text-red-500 text-center py-2 mb-5 rounded",children:a}),Object(w.jsx)("span",{className:"text-sm mt-3 mb-1 flex justify-between",children:Object(w.jsx)("span",{className:"flex",children:Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("span",{className:"flex flex-col",children:Object(w.jsx)("span",{className:"text-xs text-white bg-blue-900 rounded hover:bg-blue-400 p-1 cursor-pointer -mt-2 mr-1",onClick:function(){return b.push("/".concat(u))},children:"Go to your profile"})})})})}),Object(w.jsx)("span",{children:(null===l||void 0===l?void 0:l.imageUrl)?Object(w.jsx)(w.Fragment,{children:a?Object(w.jsx)(I.b,{size:300,color:"black"}):Object(w.jsx)("img",{src:null===l||void 0===l?void 0:l.imageUrl,width:"100%",alt:"imgurl",className:"mt-3 rounded-lg"})}):Object(w.jsx)("div",{className:"flex",children:Object(w.jsx)("span",{className:"m-auto",children:Object(w.jsx)(I.b,{size:300})})})})]})}var xe=function(){var e=Object(s.useState)(JSON.parse(localStorage.getItem("loggedIn"))),t=Object(o.a)(e,2),a=(t[0],t[1],Object(s.useState)(JSON.parse(localStorage.getItem("signup"))||!1)),r=Object(o.a)(a,2),n=(r[0],r[1],K.getState),c=K.dispatch,u=(n(),Object(V.b)((function(e){return e})));return u.searchQuery,u.networkStatus,Object(s.useEffect)((function(){navigator.onLine?c({type:"SET_NETWORK_STATUS",data:!0}):c({type:"SET_NETWORK_STATUS",data:!1})}),[]),Object(w.jsx)(l.a,{children:Object(w.jsxs)(i.c,{children:[Object(w.jsx)(i.a,{exact:!0,path:"/",component:T}),Object(w.jsx)(i.a,{exact:!0,path:"/twits",component:Z}),Object(w.jsx)(i.a,{exact:!0,path:"/people",component:ce}),Object(w.jsx)(i.a,{exact:!0,path:"/reset",component:de}),Object(w.jsx)(i.a,{exact:!0,path:"/verify/:user",component:he}),Object(w.jsx)(i.a,{path:"/twits/:user",component:ie}),Object(w.jsx)(i.a,{path:"/chats/:user",component:me}),Object(w.jsx)(i.a,{path:"/following/:user",component:le}),Object(w.jsx)(i.a,{path:"/follower/:user",component:oe}),Object(w.jsx)(i.a,{path:"/:user",component:ae})]})})},pe=(a(6).baseUrl,function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),a=window.atob(t),s=new Uint8Array(a.length),r=0;r<a.length;++r)s[r]=a.charCodeAt(r);return s}),fe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Oe(e,t){console.log("Registering service worker"),navigator.serviceWorker.register(e).then(function(){var e=Object(j.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Service worker registered"),console.log("Registering Push Manager"),a.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:pe("BNjjQs4mQL339-Dk2i5HF5jbv14xHn-jHrPbTa1LJ-HZZXZnArYQfR7ddcdB0oQ0ADQjgx8q_nN_cTW7jOq9k6Y")}),console.log("Push Manager registered"),console.log("Sending Push"),console.log("Push Sent"),a.onupdatefound=function(){var e=a.installing;null!=e&&(e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(a)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(a)))})};case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(V.a,{store:K,children:Object(w.jsx)(xe,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");fe?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var s=a.headers.get("content-type");404===a.status||null!=s&&-1===s.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Oe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Oe(t,e)}))}}()},6:function(e,t,a){"use strict";a.r(t),a.d(t,"baseUrl",(function(){return s})),a.d(t,"frontendUrl",(function(){return r}));var s=window.location.host.indexOf("localhost")>=0?"http://localhost:4000":"https://oba-twit.herokuapp.com",r=window.location.host.indexOf("localhost")>=0?"http://localhost:3000/twits":"https://peaceful-leakey-ce2e49.netlify.app/twits"},70:function(e,t,a){}},[[119,1,2]]]);
//# sourceMappingURL=main.0d7931ec.chunk.js.map