(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{120:function(e,t,a){"use strict";a.r(t);var s=a(2),r=a.n(s),c=a(22),n=a.n(c),o=(a(72),a(3)),l=a(18),i=a(14),u=a(5),d=a.n(u),j=a(8),b=a(9),m=a.n(b),h=a(17),x=a.n(h),p=a(46),f=a(7),O=a(39),g=a.n(O),v=a(60),w=a(1);g.a.config();var y="865349714041-35tbv6kfmsdueb9cb018vukqpdul0shv.apps.googleusercontent.com";function S(e){var t=e.error,a=e.setError,r=(e.loading,e.setLoading),c=Object(s.useState)(JSON.parse(localStorage.getItem("signup"))),n=Object(o.a)(c,2),l=n[0],u=(n[1],"".concat(f.baseUrl,"/auth/").concat(l?"signup":"login")),d=Object(i.f)();return Object(w.jsx)("div",{children:Object(w.jsx)(p.GoogleLogin,{clientId:y,buttonText:"Use Google",onSuccess:function(e){T(!0,e.profileObj.email,null,u,t,a,r,d,e.profileObj.name,e.profileObj.imageUrl)},onFailure:function(e){},cookiePolicy:"single_host_origin",style:{marginTop:"160px"}})})}var N=function(){return Object(w.jsx)("div",{children:Object(w.jsx)(p.GoogleLogout,{clientId:y,render:function(e){return Object(w.jsx)("span",{children:Object(w.jsx)(v.a,{size:25})})},buttonText:"Signout",onLogoutSuccess:function(e){},style:{marginTop:"160px"}})})},k=a(26);a(58);g.a.config();var T=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,s,r,c,n,o,l,i,u,j,b,h,x,p,f,O=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=O.length>0&&void 0!==O[0]&&O[0],a=O.length>1?O[1]:void 0,s=O.length>2&&void 0!==O[2]?O[2]:null,r=O.length>3?O[3]:void 0,O.length>4?O[4]:void 0,c=O.length>5?O[5]:void 0,n=O.length>6?O[6]:void 0,o=O.length>7?O[7]:void 0,l=O.length>8?O[8]:void 0,i=O.length>9?O[9]:void 0,localStorage.setItem("img",i),n(!0),t){e.next=27;break}if(a&&s){e.next=21;break}if(a){e.next=18;break}return c("Email is required"),n(!1),e.abrupt("return");case 18:return c("Password required"),n(!1),e.abrupt("return");case 21:return e.next=23,m()({method:"POST",url:"".concat(r),data:{email:a,password:s},headers:{"Content-Type":"application/json"}}).catch((function(e){var t,a,s,r;e.isAxiosError&&((null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error.search("NOTFOUND"))>=0?c("Please check your network"):c(null===(s=e.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.error))}));case 23:(u=e.sent)&&u.data.success?(console.log("Login successful!",u.data.data.newUser),u.data.data.newUser?(k.b.success("Signup successful!",{position:"top-center",hideProgressBar:!0}),k.b.success("Please check your mail to activate your account!",{position:"top-center",hideProgressBar:!0})):k.b.success("Login successful!",{position:"top-center",hideProgressBar:!0})):k.b.error("Something went wrong!",{position:"top-center",hideProgressBar:!0}),e.next=31;break;case 27:return e.next=29,m()({method:"POST",url:"".concat(r),data:{email:a,password:"passs",auth:"google",name:l,imageUrl:i},headers:{"Content-Type":"application/json"}}).catch((function(e){c(e.response.data.error)}));case 29:(u=e.sent)&&u.data.success?(console.log("Login successful!"),u.data.data.newUser?(k.b.success("Signup successful!",{position:"top-center",hideProgressBar:!0}),k.b.success("Please check your mail to activate your account!",{position:"top-center",hideProgressBar:!0})):k.b.success("Login successful!",{position:"top-center",hideProgressBar:!0})):k.b.error("Something went wrong!",{position:"top-center",hideProgressBar:!0});case 31:u&&u.data.success?(j=u.data.data,b=j.user,h=b.id,x=b.imageUrl,p=b.username,f=j.token,localStorage.setItem("email",a),localStorage.setItem("img",x),localStorage.setItem("userId",h),localStorage.setItem("username",p),localStorage.setItem("token",f),n(!1),setTimeout((function(){o.push("/twits")}),2e3)):n(!1);case 32:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function C(e){var t=Object(s.useState)(""),a=Object(o.a)(t,2),r=a[0],c=a[1],n=Object(s.useState)(""),l=Object(o.a)(n,2),u=l[0],d=l[1],j=Object(s.useState)(""),b=Object(o.a)(j,2),m=b[0],h=b[1],p=Object(s.useState)(!1),O=Object(o.a)(p,2),g=O[0],v=O[1],y=Object(s.useState)(JSON.parse(localStorage.getItem("signup"))),N=Object(o.a)(y,2),C=N[0],E=N[1],I=localStorage.getItem("token"),z=Object(i.f)(),A="".concat(f.baseUrl,"/auth/").concat(C?"signup":"login"),U=function(e){"email"===e.target.name?c(e.target.value):d(e.target.value)};return Object(s.useEffect)((function(){return I&&z.push("/twits"),function(){}}),[]),Object(w.jsxs)("div",{style:{fontFamily:"Roboto",fontWeight:"600"},className:"text-center align-items-center bg-gradient-to-r from-cyan-500 to-blue-500",children:[Object(w.jsxs)("p",{className:"text-center mb-2",children:[Object(w.jsxs)("span",{style:{fontFamily:"Architects Daughter",fontSize:"1.8em"},className:"text-purple-900 font-bold italic",children:["Buzz",Object(w.jsx)("br",{})]}),Object(w.jsx)("span",{className:"text-md",children:" Feel free, express yourself & network "})]}),Object(w.jsx)(k.a,{}),Object(w.jsx)("h3",{style:{fontSize:20},className:"font-bold text-md mb-4 mt-7",children:C?"Signup":"Login"}),Object(w.jsx)("input",{type:"text",name:"email",value:r,placeholder:"email",onChange:U,className:"px-3 rounded mb-5"}),Object(w.jsx)("br",{}),Object(w.jsx)("input",{type:"password",name:"password",value:u,placeholder:"password",onChange:U,className:"px-3 rounded mb-5"}),Object(w.jsx)("br",{}),Object(w.jsxs)("div",{className:"flex flex-col mb-3",children:[m&&Object(w.jsx)("span",{className:"mb-2 text-red-600",children:m}),Object(w.jsx)("div",{className:"flex justify-center",children:g?Object(w.jsx)("span",{className:"",children:Object(w.jsx)(x.a,{type:"ThreeDots",color:"#00bfff",height:40,width:40})}):Object(w.jsx)("span",{onClick:function(){return T(!1,r,u,A,m,h,v,z)},className:"cursor-pointer mb-3 bg-green-500 hover:bg-green-400 py-1 px-6 rounded text-white",children:C?"Signup":"Login"})})]}),!I&&Object(w.jsx)(S,{error:m,setError:h,loading:g,setLoading:v}),Object(w.jsxs)("div",{className:"mt-7 mb-6 text-xs",children:[C?"Already registered ?":"Not registered ?",Object(w.jsx)("span",{className:"hover:bg-purple-400 bg-purple-500 ml-2 p-1 rounded text-white font-bold cursor-pointer",onClick:function(){C?(E(!1),localStorage.setItem("signup",!1)):(E(!0),localStorage.setItem("signup",!0))},children:C?" Switch to Login":" Switch to Signup!"})]})]})}var E=a(29),I=a.n(E),z=a(15),A=a(6),U=a(13),D=a(10),_=a(16),P=a(32),F=a(30),R=a(45),L=a(62),B=a(4),W=a(33),J={setTwitData:{type:"SET_TWIT_DATA"},setMessagesData:{type:"SET_MESSAGES_DATA"},setUserCount:{type:"SET_USER_COUNT"},setPeopleData:{type:"SET_PEOPLE_DATA"},setSearchData:{type:"SET_SEARCH_DATA"},setUsersData:{type:"SET_USERS_DATA"},setNewsType:{type:"SET_NEWS_TYPE"},setPage:{type:"SET_PAGE"},setTotalPages:{type:"SET_TOTAL_PAGES"},setSearchQuery:{type:"SET_SEARCH_QUERY"},setNetworkStatus:{type:"SET_NETWORK_STATUS"},setFormActive:{type:"SET_FORM_ACTIVE"},setUser:{type:"SET_USER"},setSubs:{type:"SET_SUBS"},deleteTwit:{type:"DELETE_TWIT"},updateTwit:{type:"UPDATE_TWIT"},setRefreshTwitData:{type:"SET_REFRESH_TWIT_DATA"}};var H={twits:[],twitCount:1,page:1,perPage:20,messages:[],users:0,peopleData:JSON.parse(localStorage.getItem("peopleData"))||[],searchData:[],usersData:[],subs:JSON.parse(localStorage.getItem("subs"))||[],searchQuery:"",networkStatus:!1,formActive:!1,user:"",followers:[],following:[],followerCount:0,followingCount:0,userTwits:[],isFollower:!1},M=Object(R.createStore)((function(){var e,t,a,s,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,c=arguments.length>1?arguments[1]:void 0;switch(c.type){case J.setTwitData.type:var n;return n=r.twits.length<r.twitCount?[].concat(Object(W.a)(r.twits),Object(W.a)(c.data.twits)):r.twits,Object(B.a)(Object(B.a)({},r),{},{twits:n,twitCount:c.data.twitCount});case J.setMessagesData.type:return Object(B.a)(Object(B.a)({},r),{},{messages:c.data});case J.setPeopleData.type:return Object(B.a)(Object(B.a)({},r),{},{peopleData:c.data});case J.setSearchData.type:return Object(B.a)(Object(B.a)({},r),{},{searchData:c.data});case J.setUser.type:var o=c.data.user,l=c.data.email,i=null===(e=r.peopleData)||void 0===e?void 0:e.filter((function(e){return e.username===o}))[0],u=null===(t=r.twits)||void 0===t?void 0:t.filter((function(e){return e.twits.username===o})),d=null===i||void 0===i||null===(a=i.followers)||void 0===a?void 0:a.filter((function(e){return e.follower.isFollowed})).length,j=null===i||void 0===i||null===(s=i.following)||void 0===s?void 0:s.filter((function(e){return e.follower.isFollowed})).length,b=(null===i||void 0===i?void 0:i.followers.filter((function(e){return e.follower.isFollowed})).filter((function(e){return e.email===l})).length)>0,m=(null===i||void 0===i?void 0:i.following.filter((function(e){return e.follower.isFollowed})).filter((function(e){return e.email===l})).length)>0;return Object(B.a)(Object(B.a)({},r),{},{user:o,userData:i,followers:null===i||void 0===i?void 0:i.followers,following:null===i||void 0===i?void 0:i.following,followerCount:d,followingCount:j,isFollower:b,isFollowing:m,userTwits:u});case J.setUsersData.type:return Object(B.a)(Object(B.a)({},r),{},{usersData:c.data});case J.setUserCount.type:return Object(B.a)(Object(B.a)({},r),{},{users:c.data});case J.setFormActive.type:return Object(B.a)(Object(B.a)({},r),{},{formActive:c.data});case J.setNewsType.type:var h=r.newsData.filter((function(e){return e.type===c.data}));return Object(B.a)(Object(B.a)({},r),{},{newsType:c.data,news:h,searchQuery:"",page:1,totalPages:Math.ceil(h.length/r.pageSize)});case J.setPage.type:return Object(B.a)(Object(B.a)({},r),{},{page:c.data});case J.setTotalPages.type:return Object(B.a)(Object(B.a)({},r),{},{totalPages:c.data});case J.setSearchQuery.type:var x;return x="Filter By Type"===r.newsType?""===c.data?r.newsData:r.newsData.filter((function(e){var t;return(null===e||void 0===e||null===(t=e.text)||void 0===t?void 0:t.toLowerCase().indexOf(c.data.toLowerCase()))>=0})):r.newsData.filter((function(e){var t;return(null===e||void 0===e||null===(t=e.text)||void 0===t?void 0:t.toLowerCase().indexOf(c.data.toLowerCase()))>=0&&e.type===r.newsType})),Object(B.a)(Object(B.a)({},r),{},{searchQuery:c.data,news:x,page:1,totalPages:Math.ceil(x.length/r.pageSize)});case J.setNetworkStatus.type:return Object(B.a)(Object(B.a)({},r),{},{networkStatus:c.data});case J.setSubs.type:return Object(B.a)(Object(B.a)({},r),{},{subs:c.data});case J.deleteTwit.type:var p=r.twits.findIndex((function(e){return e.id===c.data})),f=Object(W.a)(r.twits);return f.splice(p,1),Object(B.a)(Object(B.a)({},r),{},{twits:f});case J.updateTwit.type:var O=r.twits.findIndex((function(e){return e.id===c.data.twit.id})),g=Object(W.a)(r.twits);return O>=0&&g.splice(O,1,c.data.twit),Object(B.a)(Object(B.a)({},r),{},{twits:g});case J.setRefreshTwitData.type:return console.log("updated feed"),Object(B.a)(Object(B.a)({},r),{},{twits:c.data.twits});default:return r}}),Object(L.devToolsEnhancer)()),G=M,Q=a(27);function q(e){e.imageUrl;var t=e.setImageUrl,a=Object(s.useState)(""),r=Object(o.a)(a,2),c=(r[0],r[1]),n=Object(s.useState)(""),l=Object(o.a)(n,2),i=l[0],u=l[1],b=function(){var e=Object(j.a)(d.a.mark((function e(a){var s,r,n,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c("loading"),s=a.target.files[0],r=new FormData,"https://api.cloudinary.com/v1_1/thevetdoctor/image/upload",r.append("file",s),r.append("upload_preset","zunt8yrw"),e.next=8,fetch("https://api.cloudinary.com/v1_1/thevetdoctor/image/upload",{method:"POST",body:r});case 8:return n=e.sent,e.next=11,n.json();case 11:o=e.sent,u(o.secure_url),t(o.secure_url),c("done");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsx)("div",{className:"flex p-1 rounded ml-1",children:i?Object(w.jsx)("img",{src:i,alt:"post",style:{width:"20em",height:"9em"},className:"rounded"}):Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("label",{className:"cursor-pointer flex",children:[Object(w.jsx)("span",{className:"-ml-2 pt-1",children:"Upload"}),Object(w.jsx)("span",{className:"ml-2",children:Object(w.jsx)(Q.a,{size:25})}),Object(w.jsx)("input",{type:"file",placeholder:"",accept:"image/*;capture",className:"hidden",onChange:function(e){return b(e)}})]})})})}function V(e){var t=Object(s.useState)(localStorage.getItem("twitText")?localStorage.getItem("twitText"):""),a=Object(o.a)(t,2),r=a[0],c=a[1],n=Object(s.useState)(localStorage.getItem("twitImage")?localStorage.getItem("twitImage"):""),l=Object(o.a)(n,2),i=l[0],u=l[1],b=Object(s.useState)(550),h=Object(o.a)(b,2),p=h[0],O=h[1],g=Object(s.useState)(""),v=Object(o.a)(g,2),y=v[0],S=v[1],N=Object(s.useState)(!1),k=Object(o.a)(N,2),T=k[0],C=k[1],E=localStorage.getItem("token"),I="".concat(f.baseUrl,"/twits/post"),z=function(){var t=Object(j.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(r,i),r||i){t.next=4;break}return S("Inputs required"),t.abrupt("return");case 4:return C(!0),t.next=7,m()({method:"POST",url:"".concat(I),data:{text:r,imageUrl:i},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(E)}}).catch((function(e){var t,a;e.isAxiosError&&S(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)}));case 7:(a=t.sent)&&a.data.success?(C(!1),localStorage.removeItem("twitTitle"),localStorage.removeItem("twitText"),e.refreshData(),e.showForm()):C(!1);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(w.jsxs)("div",{className:"sticky text-center w-full h-full bg-blue-200 p-3 -mb-2 -m-4",children:[Object(w.jsx)("h1",{className:"font-bold text-lg mb-3 mt-2",children:"New Post"}),Object(w.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",borderRadius:"20%"},children:[Object(w.jsx)("textarea",{type:"textarea",name:"text",rows:4,cols:3,style:{width:"100%",height:"".concat(i?"5em":"13em"),border:"none"},maxLength:550,value:r,overflow:"hidden",placeholder:"Write and share ...",onChange:function(e){"text"===e.target.name?(c(e.target.value),O(550-e.target.value.length),localStorage.setItem("twitText",e.target.value)):(u(e.target.value),localStorage.setItem("twitImage",e.target.value))},className:"px-3 rounded mb-1 text-xs text-black w-full",required:!0}),Object(w.jsx)("div",{style:{display:"flex",width:"100%",fontSize:"1.2em",justifyContent:"flex-end"},className:"shadow-md p-1 flex-end mb-2",children:Object(w.jsx)("span",{children:p})}),Object(w.jsx)("div",{style:{display:"flex",width:"100%",fontSize:"1.2em",justifyContent:"center"},className:"shadow-md p-1 flex-end mb-2",children:Object(w.jsx)(q,{imageUrl:i,setImageUrl:u})})]}),Object(w.jsxs)("div",{style:{flexDirection:"column"},className:"flex mb-3",children:[y&&Object(w.jsx)("span",{className:"mb-2 text-red-800 text-md",children:y}),Object(w.jsx)("div",{className:"flex justify-center mt-2",children:T?Object(w.jsx)("span",{className:"m-auto self-center",children:Object(w.jsx)(x.a,{type:"ThreeDots",color:"#00bfff",height:40,width:40})}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return e.showForm()},className:"hover:bg-gray-900 shadow-md bg-gray-400 text-md font-medium p-2 rounded text-white",children:"Cancel"}),Object(w.jsx)("span",{style:{cursor:"pointer"},onClick:z,className:"hover:bg-green-900 shadow-md bg-green-400 text-md font-bold p-2 rounded text-white mx-2",children:"Send"})]})})]})]})}function Y(e){var t=Object(s.useState)(localStorage.getItem("commentText")?localStorage.getItem("commentText"):""),a=Object(o.a)(t,2),r=a[0],c=a[1],n=Object(s.useState)(550),l=Object(o.a)(n,2),i=l[0],u=l[1],b=Object(s.useState)(""),h=Object(o.a)(b,2),p=h[0],O=h[1],g=Object(s.useState)(!1),v=Object(o.a)(g,2),y=v[0],S=v[1],N=localStorage.getItem("token"),k="".concat(f.baseUrl,"/comments"),T=function(){var t=Object(j.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.twitId){t.next=2;break}return t.abrupt("return");case 2:if(r){t.next=5;break}return O("Inputs required"),t.abrupt("return");case 5:return S(!0),t.next=8,m()({method:"POST",url:"".concat(k,"/").concat(e.twitId),data:{text:r},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(N)}}).catch((function(e){O(e.response.data.error)}));case 8:(a=t.sent)&&a.data.success?(S(!1),e.setSync(!e.sync),e.showCommentForm()):S(!1);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(w.jsxs)("div",{className:"text-center pt-4",children:[Object(w.jsx)("p",{style:{fontSize:"0.9em"},className:"font-bold text-xs mb-3",children:"New Comment"}),Object(w.jsx)("textarea",{type:"textarea",name:"text",rows:5,cols:8,maxLength:550,style:{width:"100%",height:"8em"},value:r,placeholder:"Drop in your comment ...",onChange:function(e){"text"===e.target.name&&(c(e.target.value),u(550-e.target.value.length),localStorage.setItem("commentText",e.target.value))},className:"px-3 rounded mb-5 h-20 text-md text-gray-600",required:!0}),Object(w.jsx)("br",{}),i,Object(w.jsxs)("div",{style:{flexDirection:"column"},className:"flex mb-5",children:[p&&Object(w.jsx)("span",{className:"mb-2 text-red-800 text-xs",children:p}),Object(w.jsxs)("div",{className:"justify-items-center",children:[Object(w.jsx)("span",{style:{cursor:"pointer",fontSize:"0.9em"},onClick:function(){return e.showCommentForm()},className:"hover:bg-gray-900 bg-gray-400 font-medium p-1 rounded text-white",children:"Cancel"}),y?Object(w.jsx)("span",{className:"m-auto",children:Object(w.jsx)(x.a,{type:"ThreeDots",color:"#00bfff",height:40,width:40})}):Object(w.jsx)("span",{style:{cursor:"pointer",fontSize:"0.9em"},onClick:T,className:"hover:bg-green-900 text-lg bg-green-400 font-medium p-1 rounded text-white mx-2",children:"Send"})]})]})]})}var K=a(123);function Z(e){var t=e.show,a=e.handleShow,s=e.sourceData;return Object(w.jsx)("div",{children:Object(w.jsxs)(K.a,{show:t,onHide:function(){return a()},dialogClassName:"modal-90w","aria-labelledby":"example-custom-modal-styling-title",className:"h-full bg-gray-300",size:"lg",children:[Object(w.jsx)(K.a.Header,{closeButton:!0,children:Object(w.jsx)(K.a.Title,{children:null===s||void 0===s?void 0:s.header})}),Object(w.jsxs)(K.a.Body,{children:[Object(w.jsx)("div",{className:"image_box",children:Object(w.jsx)("img",{src:null===s||void 0===s?void 0:s.source,alt:null===s||void 0===s?void 0:s.altTag,style:{width:"27em",height:"15em",borderRadius:"1em",marginBottom:"1em"},className:"image"})}),Object(w.jsx)("div",{className:"w-full h-full bg-green-400",children:Object(w.jsx)("div",{children:Object(w.jsxs)("div",{className:"socials",children:[Object(w.jsx)("a",{href:"https://www.linkedin.com/in/k-kornienko/",target:"_blank",children:Object(w.jsx)("span",{children:Object(w.jsx)(Q.g,{})})}),Object(w.jsx)("a",{href:"https://www.linkedin.com/in/k-kornienko/",target:"_blank",children:Object(w.jsx)("span",{children:Object(w.jsx)(Q.c,{})})}),Object(w.jsx)("a",{href:"https://www.linkedin.com/in/k-kornienko/",target:"_blank",children:Object(w.jsx)("span",{children:Object(w.jsx)(Q.e,{})})}),Object(w.jsx)("a",{href:"https://www.linkedin.com/in/k-kornienko/",target:"_blank",children:Object(w.jsx)("span",{children:Object(w.jsx)(Q.d,{})})})]})})})]})]})})}function $(e){var t=e.placeholder,a=e.searchQuery,s=e.setSearchQuery,r=e.handleChange;e.error;return t||(t="Search friends"),Object(w.jsxs)("div",{className:"flex mt-9 rounded",children:[Object(w.jsx)("div",{className:"flex-grow",children:Object(w.jsx)("input",{type:"text",name:"top-search",value:a,placeholder:t,required:!0,onChange:r,className:"p-2 text-dark-3 text-md rounded font-semibold text-center bg-white-200 w-full outline-none mt-1"})}),a&&Object(w.jsx)("div",{className:"flex text-white font-bold bg-blue-900 hover:bg-blue-500 cursor-pointer px-3 rounded items-center",onClick:function(){return s("")},children:"Clear"})]})}var X=function(e){var t,a=e.twit,r=a.id,c=a.text,n=a.imageUrl,l=a.twits,u=a.likes,d=a.comments,j=a.createdAt,b=a.updatedAt,m=e.email,h=e.userId,x=e.apiCallHook,p=e.baseUrl,f=(e.frontendUrl,e.sync),O=e.setSync,g=(e.checkOpenForms,e.error),v=(e.handleDeleteTwit,c),y=Object(s.useState)(!1),S=Object(o.a)(y,2),N=S[0],k=S[1],T=Object(s.useState)(!1),C=Object(o.a)(T,2),E=C[0],z=C[1],P=Object(s.useState)(!1),F=Object(o.a)(P,2),R=F[0],L=F[1],B=Object(s.useState)(!1),W=Object(o.a)(B,2),J=W[0],H=(W[1],Object(s.useState)(v)),M=Object(o.a)(H,2),G=M[0],q=M[1],V=Object(s.useState)(!1),K=Object(o.a)(V,2),$=K[0],X=K[1],se=Object(s.useState)(!1),re=Object(o.a)(se,2),ce=re[0],ne=(re[1],Object(s.useState)(!1)),oe=Object(o.a)(ne,2),le=oe[0],ie=oe[1],ue=Object(s.useState)(!1),de=Object(o.a)(ue,2),je=de[0],be=de[1],me=Object(s.useState)(!1),he=Object(o.a)(me,2),xe=he[0],pe=he[1],fe=Object(s.useState)(!1),Oe=Object(o.a)(fe,2),ge=Oe[0],ve=Oe[1],we=Object(s.useState)({}),ye=Object(o.a)(we,2),Se=ye[0],Ne=ye[1],ke=Object(s.useState)(!1),Te=Object(o.a)(ke,2),Ce=Te[0],Ee=Te[1],Ie=Object(i.f)(),ze=u.filter((function(e){return e.isLiked})).length,Ae=d.filter((function(e){return!e.isDeleted})),Ue=!!u.filter((function(e){return e.userlikes.email===m&&!0===e.isLiked})).length,De=Object(s.useState)(Ae),_e=Object(o.a)(De,2);_e[0],_e[1];c.search("http")>=0&&(t=c.split(" ").filter((function(e){return e.search("http")>=0}))[0].split("\n").filter((function(e){return e.search("http")>=0})),c=c.replace(t,""));var Pe=function(){ie(!le)},Fe=function(){X(!$),q(c),Ee(!1)},Re=function(){k(!N),e.twit.formActive=!N};return Object(w.jsxs)("div",{id:"".concat(r),style:{fontSize:"1.1em",fontWeight:"400"},className:"bg-white text-black shadow-lg border-2 border-gray-300 rounded-lg px-2 m-0 pb-4 mb-4",children:[Object(w.jsxs)("p",{className:"flex justify-between mb-2",children:[Object(w.jsx)("span",{}),Object(w.jsx)("span",{className:ce?"mr-2 mb-1 text-xs self-end":"mr-2 mb-1 invisible text-xs self-end",children:"copied"})]}),Object(w.jsxs)("span",{className:"text-xs mb-2 -mt-2 flex justify-between",children:[Object(w.jsx)(I.a,{fromNow:!0,children:j}),Object(w.jsxs)("span",{className:"flex",children:[Ce&&Object(w.jsxs)(w.Fragment,{children:[m===l.email&&!$&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("span",{className:"flex flex-col cursor-pointer mr-2 p-2 -mt-2 rounded-full text-gray-500 ".concat(Ce?"":"invisible"),onClick:function(){return Fe()},children:[Object(w.jsx)("span",{className:"m-auto mb-2",children:Object(w.jsx)(_.a,{size:18})}),Object(w.jsx)("span",{children:"Edit"})]}),Object(w.jsx)("span",{className:"cursor-pointer flex-col mr-2 p-2 -mt-2 flex text-gray-500",onClick:function(){return x("DELETE","".concat(p,"/twits/").concat(r)),void Ee(!1)},children:J?Object(w.jsx)(ae,{height:20,width:20,color:"#00bfff"}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("span",{className:"m-auto mb-2",children:Object(w.jsx)(U.c,{size:18,color:"red"})}),Object(w.jsx)("span",{children:"Clear"})]})})]}),Object(w.jsxs)("span",{className:"justify-center flex flex-col rounded-full p-2 cursor-pointer -mt-2 mr-0 text-gray-500 ".concat(Ce?"":"invisible"),onClick:function(){return function(e,t){navigator.share&&navigator.share({title:"Buzz",url:"https://obabuzz.netlify.app/twits/#".concat(e),text:"".concat(null===t||void 0===t?void 0:t.slice(0,80),"...")}).then((function(){Ee(!1)})).catch(console.error)}(r,c)},children:[Object(w.jsx)("span",{className:"m-auto mb-2",children:Object(w.jsx)(A.b,{size:16})}),Object(w.jsx)("span",{children:"Share"})]})]}),Object(w.jsx)("span",{className:"justify-center flex flex-col rounded-full p-2 cursor-pointer -mt-2 mr-0 text-gray-500",onClick:function(){Ee(!Ce)},children:Ce?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("span",{className:"m-auto mb-2",children:Object(w.jsx)(D.c,{size:18})}),Object(w.jsx)("span",{children:"Hide"})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("span",{className:"m-auto mb-2",children:Object(w.jsx)(Q.b,{size:18})}),Object(w.jsx)("span",{children:"More"})]})})]})]}),$&&Object(w.jsxs)("div",{className:"mb-5",children:[Object(w.jsx)("textarea",{className:"border-gray-200 border-2 p-2 mb-2 rounded bg-white-300 focus:outline-none text-black",style:{width:"100%"},cols:3,rows:4,maxLength:550,value:G,onChange:function(e){q(e.target.value)},required:!0}),Object(w.jsx)("br",{}),E?Object(w.jsx)(ae,{height:20,width:20,color:"#00bfff"}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("span",{className:"text-xs cursor-pointer bg-gray-500 p-2 m-2 text-white rounded hover:bg-gray-400",onClick:function(){return Fe()},children:"Cancel"}),Object(w.jsx)("span",{className:"text-xs cursor-pointer bg-green-600 p-2 mb-2 text-white rounded hover:bg-green-400 hover:text-black",onClick:function(){return x("PATCH","".concat(p,"/twits/").concat(r),{text:G}),z(!0),void setTimeout((function(){z(!1),X(!1)}),1e3)},children:"Update Story"})]})]}),!$&&Object(w.jsxs)("div",{style:{fontSize:"1.3em",lineHeight:2},className:"mt-6 px-2",children:[c.length>100?c.slice(0,100):Object(w.jsxs)(w.Fragment,{children:[c," ",t&&Object(w.jsx)("a",{className:"underline",href:t,target:"_blank",children:"link"})]}),le?Object(w.jsxs)(w.Fragment,{children:[c.slice(100),Object(w.jsx)(w.Fragment,{children:c.length>100&&Object(w.jsxs)("span",{className:"cursor-pointer",onClick:Pe,children:[t&&Object(w.jsx)("a",{className:"underline",href:t,target:"_blank",children:"link"}),"...",Object(w.jsx)("span",{style:{fontStyle:"italic",fontWeight:"0.3em"},className:"underline",children:"See less"})]})})]}):Object(w.jsx)(w.Fragment,{children:c.length>100&&Object(w.jsxs)("span",{style:{fontStyle:"italic",fontWeight:"0.3em"},className:"cursor-pointer",onClick:Pe,children:["...",Object(w.jsx)("span",{className:"underline",children:"See more"})]})}),Object(w.jsx)("br",{}),new Date(b).getTime()-new Date(j).getTime()>0&&Object(w.jsxs)("span",{className:"text-xs",children:["Updated ",Object(w.jsx)(I.a,{fromNow:!0,children:b})]})]}),Object(w.jsx)("span",{children:n&&Object(w.jsx)("img",{style:{width:"100%"},src:n,alt:"imgurl",className:"rounded max-h-100 cursor-pointer"})}),Object(w.jsx)(Z,{show:ge,handleShow:function(e){ve(!ge),Ne(e)},sourceData:Se}),(ze>0||d.length>0)&&Object(w.jsxs)("div",{className:"flex text-md p-1 px-3 mt-1 -mx-4",children:[Object(w.jsx)("span",{onClick:function(){je?be(!1):(pe(!1),be(!0))},children:ze>0&&Object(w.jsxs)("span",{className:"mr-2 cursor-pointer",children:[ze," "," ",ze>1?"likes":"like"," "]})}),Object(w.jsx)("span",{onClick:function(){xe?pe(!1):(be(!1),pe(!0))},children:Ae.length>0&&Object(w.jsxs)("span",{className:"cursor-pointer",children:[Ae.length," "," ",Ae.length>1?"comments":"comment"," "]})})]}),Object(w.jsxs)("div",{className:"justify-between text-gray-800 flex mt-1 pt-2 px-3 -mb-3 -mx-5 border-t-2",children:[Object(w.jsxs)("span",{className:"mx-1 flex cursor-pointer",onClick:function(e){return Ie.push("/".concat(l.username))},children:[null!==l.imageUrl?Object(w.jsx)("span",{className:"mr-1",children:g?Object(w.jsx)(A.a,{size:30}):Object(w.jsx)("img",{src:l.imageUrl,alt:"Profile",style:{width:"30px",height:"30px",borderRadius:"50%"}})}):Object(w.jsx)(A.a,{size:30}),Object(w.jsx)("span",{className:"text-md pt-1 text-blue-600",children:m===l.email?"Me":"@".concat(l.username)})]}),Object(w.jsxs)("span",{className:"flex",children:[R?Object(w.jsx)(ae,{height:20,width:18,color:"#00bfff"}):Object(w.jsxs)("span",{style:{cursor:"pointer"},className:"flex flex-col text-xs mx-2",onClick:function(){return L(!0),x("POST","".concat(p,"/likes/like/").concat(r)),void setTimeout((function(){L(!1)}),800)},children:[Object(w.jsx)("span",{className:Ue?"text-blue-500 m-auto":"text-gray-500 m-auto",children:Object(w.jsx)(U.b,{size:18})}),Object(w.jsx)("span",{children:"Like"})]}),Object(w.jsxs)("span",{className:"text-xs cursor-pointer mx-2 flex text-gray-500 flex-col",onClick:function(){Re()},children:[Object(w.jsx)("span",{className:"m-auto",children:Object(w.jsx)(Q.f,{size:16})}),Object(w.jsx)("span",{children:"Comment"})]})]})]}),N&&Object(w.jsx)(Y,{twitId:r,showCommentForm:Re,sync:f,setSync:O}),je&&Object(w.jsx)("div",{className:"border-2 border-gray-200 shadow-lg mt-4 rounded",children:u.map((function(e,t){return Object(w.jsx)(te,{person:e,email:m,error:g},t)}))}),xe&&Object(w.jsx)(w.Fragment,{children:d.length>0&&Object(w.jsx)("div",{className:"mt-4 rounded",children:Ae.sort((function(e,t){return-new Date(t.createdAt).getTime()+new Date(e.createdAt).getTime()})).map((function(e,t){return Object(w.jsx)(ee,{comment:e,apiCallHook:x,email:m,userId:h,error:g},t)}))})})]})},ee=function(e){var t,a=e.comment,r=a.id,c=a.text,n=a.usercomments,l=a.likecomments,u=a.createdAt,d=e.email,j=e.userId,b=e.apiCallHook,m=e.error,h=Object(s.useState)(!1),x=Object(o.a)(h,2),p=(x[0],x[1]),O=Object(s.useState)(!1),g=Object(o.a)(O,2),v=g[0],y=g[1],S=Object(s.useState)(!1),N=Object(o.a)(S,2),k=N[0],T=N[1],C=Object(i.f)(),E=function(){T(!k)},z=!!l.filter((function(e){return e.userId===j&&!0===e.isLiked})).length,D=null===l||void 0===l?void 0:l.filter((function(e){return e.isLiked})).length,_=Object(s.useState)(D),P=Object(o.a)(_,2),F=P[0],R=P[1],L=Object(s.useState)(z),B=Object(o.a)(L,2),W=B[0],J=B[1];c.search("http")>=0&&(t=c.split(" ").filter((function(e){return e.search("http")>=0}))[0].split("\n").filter((function(e){return e.search("http")>=0})),c=c.replace(t,""));return Object(w.jsxs)("div",{id:"".concat(r),className:"bg-gray-200 border-2 border-gray-200 shadow-md mb-3 p-1 rounded",children:[Object(w.jsx)("span",{className:"text-xs mb-2 ml-2",children:Object(w.jsx)(I.a,{fromNow:!0,children:u})}),Object(w.jsxs)("p",{style:{fontSize:"1.1em",lineHeight:2},className:"p-2 pl-4",children:[c.length>100?c.slice(0,100):Object(w.jsxs)(w.Fragment,{children:[c," ",t&&Object(w.jsx)("a",{className:"underline",href:t,target:"_blank",children:"link"})]}),k?Object(w.jsxs)(w.Fragment,{children:[c.slice(100),Object(w.jsx)(w.Fragment,{children:c.length>100&&Object(w.jsxs)("span",{style:{color:"gray",fontWeight:"0.3em"},className:"cursor-pointer",onClick:E,children:[t&&Object(w.jsx)("a",{className:"underline",href:t,target:"_blank",children:"link"}),"...",Object(w.jsx)("span",{className:"italic underline",children:"See less"})]})})]}):Object(w.jsx)(w.Fragment,{children:c.length>100&&Object(w.jsxs)("span",{style:{color:"gray",fontWeight:"0.3em"},className:"cursor-pointer",onClick:E,children:["...",Object(w.jsx)("span",{className:"italic underline",children:"See more"})]})})]}),F>0&&Object(w.jsx)("div",{className:"flex text-xs p-1 px-3 mt-1 -mx-1",children:F>0&&Object(w.jsxs)("span",{className:"mr-2",children:[F," "," ",F>1?"likes":"like"," "]})}),Object(w.jsxs)("div",{style:{fontSize:"0.9em"},className:"flex justify-between text-gray-800 flex mt-1 mb-1 pt-2 -ml-1 -mr-1 border-t-2 border-gray-200",children:[Object(w.jsxs)("span",{className:"mx-1 flex cursor-pointer",onClick:function(e){return C.push("/".concat(n.username))},children:[n.imageUrl?Object(w.jsx)("span",{className:"mr-1",children:m?Object(w.jsx)(A.a,{size:20}):Object(w.jsx)("img",{src:n.imageUrl,alt:"Profile",style:{width:"1.5em",height:"1.5em",borderRadius:"50%"}})}):Object(w.jsx)(A.a,{size:20}),Object(w.jsxs)("span",{className:" text-blue-600",children:["@",d===n.email?"Me":n.username]})]}),Object(w.jsxs)("span",{className:"flex",children:[Object(w.jsx)("span",{style:{cursor:"pointer"},className:"mx-2 flex",onClick:function(){return W?(J(!W),R(D-1)):(J(!W),R(D+1)),void b("POST","".concat(f.baseUrl,"/likecomments/like/").concat(r))},children:Object(w.jsx)("span",{className:W?"text-blue-500":"text-gray-500",children:Object(w.jsx)(U.b,{size:20})})}),d===n.email&&Object(w.jsx)("span",{style:{cursor:"pointer"},className:"mx-2 flex hover:text-red-800",onClick:function(){return y(!0),setTimeout((function(){p(!1)}),1e3),void b("DELETE","".concat(f.baseUrl,"/comments/").concat(r))},children:v?Object(w.jsx)(ae,{height:20,width:20,color:"#00bfff"}):Object(w.jsx)(U.c,{size:20,color:"red"})})]})]})]})},te=function(e){var t=e.person,a=e.email,s=e.error,r=Object(i.f)();return Object(w.jsx)("div",{className:"flex cursor-pointer hover:bg-gray-300 justify-between p-2 border-t-2 border-gray-200 pb-1",onClick:function(e){return r.push("/".concat(t.userlikes.username))},children:Object(w.jsxs)("span",{className:"mx-1 flex",children:[t.userlikes.imageUrl?Object(w.jsx)("span",{children:s?Object(w.jsx)(A.a,{size:23}):Object(w.jsx)("img",{src:t.userlikes.imageUrl,alt:"Profile",style:{width:"1.5em",height:"1.5em",borderRadius:"50%"}})}):Object(w.jsx)(A.a,{size:23}),Object(w.jsxs)("span",{className:" text-blue-600 ml-1",children:["@",a===t.userlikes.email?"Me":t.userlikes.username]})]})})},ae=function(e){var t=e.height,a=e.width,s=e.color;return Object(w.jsx)("span",{className:"m-auto mr-4",children:Object(w.jsx)(x.a,{type:"ThreeDots",color:s,height:t,width:a})})};function se(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)(""),n=Object(o.a)(c,2),l=n[0],u=(n[1],Object(s.useState)([])),b=Object(o.a)(u,2),h=(b[0],b[1]),p=Object(s.useState)(!1),O=Object(o.a)(p,2),g=O[0],v=O[1],y=Object(s.useState)(0),S=Object(o.a)(y,2),k=S[0],T=S[1],C=Object(s.useState)(!1),E=Object(o.a)(C,2),I=E[0],R=E[1],L=Object(s.useState)(!1),B=Object(o.a)(L,2),W=B[0],J=B[1],H=Object(s.useState)(!1),M=Object(o.a)(H,2),Q=(M[0],M[1]),q=Object(s.useState)(!1),Y=Object(o.a)(q,2),K=Y[0],Z=(Y[1],G.getState),$=G.dispatch,ee=(Z(),Object(z.b)((function(e){return e}))),te=ee.twits,ae=ee.twitCount,se=ee.users,re=ee.formActive,ce=ee.page,ne=(ee.perPage,localStorage.getItem("email")?localStorage.getItem("email"):""),oe=localStorage.getItem("username")?localStorage.getItem("username"):"",le=localStorage.getItem("userId")?localStorage.getItem("userId"):"",ie=localStorage.getItem("img")?localStorage.getItem("img"):"",ue=Object(i.f)(),de=localStorage.getItem("token"),je="".concat(f.baseUrl,"/twits"),be=function(){$({type:"SET_FORM_ACTIVE",data:!re})},me=function(){pe(1,50,"refresh")},he=function(e){T(window.document.documentElement.scrollTop),te.length<ae&&(e.target.documentElement.scrollHeight-(window.innerHeight+e.target.documentElement.scrollTop)<1720?R(!0):R(!1))},xe=function(){var e=Object(j.a)(d.a.mark((function e(t,a,s){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:t,url:a,data:s,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(de)}}).catch((function(e){var t,a;e.isAxiosError&&r(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)}));case 2:c=e.sent,"POST"===t?$({type:"UPDATE_TWIT",data:c.data.data}):me();case 4:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),pe=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,s,c,n=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:1,a=n.length>1&&void 0!==n[1]?n[1]:50,s=n.length>2&&void 0!==n[2]?n[2]:null,de){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,m()({method:"GET",url:"".concat(je,"?page=").concat(t,"&perPage=").concat(a),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(de)}}).catch((function(e){var t,a;e.isAxiosError&&r(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)}));case 7:(c=e.sent)&&c.data.success?s?($({type:"SET_REFRESH_TWIT_DATA",data:c.data.data}),localStorage.setItem("twits",JSON.stringify(c.data.data)),Q(!1)):($({type:"SET_TWIT_DATA",data:c.data.data}),localStorage.setItem("twits",JSON.stringify(c.data.data)),R(!1),J(!1)):(r("Please check your network"),$({type:"SET_TWIT_DATA",data:JSON.parse(localStorage.getItem("twits"))}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:"GET",url:"".concat(f.baseUrl,"/auth/users"),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(de)}}).catch((function(e){var t,a;e.isAxiosError&&r(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)}));case 2:(t=e.sent)&&t.data.success?($({type:"SET_USER_COUNT",data:t.data.data.count}),$({type:"SET_PEOPL_DATA",data:t.data.data.users}),localStorage.setItem("userCount",t.data.data.count)):(r("Error found"),r("Please check your network"),$({type:"SET_USER_COUNT",data:JSON.parse(localStorage.getItem("userCount"))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(e){$({type:"DELETE_TWIT",data:e})},ge=function(){te.map((function(e){return e.formActive=!1,e}))},ve=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("sub"))){e.next=6;break}return e.next=4,m()({method:"POST",url:"".concat(f.baseUrl,"/checksub"),data:{sub:JSON.parse(t),id:le},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(de)}}).catch((function(e){var t,a;e.isAxiosError&&r(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)}));case 4:(a=e.sent)&&a.data.success&&localStorage.setItem("subed",!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:"GET",url:"".concat(f.baseUrl,"/push")}).then((function(e){return $({type:"SET_SUBS",data:e.data.data}),localStorage.setItem("subs",JSON.stringify(e.data.data)),e}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){return function(){var e=te.filter((function(e){return e.text.toLowerCase().indexOf(l.toLowerCase())>=0}));h(e)}(),function(){}}),[l]),Object(s.useEffect)((function(){return de&&me(),function(){}}),[K]),Object(s.useEffect)((function(){return window.addEventListener("scroll",he),function(){return window.removeEventListener("scroll",he)}}),[]),Object(s.useEffect)((function(){return localStorage.setItem("hash",window.location.hash),de?(fe(),"hobar"===oe&&we(),ve(),function(){}):ue.push("/")}),[]),Object(s.useEffect)((function(){return de&&setTimeout((function(){var e;localStorage.getItem("hash");e=window.location.hash.replace("#","");var t=document.getElementById(e);t&&t.scrollIntoView()}),0),function(){}}),[te]),Object(w.jsxs)("div",{id:"top",style:{fontFamily:"Raleway",height:"90vh",fontSize:"0.8em"},className:"text-md mb-5 p-3 m-auto flex justify-center md:w-1/2",children:[Object(w.jsxs)("span",{style:{cursor:"pointer",borderRadius:"50%"},className:"text-xs mb-3 fixed bottom-10 right-2 bg-green-500 px-4 py-2 text-white",children:[Object(w.jsx)(P.b,{size:25,onClick:be}),"post"]}),k>3e3&&Object(w.jsxs)("span",{style:{cursor:"pointer",borderRadius:"50%",bottom:"10em"},className:"text-xs fixed bottom-5 right-2 bg-purple-500 px-5 py-3 text-white",children:[Object(w.jsx)(P.a,{size:20,onClick:function(){setTimeout((function(){document.getElementById("top").scrollIntoView()}),0)}}),"top"]}),re&&Object(w.jsx)(V,{error:a,showForm:be,sync:g,setSync:v,refreshData:me}),!re&&Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{className:"flex justify-center m-auto -mt-3 p-2 md:w-1/2 flex-col",children:[Object(w.jsxs)("p",{style:{marginTop:"3em"},className:"text-center mb-2 pt-2 grow",children:[Object(w.jsxs)("span",{style:{fontFamily:"Architects Daughter",fontSize:"2em"},className:"text-purple-900 font-bold italic",children:["Buzz",Object(w.jsx)("br",{})]}),Object(w.jsx)("span",{style:{fontSize:"1.2em"},children:" Feel free, express yourself & network "})]}),Object(w.jsxs)("div",{style:{top:"0em",margin:"auto"},className:"p-2 rounded mb-2 flex justify-between border-4 border shadow-md fixed right-0 left-0 bg-white md:w-1/2",children:["null"!==ie?Object(w.jsx)("span",{className:"cursor-pointer",onClick:function(e){return ue.push("/".concat(oe))},children:a?Object(w.jsx)(A.a,{size:25}):Object(w.jsx)("img",{src:ie,alt:"Profile",style:{width:"30px",height:"30px",borderRadius:"50%"}})}):Object(w.jsx)("span",{className:"text-left cursor-pointer",children:Object(w.jsx)(A.a,{size:25,onClick:function(e){return ue.push("/".concat(oe))}})}),Object(w.jsxs)("span",{className:"text-left flex cursor-pointer",onClick:function(e){return ue.push("people")},children:[Object(w.jsx)(D.b,{size:30}),Object(w.jsx)("span",{className:"pt-1 pl-1",children:se>0&&se})]}),Object(w.jsx)("span",{style:{cursor:"pointer"},className:"text-right",onClick:function(){return localStorage.removeItem("token"),void ue.push("/")},children:Object(w.jsx)(N,{})})]}),te.length<ae&&Object(w.jsx)(w.Fragment,{children:I&&Object(w.jsx)("div",{onClick:function(){return function(){J(!0);var e=ce+1;te.length<ae&&(pe(e),$({type:"SET_PAGE",data:e}))}()},style:{bottom:"2.5em",margin:"auto"},className:"animate-bounce transition p-2 hover:bg-blue-400 cursor-pointer text-lg rounded flex justify-around shadow-md fixed right-0 left-0 bg-blue-500 text-white md:w-1/2",children:W?"Loading ...":"Load more posts ..."})}),Object(w.jsxs)("div",{style:{bottom:"0em",margin:"auto"},className:"pb-1 rounded flex justify-around border-2 border shadow-md fixed right-0 left-0 bg-white md:w-1/2",children:[Object(w.jsx)("span",{className:"cursor-pointer pt-1 border-t-2 border-black",onClick:function(){return ue.push("/twits")},children:Object(w.jsx)(U.a,{size:25,color:"black"})}),"hobar"===oe&&Object(w.jsx)("span",{className:"cursor-pointer pt-3",onClick:function(e){return ue.push("/subscriptions")},children:Object(w.jsx)(F.a,{size:20,color:"gray"})}),Object(w.jsx)("span",{className:"cursor-pointer pt-2",onClick:function(e){return ue.push("/people")},children:Object(w.jsx)(D.b,{size:30,color:"gray"})}),Object(w.jsx)("span",{className:"cursor-pointer pt-2",onClick:function(e){return ue.push("/chats/".concat(oe))},children:Object(w.jsx)(_.b,{size:25,color:"gray"})})]}),a&&Object(w.jsx)("div",{style:{fontFamily:"Roboto",backgroundColor:"white",fontWeight:"bold"},className:"text-red-500 text-center py-1 m-0 rounded border-3 -mx-2 md:w-300",children:"Please check your network !"})]}),te.length<1?Object(w.jsx)("div",{className:"flex justify-center items-center pt-8 m-auto",children:Object(w.jsx)(x.a,{type:"Bars",color:"#00bfff",height:80,width:80})}):Object(w.jsx)("div",{className:"",children:te.sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})).map((function(e,t){return Object(w.jsx)(X,{twit:e,email:ne,userId:le,apiCallHook:xe,baseUrl:f.baseUrl,frontendUrl:f.frontendUrl,sync:g,setSync:v,showForm:be,formActive:re,checkOpenForms:ge,error:a,handleDeleteTwit:Oe},t)}))})]})]})}var re=a(41);function ce(e){var t=e.imgUrl,a=e.error,r=e.email,c=e.userData,n=e.apiCallHook,l=Object(s.useState)(""),i=Object(o.a)(l,2),u=i[0],b=i[1],m=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,s,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],s=new FormData,"https://api.cloudinary.com/v1_1/thevetdoctor/image/upload",s.append("file",a),s.append("upload_preset","zunt8yrw"),e.next=7,fetch("https://api.cloudinary.com/v1_1/thevetdoctor/image/upload",{method:"POST",body:s});case 7:return r=e.sent,e.next=10,r.json();case 10:c=e.sent,b(c.secure_url),n("PATCH","".concat(f.baseUrl,"/auth/imageurl/update"),{imageUrl:c.secure_url});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsx)("div",{className:"flex p-1 rounded ml-1 mr-4 md:w-1/5",children:Object(w.jsxs)("label",{className:"".concat(r===(null===c||void 0===c?void 0:c.email)&&"cursor-pointer"," -ml-2 -mr-5 flex"),children:[u||t?Object(w.jsx)(w.Fragment,{children:a?Object(w.jsx)("span",{className:"flex bg-gray-200 p-3 rounded flex-grow",children:Object(w.jsx)(A.a,{size:100})}):Object(w.jsx)("img",{style:{width:"25em"},src:u||t,alt:"avatar",className:"w-40 max-h-52 rounded-lg -mr-2"})}):Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("span",{className:"flex bg-gray-300 p-3 rounded flex-grow",children:Object(w.jsx)(A.a,{size:100})})}),r===(null===c||void 0===c?void 0:c.email)&&Object(w.jsx)("input",{type:"file",placeholder:"",accept:"image/*;capture",className:"hidden",onChange:function(e){return m(e)}})]})})}function ne(e){var t=e.url,a=e.count,s=e.status,r=Object(i.f)();return Object(w.jsxs)("span",{className:"flex-col flex text-center p-2 cursor-pointer",onClick:function(e){return r.push(t)},children:[Object(w.jsx)("span",{className:"text-lg font-bold",children:a}),Object(w.jsxs)("span",{className:"text-xs",children:[" ",s]})]})}function oe(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)(""),n=Object(o.a)(c,2),l=(n[0],n[1],Object(s.useState)(!1)),u=Object(o.a)(l,2),b=u[0],h=u[1],p=Object(s.useState)(!1),O=Object(o.a)(p,2),g=O[0],v=O[1],y=Object(i.g)().user,S=Object(i.f)(),N=localStorage.getItem("email")?localStorage.getItem("email"):"",T=localStorage.getItem("username")?localStorage.getItem("username"):"",C=(localStorage.getItem("img")&&localStorage.getItem("img"),localStorage.getItem("token")),E=G.getState,P=G.dispatch,F=(E(),Object(z.b)((function(e){return e}))),R=(F.twits,F.formActive,F.userData),L=(F.followers,F.following,F.followerCount),B=F.isFollower,W=F.isFollowing,J=F.followingCount,H=F.userTwits,M=function(){var e=Object(j.a)(d.a.mark((function e(t,a,s){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:t,url:a,data:s,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(C)}}).catch((function(e){var t,a;e.isAxiosError&&r(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)}));case 2:(c=e.sent)&&c.data.success?"GET"===t?(P({type:"SET_USERS_DATA",data:c.data.data.users}),P({type:"SET_PEOPLE_DATA",data:c.data.data.users}),P({type:"SET_USER",data:{user:y,email:N}}),localStorage.setItem("peopleData",JSON.stringify(c.data.data.users)),localStorage.setItem("usersData",JSON.stringify(c.data.data.users)),localStorage.setItem("users",JSON.stringify(c.data.data.users)),r("")):(Object(k.b)("updated successfully!"),v(!g)):(r("Please check your network"),P({type:"SET_USERS_DATA",data:JSON.parse(localStorage.getItem("usersData"))}),P({type:"SET_PEOPLE_DATA",data:JSON.parse(localStorage.getItem("usersData"))}),P({type:"SET_USER",data:{user:y,email:N}}));case 4:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){return C?(M("GET","".concat(f.baseUrl,"/auth/users")),function(){}):S.push("/")}),[g]),Object(s.useEffect)((function(){return P({type:"SET_USER",data:{user:y,email:N}}),console.log(R),function(){}}),[]),Object(w.jsxs)("div",{id:"".concat(y),style:{fontFamily:"Raleway",fontSize:"1.1em"},className:"shadow-lg border border-gray-200 rounded p-2 mb-4 m-auto justify-center md:w-1/2",children:[Object(w.jsxs)("div",{style:{margin:"auto",top:"0em"},className:"flex justify-between mb-6 border-3 border -mt-2 -mx-2 shadow-md p-2 bg-white fixed right-0 left-0 md:w-1/2",children:[Object(w.jsx)("span",{className:"cursor-pointer",onClick:function(){return S.goBack()},children:Object(w.jsx)(D.a,{size:30})}),Object(w.jsx)("span",{style:{fontFamily:"Raleway"},className:"text-xl font-bold self-center",children:"Profile"}),Object(w.jsx)("span",{className:"invisible",children:"yeah"})]}),Object(w.jsxs)("div",{style:{bottom:"0em",margin:"auto"},className:"pb-1 rounded flex justify-around border-2 border shadow-md fixed right-0 left-0 bg-white md:w-1/2",children:[Object(w.jsx)("span",{className:"cursor-pointer pt-2",onClick:function(){return S.push("/twits")},children:Object(w.jsx)(U.a,{size:25,color:"gray"})}),Object(w.jsx)("span",{className:"cursor-pointer pt-2",onClick:function(e){return S.push("/people")},children:Object(w.jsx)(D.b,{size:30,color:"gray"})}),Object(w.jsx)("span",{className:"cursor-pointer pt-2",onClick:function(e){return S.push("/chats/".concat(T))},children:Object(w.jsx)(_.b,{size:25,color:"gray"})})]}),Object(w.jsx)(k.a,{}),R?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{style:{marginTop:"3em"},className:"mb-1 p-1 flex flex-col border-2 border shadow-md rounded bg-gray-200",children:[Object(w.jsxs)("div",{className:"flex flex-grow",children:[Object(w.jsx)("div",{children:Object(w.jsx)(ce,{imgUrl:null===R||void 0===R?void 0:R.imageUrl,error:a,email:N,userData:R,apiCallHook:M})}),Object(w.jsx)("div",{className:"flex ml-3 mb-1",children:Object(w.jsxs)("div",{className:"flex flex-col text-center align-items-center",children:[Object(w.jsxs)("div",{className:"flex flex-col",children:[Object(w.jsx)("span",{className:"text-xl font-semibold ml-2 mb-2",children:null===R||void 0===R?void 0:R.username}),Object(w.jsx)("span",{className:"self-center mb-1 text-sm font-semibold bg-green-400 rounded text-white ".concat((null===R||void 0===R?void 0:R.verified)?"w-20":"w-40"),children:(null===R||void 0===R?void 0:R.verified)?"Verified":"Not verified"})]}),Object(w.jsxs)("div",{className:"flex justify-center rounded bg-gray-300 shadow-md",children:[Object(w.jsx)(ne,{url:"/follower/".concat(y),count:L,status:L>1?"followers":"follower"}),Object(w.jsx)(ne,{url:"/following/".concat(y),count:J,status:"following"}),Object(w.jsx)(ne,{url:"/twits/".concat(y),count:H.length,status:H.length>1?"posts":"post"})]})]})})]}),Object(w.jsx)("div",{className:"text-sm text-center font-semibold p-1 border-2 bg-gray-400 shadow-md rounded-lg",children:Object(w.jsxs)("div",{className:"".concat((null===R||void 0===R?void 0:R.bioVisible)&&"hidden"," px-2"),children:[Object(w.jsx)("div",{className:"text-white text-center font-semibold mb-2",children:"About Me"}),Object(w.jsx)("div",{children:(null===R||void 0===R?void 0:R.bio)?null===R||void 0===R?void 0:R.bio:"Not yet specified"})]})})]}),Object(w.jsx)(w.Fragment,{children:a&&Object(w.jsx)("div",{style:{backgroundColor:"white",fontSize:"0.6em"},className:"text-red-500 text-center py-1 mb-0 rounded",children:a})}),Object(w.jsxs)("span",{className:"text-sm pt-3 pb-1 mt-1 flex justify-between bg-gray-100",children:[Object(w.jsxs)("span",{children:[Object(w.jsxs)("span",{className:"",children:["Joined: ",Object(w.jsx)(I.a,{fromNow:!0,children:null===R||void 0===R?void 0:R.createdAt})]}),Object(w.jsx)("br",{}),W&&Object(w.jsx)("span",{className:"text-xs text-white bg-gray-500 rounded p-1 mb-3",children:"Follows you"})]}),Object(w.jsx)("span",{className:"flex",children:N!==(null===R||void 0===R?void 0:R.email)&&Object(w.jsx)(w.Fragment,{children:b?Object(w.jsx)(ae,{height:20,width:20,color:""}):Object(w.jsxs)("span",{className:"flex flex-col",children:[Object(w.jsx)("span",{className:"invisible mt-2 mr-1"}),Object(w.jsx)("span",{className:"text-white bg-blue-900 rounded hover:bg-blue-400 p-1 cursor-pointer -mt-2 mr-1",onClick:function(){return h(!0),setTimeout((function(){h(!1)}),1e3),void(B?M("PATCH","".concat(f.baseUrl,"/followers/unfollow"),{followerId:null===R||void 0===R?void 0:R.id}):M("POST","".concat(f.baseUrl,"/followers/follow"),{followerId:null===R||void 0===R?void 0:R.id}))},children:B?"Following":"Follow"})]})})})]}),Object(w.jsx)(w.Fragment,{}),Object(w.jsx)(le,{email:N,userData:R,apiCallHook:M,defaultUsername:T})]}):Object(w.jsx)("div",{style:{marginTop:"3.5em"},className:"flex justify-center items-center pt-8",children:Object(w.jsx)(x.a,{type:"Bars",color:"#00bfff",height:80,width:80})}),!(null===R||void 0===R?void 0:R.username)&&Object(w.jsx)("div",{className:"flex",children:Object(w.jsx)("span",{className:"m-auto",children:Object(w.jsx)(A.a,{size:300})})})]})}var le=function(e){var t=e.userData,a=e.email,r=e.apiCallHook,c=(e.defaultUsername,t.name),n=t.username,l=t.bio,i=t.location,u=t.mobile,d=t.dob,j=Object(s.useState)(!1),b=Object(o.a)(j,2),m=b[0],h=b[1],x=Object(s.useState)(c),p=Object(o.a)(x,2),O=p[0],g=p[1],v=Object(s.useState)(n),y=Object(o.a)(v,2),S=y[0],N=y[1],k=Object(s.useState)(l),T=Object(o.a)(k,2),C=T[0],E=T[1],I=Object(s.useState)(i),z=Object(o.a)(I,2),U=z[0],D=z[1],_=Object(s.useState)(d),P=Object(o.a)(_,2),F=P[0],R=P[1],L=Object(s.useState)(u),B=Object(o.a)(L,2),W=B[0],J=B[1],H=Object(s.useState)(!1),M=Object(o.a)(H,2),G=M[0],Q=M[1],q=Object(s.useState)(!1),V=Object(o.a)(q,2),Y=V[0],K=V[1],Z=Object(s.useState)(!1),$=Object(o.a)(Z,2),X=$[0],ee=$[1],te=Object(s.useState)(!1),ae=Object(o.a)(te,2),se=ae[0],ce=ae[1],ne=Object(s.useState)(!1),oe=Object(o.a)(ne,2),le=oe[0],ie=oe[1],ue=Object(s.useState)(!1),de=Object(o.a)(ue,2),je=de[0],be=de[1],me=function(){h(!m),m&&r("PATCH","".concat(f.baseUrl,"/auth/update"),{name:O,username:S,bio:C,location:U,dob:F,mobile:W})},he=function(e){"name"===e.target.name?g(e.target.value):"username"===e.target.name?N(e.target.value):"bio"===e.target.name?E(e.target.value):"location"===e.target.name?D(e.target.value):"date-of-birth"===e.target.name?R(e.target.value):J(e.target.value)};return Object(w.jsxs)("div",{className:"border bg-gray-100 border-t-1 shadow-md rounded mt-1 mb-8",children:[Object(w.jsxs)("div",{className:"flex mt-2 justify-between mb-3",children:[Object(w.jsx)("span",{className:"ml-2 underline",children:"Profile Information"}),a===(null===t||void 0===t?void 0:t.email)&&Object(w.jsxs)(w.Fragment,{children:[!m&&Object(w.jsxs)("span",{className:" flex cursor-pointer text-black p-2 rounded-full justify-items-end",onClick:function(){return me()},children:[Object(w.jsx)(re.b,{size:18})," ",Object(w.jsx)("span",{className:"text-sm ml-1",children:"Edit"})]}),m&&Object(w.jsxs)("span",{className:"flex cursor-pointer text-black p-2 rounded-full",onClick:function(){return h()},children:[Object(w.jsx)(re.a,{size:18}),Object(w.jsx)("span",{className:"text-sm ml-1",children:"Cancel"})]}),m&&Object(w.jsxs)("span",{className:"flex cursor-pointer text-black p-2 rounded-full",onClick:function(){return me()},children:[Object(w.jsx)(re.c,{size:18}),Object(w.jsx)("span",{className:"text-sm ml-1",children:"Update"})]})]})]}),Object(w.jsxs)("div",{className:"mb-2",children:[Object(w.jsxs)("div",{className:"flex justify-between",children:[Object(w.jsx)("label",{htmlFor:"Name",className:"px-2 font-bold",children:" Name"}),a===(null===t||void 0===t?void 0:t.email)&&Object(w.jsx)("span",{className:"cursor-pointer mr-4",children:G?Object(w.jsx)("span",{className:"text-green-400",onClick:function(){return Q(!1)},children:Object(w.jsx)(A.c,{size:30})}):Object(w.jsx)("span",{className:"text-green-400",onClick:function(){return Q(!0)},children:Object(w.jsx)(A.d,{size:30})})})]}),m&&Object(w.jsx)("input",{type:"text",name:"name",value:O||c,style:{width:"16em"},onChange:he,placeholder:"Your name",className:"p-1 my-1 rounded-lg"}),!m&&Object(w.jsx)("span",{style:{fontSize:"0.7em"},className:"".concat(G&&"hidden"," px-2"),children:c||"Not available"})]}),Object(w.jsxs)("div",{className:"mb-2",children:[Object(w.jsxs)("div",{className:"flex justify-between",children:[Object(w.jsx)("label",{htmlFor:"Username",className:"px-2 font-bold",children:" Username"}),a===(null===t||void 0===t?void 0:t.email)&&Object(w.jsx)("span",{className:"cursor-pointer mr-4",children:Y?Object(w.jsx)("span",{className:"text-green-400",onClick:function(){return K(!1)},children:Object(w.jsx)(A.c,{size:30})}):Object(w.jsx)("span",{className:"text-green-400",onClick:function(){return K(!0)},children:Object(w.jsx)(A.d,{size:30})})})]}),m&&Object(w.jsx)("input",{type:"text",name:"username",value:S||n,style:{width:"16em"},onChange:he,disabled:!0,placeholder:"Update your username",className:"p-1 my-1 rounded-lg"}),!m&&Object(w.jsx)("div",{style:{fontSize:"0.7em"},className:"".concat(Y&&"hidden"," px-2"),children:n||"Not available"})]}),Object(w.jsxs)("div",{className:"mb-2",children:[Object(w.jsxs)("div",{className:"flex justify-between",children:[Object(w.jsx)("label",{htmlFor:"Bio",className:"px-2 font-bold",children:" Bio"}),a===(null===t||void 0===t?void 0:t.email)&&Object(w.jsx)("span",{className:"cursor-pointer mr-4",children:X?Object(w.jsx)("span",{className:"text-green-400",onClick:function(){return ee(!1)},children:Object(w.jsx)(A.c,{size:30})}):Object(w.jsx)("span",{className:"text-green-400",onClick:function(){return ee(!0)},children:Object(w.jsx)(A.d,{size:30})})})]}),m&&Object(w.jsx)("textarea",{type:"textarea",name:"bio",value:C||l,rows:4,cols:3,style:{width:"18em",height:"8em"},onChange:he,placeholder:"Tell the world briefly about yourself",className:"text-sm p-1 my-1 rounded-lg"}),!m&&Object(w.jsx)("div",{style:{fontSize:"0.7em"},className:"".concat(X&&"hidden"," px-2"),children:l||"Not available"})]}),Object(w.jsxs)("div",{className:"mb-2",children:[Object(w.jsxs)("div",{className:"flex justify-between",children:[Object(w.jsx)("label",{htmlFor:"Location",className:"px-2 font-bold",children:" Location"}),a===(null===t||void 0===t?void 0:t.email)&&Object(w.jsx)("span",{className:"cursor-pointer mr-4",children:se?Object(w.jsx)("span",{className:"text-green-400",onClick:function(){return ce(!1)},children:Object(w.jsx)(A.c,{size:30})}):Object(w.jsx)("span",{className:"text-green-400",onClick:function(){return ce(!0)},children:Object(w.jsx)(A.d,{size:30})})})]}),m&&Object(w.jsx)("input",{type:"text",name:"location",value:U||i,style:{width:"16em"},onChange:he,placeholder:"Share your location",className:"p-1 my-1 rounded-lg"}),!m&&Object(w.jsx)("div",{style:{fontSize:"0.7em"},className:"".concat(se&&"hidden"," px-2"),children:i||"Not available"})]}),Object(w.jsxs)("div",{className:"mb-2",children:[Object(w.jsxs)("div",{className:"flex justify-between",children:[Object(w.jsx)("label",{htmlFor:"Date of Birth",className:"px-2 font-bold",children:" Date of Birth"}),a===(null===t||void 0===t?void 0:t.email)&&Object(w.jsx)("span",{className:"cursor-pointer mr-4",children:le?Object(w.jsx)("span",{className:"text-green-400",onClick:function(){return ie(!1)},children:Object(w.jsx)(A.c,{size:30})}):Object(w.jsx)("span",{className:"text-green-400",onClick:function(){return ie(!0)},children:Object(w.jsx)(A.d,{size:30})})})]}),m&&Object(w.jsx)("input",{type:"date",name:"date-of-birth",value:F||d,style:{width:"16em"},onChange:he,placeholder:"Date of Birth",className:"p-1 my-1 rounded-lg"}),!m&&Object(w.jsx)("div",{style:{fontSize:"0.7em"},className:"".concat(le&&"hidden"," px-2"),children:d||"Not available"})]}),Object(w.jsxs)("div",{className:"mb-2",children:[Object(w.jsxs)("div",{className:"flex justify-between",children:[Object(w.jsx)("label",{htmlFor:"Phone Number",className:"px-2 font-bold",children:" Phone Number"}),a===(null===t||void 0===t?void 0:t.email)&&Object(w.jsx)("span",{className:"cursor-pointer mr-4",children:je?Object(w.jsx)("span",{className:"text-green-400",onClick:function(){return be(!1)},children:Object(w.jsx)(A.c,{size:30})}):Object(w.jsx)("span",{className:"text-green-400",onClick:function(){return be(!0)},children:Object(w.jsx)(A.d,{size:30})})})]}),m&&Object(w.jsx)("input",{name:"mobile",value:W||u,type:"tel",pattern:"/^[0]\\d{10, 12}$/",style:{width:"16em"},onChange:he,placeholder:"Drop your mobile number ",className:"p-1 my-1 rounded-lg"}),!m&&Object(w.jsx)("div",{style:{fontSize:"0.7em"},className:"".concat(je&&"hidden"," px-2"),children:u||"Not available"})]})]})};function ie(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)(""),n=Object(o.a)(c,2),l=n[0],u=n[1],b=Object(s.useState)({}),h=Object(o.a)(b,2),p=(h[0],h[1]),O=Object(s.useState)(!1),g=Object(o.a)(O,2),v=(g[0],g[1],Object(s.useState)(!1)),y=Object(o.a)(v,2),S=(y[0],y[1],Object(s.useState)(0)),N=Object(o.a)(S,2),k=(N[0],N[1],Object(s.useState)(0)),T=Object(o.a)(k,2),C=(T[0],T[1],Object(s.useState)(!1)),E=Object(o.a)(C,2),I=(E[0],E[1],Object(s.useState)(!1)),P=Object(o.a)(I,2),R=P[0],L=P[1],B=Object(i.g)().user,W=Object(i.f)(),J=G.getState,H=G.dispatch,M=(J(),Object(z.b)((function(e){return e}))),Q=(M.twits,M.users,M.peopleData),q=M.searchData,V=(M.networkStatus,M.formActive,localStorage.getItem("email")?localStorage.getItem("email"):""),Y=localStorage.getItem("username")?localStorage.getItem("username"):"",K=(localStorage.getItem("img")&&localStorage.getItem("img"),localStorage.getItem("token")),Z=function(){var e=Object(j.a)(d.a.mark((function e(t,a,s){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:t,url:a,data:s,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(K)}}).catch((function(e){var t,a;e.isAxiosError&&r(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)}));case 2:(c=e.sent)&&c.data.success?"GET"===t?(p(c.data.data.user),H({type:"SET_PEOPLE_DATA",data:c.data.data.users}),localStorage.setItem("peopleData",JSON.stringify(c.data.data.users)),H({type:"SET_SEARCH_DATA",data:c.data.data.users}),localStorage.setItem("searchData",JSON.stringify(c.data.data.users)),localStorage.setItem("users",JSON.stringify(c.data.data.users)),r("")):L(!R):(r("Please check your network"),H({type:"SET_PEOPLE_DATA",data:JSON.parse(localStorage.getItem("peopleData"))}),H({type:"SET_SEARCH_DATA",data:JSON.parse(localStorage.getItem("peopleData"))}));case 4:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){return Z("GET","".concat(f.baseUrl,"/auth/users")),H({type:"SET_SEARCH_DATA",data:JSON.parse(localStorage.getItem("peopleData"))}),function(){}}),[R]),Object(s.useEffect)((function(){return function(){var e=Q.filter((function(e){return e.username.toLowerCase().indexOf(l.toLowerCase())>=0}));H({type:"SET_SEARCH_DATA",data:e}),localStorage.setItem("searchData",JSON.stringify(e))}(),function(){}}),[l]),Object(w.jsxs)("div",{id:"".concat(B),style:{fontFamily:"Raleway",fontSize:"1.1em"},className:"shadow-lg border border-gray-200 h-full rounded p-2 mb-4 m-auto md:w-1/2",children:[Object(w.jsxs)("div",{style:{margin:"auto",top:"0em"},className:"bg-white flex justify-between p-2 mb-2 border-3 border shadow-md -mt-2 -mx-2 fixed right-0 left-0 md:w-1/2",children:[Object(w.jsx)("span",{className:"cursor-pointer text-left",onClick:function(){return W.goBack()},children:Object(w.jsx)(D.a,{size:30})}),Object(w.jsx)("span",{style:{fontFamily:"Raleway"},className:"text-xl font-bold self-center",children:"Buzzers"}),Object(w.jsx)("span",{})]}),Object(w.jsxs)("div",{style:{bottom:"0em",margin:"auto"},className:"pb-1 rounded flex justify-around border-2 border shadow-md fixed right-0 left-0 bg-white md:w-1/2",children:[Object(w.jsx)("span",{className:"cursor-pointer pt-2",onClick:function(){return W.push("/twits")},children:Object(w.jsx)(U.a,{size:25,color:"gray"})}),"hobar"===Y&&Object(w.jsx)("span",{className:"cursor-pointer pt-2",onClick:function(e){return W.push("/subscriptions")},children:Object(w.jsx)(F.a,{size:20,color:"gray"})}),Object(w.jsx)("span",{className:"cursor-pointer pt-1 border-t-2 border-black",onClick:function(e){return W.push("/people")},children:Object(w.jsx)(D.b,{size:30,color:"black"})}),Object(w.jsx)("span",{className:"cursor-pointer pt-2",onClick:function(e){return W.push("/chats/".concat(Y))},children:Object(w.jsx)(_.b,{size:25,color:"gray"})})]}),a&&Object(w.jsx)("div",{style:{backgroundColor:"white",fontWeight:"bold",marginTop:"2.5em"},className:"text-red-500 text-center py-1 -mb-9 m-1 rounded",children:"Please check your network !"}),!Q.length>0?Object(w.jsx)("div",{className:"flex mt-9 justify-center items-center pt-8",children:Object(w.jsx)(x.a,{type:"Bars",color:"#00bfff",height:80,width:80})}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)($,{searchQuery:l,handleChange:function(e){var t=e.target.value;u(t)},setSearchQuery:u,error:a}),Object(w.jsx)("div",{className:"flex flex-col text-md",children:q.sort((function(e,t){return e.email.localeCompare(t.email)})).map((function(e,t){return Object(w.jsx)("span",{className:"bg-gray-200 rounded hover:bg-gray-400 p-2 mb-2 cursor-pointer",onClick:function(){return W.push("/".concat(e.username))},children:Object(w.jsxs)("span",{className:"mx-2 flex cursor-pointer",onClick:function(t){return W.push("/".concat(e.username))},children:[e.imageUrl?Object(w.jsx)("span",{className:"mr-2",children:a?Object(w.jsx)(A.a,{size:"1.5em",color:"black"}):Object(w.jsx)("img",{src:e.imageUrl,alt:"Profile",style:{width:"1.5em",height:"1.5em",borderRadius:"50%"}})}):Object(w.jsx)("span",{className:"mr-2 text-black",children:Object(w.jsx)(A.a,{size:"1.5em"})}),V===e.email?"Me":e.username]})},t)}))})]}),Object(w.jsx)("div",{className:"flex",children:Object(w.jsx)("span",{className:"m-auto",children:Object(w.jsx)(D.b,{size:300})})})]})}function ue(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),a=t[0],r=(t[1],Object(s.useState)("")),c=Object(o.a)(r,2),n=c[0],l=c[1],u=Object(s.useState)({}),d=Object(o.a)(u,2),j=d[0],b=d[1],m=Object(s.useState)([]),h=Object(o.a)(m,2),x=h[0],p=h[1],f=Object(s.useState)([]),O=Object(o.a)(f,2),g=O[0],v=O[1],y=Object(s.useState)(!1),S=Object(o.a)(y,2),N=(S[0],S[1],Object(s.useState)(!1)),k=Object(o.a)(N,2),T=(k[0],k[1],Object(i.g)().user),C=Object(i.f)(),E=localStorage.getItem("email")?localStorage.getItem("email"):"",I=localStorage.getItem("username")?localStorage.getItem("username"):"";localStorage.getItem("img")&&localStorage.getItem("img"),localStorage.getItem("token");return Object(s.useEffect)((function(){return function(){var e=g.filter((function(e){return e.username.toLowerCase().indexOf(n.toLowerCase())>=0}));p(e)}(),function(){}}),[n]),Object(s.useEffect)((function(){var e=JSON.parse(localStorage.getItem("users")).filter((function(e){return e.username===T}))[0],t=e.followers.filter((function(e){return e.follower.isFollowed}));return b(e),p(t),v(t),function(){}}),[]),Object(w.jsxs)("div",{id:"".concat(T),style:{fontFamily:"Raleway",fontSize:"1.1em"},className:"shadow-lg border border-gray-200 h-full rounded p-2 mb-4 md:w-1/2 m-auto",children:[Object(w.jsxs)("p",{className:"flex justify-between mb-6 p-2 border-3 border shadow-md -mt-2 -mx-2 ",children:[Object(w.jsx)("span",{className:"cursor-pointer",onClick:function(){return C.goBack()},children:Object(w.jsx)(D.a,{size:30})}),Object(w.jsx)("span",{style:{fontFamily:"Raleway"},className:"text-xl font-bold self-center",children:"Followers"}),Object(w.jsx)("span",{})]}),Object(w.jsxs)("div",{style:{bottom:"0em",margin:"auto"},className:"pb-1 rounded flex justify-around border-2 border shadow-md fixed right-0 left-0 bg-white md:w-1/2",children:[Object(w.jsx)("span",{className:"cursor-pointer pt-2",onClick:function(){return C.push("/twits")},children:Object(w.jsx)(U.a,{size:25,color:"gray"})}),Object(w.jsx)("span",{className:"cursor-pointer pt-2",onClick:function(e){return C.push("/people")},children:Object(w.jsx)(D.b,{size:30,color:"gray"})}),Object(w.jsx)("span",{className:"cursor-pointer pt-2",onClick:function(e){return C.push("/chats/".concat(I))},children:Object(w.jsx)(_.b,{size:25,color:"gray"})})]}),a&&Object(w.jsx)("div",{style:{backgroundColor:"white",fontWeight:"bold"},className:"text-red-500 text-center py-2 m-1 rounded",children:"Please check your network !"}),Object(w.jsx)("div",{className:"-mb-9",children:(null===j||void 0===j?void 0:j.imageUrl)?Object(w.jsxs)("span",{className:"flex",children:[a?Object(w.jsx)(A.a,{size:"1.7em",color:"black"}):Object(w.jsx)("img",{src:null===j||void 0===j?void 0:j.imageUrl,alt:"Profile",style:{width:"2em",height:"2em",borderRadius:"50%"}}),Object(w.jsx)("span",{className:"text-xl font-semibold ml-2 mb-2",children:null===j||void 0===j?void 0:j.username})]}):Object(w.jsxs)("span",{className:"flex",children:[Object(w.jsx)(A.a,{size:30}),Object(w.jsx)("span",{className:"text-xl font-semibold ml-2 mb-2",children:null===j||void 0===j?void 0:j.username})]})}),Object(w.jsx)($,{searchQuery:n,handleChange:function(e){var t=e.target.value;l(t)},setSearchQuery:l}),Object(w.jsx)("div",{className:"flex flex-col text-md",children:x.sort((function(e,t){return e.email.localeCompare(t.email)})).map((function(e,t){return Object(w.jsx)("span",{className:"bg-gray-200 rounded hover:bg-gray-400 p-2 mb-2 cursor-pointer",onClick:function(){return C.push("/".concat(e.username))},children:Object(w.jsxs)("span",{className:"mx-2 flex cursor-pointer",onClick:function(t){return C.push("/".concat(e.username))},children:[a,e.imageUrl?Object(w.jsx)("span",{className:"mr-2",children:a?Object(w.jsx)(A.a,{size:"1.5em",color:"black"}):Object(w.jsx)("img",{src:e.imageUrl,alt:"Profile",style:{width:"1.5em",height:"1.5em",borderRadius:"50%"}})}):Object(w.jsx)("span",{className:"mr-2 text-black",children:Object(w.jsx)(A.a,{size:"1.5em"})}),E===e.email?"Me":e.username,a]})},t)}))}),Object(w.jsx)("div",{className:"flex",children:Object(w.jsx)("span",{className:"m-auto",children:Object(w.jsx)(D.b,{size:300})})})]})}function de(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),a=t[0],r=(t[1],Object(s.useState)("")),c=Object(o.a)(r,2),n=c[0],l=c[1],u=Object(s.useState)({}),d=Object(o.a)(u,2),j=d[0],b=d[1],m=Object(s.useState)([]),h=Object(o.a)(m,2),x=h[0],p=h[1],f=Object(s.useState)([]),O=Object(o.a)(f,2),g=O[0],v=O[1],y=Object(s.useState)(!1),S=Object(o.a)(y,2),N=(S[0],S[1],Object(s.useState)(!1)),k=Object(o.a)(N,2),T=(k[0],k[1],Object(i.g)().user),C=Object(i.f)(),E=localStorage.getItem("email")?localStorage.getItem("email"):"",I=localStorage.getItem("username")?localStorage.getItem("username"):"";localStorage.getItem("img")&&localStorage.getItem("img"),localStorage.getItem("token");return Object(s.useEffect)((function(){return function(){var e=g.filter((function(e){return e.username.toLowerCase().indexOf(n.toLowerCase())>=0}));p(e)}(),function(){}}),[n]),Object(s.useEffect)((function(){var e=JSON.parse(localStorage.getItem("users")).filter((function(e){return e.username===T}))[0],t=e.following.filter((function(e){return e.follower.isFollowed}));return b(e),p(t),v(t),function(){}}),[]),Object(w.jsxs)("div",{id:"".concat(T),style:{fontFamily:"Raleway",fontSize:"1.1em"},className:"shadow-lg border border-gray-200 h-full rounded p-2 mb-4 md:w-1/2 m-auto",children:[Object(w.jsxs)("p",{className:"flex justify-between mb-6 border-3 border shadow-md p-2 -mt-2 -mx-2 ",children:[Object(w.jsx)("span",{className:"cursor-pointer",onClick:function(){return C.goBack()},children:Object(w.jsx)(D.a,{size:30})}),Object(w.jsx)("span",{style:{fontFamily:"Raleway"},className:"text-xl font-bold self-center",children:"Following"}),Object(w.jsx)("span",{})]}),Object(w.jsxs)("div",{style:{bottom:"0em",margin:"auto"},className:"pb-1 rounded flex justify-around border-2 border shadow-md fixed right-0 left-0 bg-white md:w-1/2",children:[Object(w.jsx)("span",{className:"cursor-pointer pt-2",onClick:function(){return C.push("/twits")},children:Object(w.jsx)(U.a,{size:25,color:"gray"})}),Object(w.jsx)("span",{className:"cursor-pointer pt-2",onClick:function(e){return C.push("/people")},children:Object(w.jsx)(D.b,{size:30,color:"gray"})}),Object(w.jsx)("span",{className:"cursor-pointer pt-2",onClick:function(e){return C.push("/chats/".concat(I))},children:Object(w.jsx)(_.b,{size:25,color:"gray"})})]}),a&&Object(w.jsx)("div",{style:{backgroundColor:"white",fontWeight:"bold"},className:"text-red-500 text-center py-2 m-1 rounded",children:"Please check your network !"}),Object(w.jsx)("div",{className:"-mb-9",children:(null===j||void 0===j?void 0:j.imageUrl)?Object(w.jsxs)("span",{className:"flex",children:[a?Object(w.jsx)(A.a,{size:"1.7em",color:"black"}):Object(w.jsx)("img",{src:null===j||void 0===j?void 0:j.imageUrl,alt:"Profile",style:{width:"2em",height:"2em",borderRadius:"50%"}}),Object(w.jsx)("span",{className:"text-xl font-semibold ml-2 mb-2",children:null===j||void 0===j?void 0:j.username})]}):Object(w.jsxs)("span",{className:"flex",children:[Object(w.jsx)(A.a,{size:30}),Object(w.jsx)("span",{className:"text-xl font-semibold ml-2 mb-2",children:null===j||void 0===j?void 0:j.username})]})}),Object(w.jsx)($,{searchQuery:n,handleChange:function(e){var t=e.target.value;l(t)},setSearchQuery:l}),Object(w.jsx)("div",{className:"flex flex-col text-md",children:x.sort((function(e,t){return e.email.localeCompare(t.email)})).map((function(e,t){return Object(w.jsx)("span",{className:"bg-gray-200 rounded hover:bg-gray-400 p-2 mb-2 cursor-pointer",onClick:function(){return C.push("/".concat(e.username))},children:Object(w.jsxs)("span",{className:"mx-2 flex cursor-pointer",onClick:function(t){return C.push("/".concat(e.username))},children:[e.imageUrl?Object(w.jsx)("span",{className:"mr-2",children:a?Object(w.jsx)("img",{src:e.imageUrl,alt:"Profile",style:{width:"1.5em",height:"1.5em",borderRadius:"50%"}}):Object(w.jsx)(A.a,{size:"1.5em",color:"black"})}):Object(w.jsx)("span",{className:"mr-2 text-black",children:Object(w.jsx)(A.a,{size:"1.5em"})}),E===e.email?"Me":e.username]})},t)}))}),Object(w.jsx)("div",{className:"flex",children:Object(w.jsx)("span",{className:"m-auto",children:Object(w.jsx)(D.b,{size:300})})})]})}function je(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)({}),n=Object(o.a)(c,2),l=n[0],u=n[1],b=Object(s.useState)([]),h=Object(o.a)(b,2),x=h[0],p=h[1],O=Object(s.useState)(!1),g=Object(o.a)(O,2),v=g[0],y=g[1],S=Object(i.g)().user,N=Object(i.f)(),k=G.getState,T=G.dispatch,C=(k(),Object(z.b)((function(e){return e}))),E=C.twits,I=localStorage.getItem("email")?localStorage.getItem("email"):"",P=localStorage.getItem("username")?localStorage.getItem("username"):"",F=(localStorage.getItem("img")&&localStorage.getItem("img"),localStorage.getItem("token")),R="".concat(f.baseUrl,"/twits"),L=function(){var e=Object(j.a)(d.a.mark((function e(t,a,s){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:t,url:a,data:s,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(F)}}).catch((function(e){e.isAxiosError}));case 2:(c=e.sent)&&c.data.success?"GET"===t?(u(c.data.data.user),p(c.data.data.users),localStorage.setItem("users",JSON.stringify(c.data.data.users)),r("")):y(!v):r("Please check your network");case 4:case"end":return e.stop()}}),e)})));return function(t,a,s){return e.apply(this,arguments)}}(),B=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,m()({method:"GET",url:"".concat(R),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(F)}}).catch((function(e){var t,a;e.isAxiosError&&r(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)}));case 4:(t=e.sent)&&t.data.success?(T({type:"SET_TWIT_DATA",data:t.data.data}),localStorage.setItem("twits",JSON.stringify(t.data.data)),s=t.data.data.twits.filter((function(e){return e.twits.username===S})),u(null===(a=s[0])||void 0===a?void 0:a.twits),p(s)):(r("Please check your network"),T({type:"SET_TWIT_DATA",data:JSON.parse(localStorage.getItem("twits"))}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e,t=E.filter((function(e){return e.twits.username===S}));return u(null===(e=t[0])||void 0===e?void 0:e.twits),p(t),function(){}}),[]),Object(s.useEffect)(Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(),e.abrupt("return",(function(){}));case 2:case"end":return e.stop()}}),e)}))),[v]),Object(w.jsxs)("div",{id:"".concat(S),style:{fontFamily:"Raleway",fontSize:"1em"},className:"shadow-lg border border-gray-200 h-full rounded p-2 mb-4 md:w-1/2 m-auto",children:[Object(w.jsxs)("p",{className:"flex justify-between mb-6 border-3 border shadow-md p-2 -mt-2 -mx-2 ",children:[Object(w.jsx)("span",{className:"cursor-pointer text-left",onClick:function(){return N.goBack()},children:Object(w.jsx)(D.a,{size:30})}),Object(w.jsx)("span",{style:{fontFamily:"Raleway"},className:"text-xl font-bold self-center",children:"Posts"}),Object(w.jsx)("span",{})]}),Object(w.jsxs)("div",{style:{bottom:"0em",margin:"auto"},className:"pb-1 rounded flex justify-around border-2 border shadow-md fixed right-0 left-0 bg-white md:w-1/2",children:[Object(w.jsx)("span",{className:"cursor-pointer pt-2",onClick:function(){return N.push("/twits")},children:Object(w.jsx)(U.a,{size:25,color:"gray"})}),Object(w.jsx)("span",{className:"cursor-pointer pt-2",onClick:function(e){return N.push("/people")},children:Object(w.jsx)(D.b,{size:30,color:"gray"})}),Object(w.jsx)("span",{className:"cursor-pointer pt-2",onClick:function(e){return N.push("/chats/".concat(P))},children:Object(w.jsx)(_.b,{size:25,color:"gray"})})]}),a&&Object(w.jsx)("div",{style:{backgroundColor:"white",fontWeight:"bold"},className:"text-red-500 text-center py-2 m-1 rounded",children:"Please check your network !"}),Object(w.jsx)("div",{className:"mb-1",children:Object(w.jsx)(w.Fragment,{children:(null===l||void 0===l?void 0:l.imageUrl)?Object(w.jsxs)("span",{className:"flex",children:[a?Object(w.jsx)(A.a,{size:"1.7em",color:"black"}):Object(w.jsx)("img",{src:null===l||void 0===l?void 0:l.imageUrl,alt:"Profile",style:{width:"2em",height:"2em",borderRadius:"50%"}}),Object(w.jsx)("span",{className:"font-semibold ml-2 mb-2",children:null===l||void 0===l?void 0:l.username})]}):Object(w.jsxs)("span",{className:"flex",children:[Object(w.jsx)(A.a,{size:30}),Object(w.jsx)("span",{className:"font-semibold ml-2 mb-2",children:null===l||void 0===l?void 0:l.username})]})})}),Object(w.jsx)("div",{children:x.length>0?Object(w.jsx)(w.Fragment,{children:x.sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})).map((function(e,t){return Object(w.jsx)("div",{style:{backgroundColor:"white",fontWeight:""},children:Object(w.jsx)(X,{twit:e,email:I,apiCallHook:L,baseUrl:f.baseUrl,frontendUrl:f.frontendUrl,sync:v,setSync:y},t)},t)}))}):Object(w.jsx)("div",{className:"text-center",children:"No post available for now"})})]})}a.p;var be=a(67);function me(e){var t=Object(s.useState)(""),a=Object(o.a)(t,2),r=a[0],c=a[1],n=Object(s.useState)(""),l=Object(o.a)(n,2),u=l[0],d=l[1],j=Object(s.useState)(""),b=Object(o.a)(j,2),m=b[0],h=(b[1],Object(s.useState)(!1)),p=Object(o.a)(h,2),O=p[0],g=(p[1],Object(i.f)(),"".concat(f.baseUrl,"/auth/reset"),function(e){"newpass1"===e.target.name?(console.log(e.target.value),c(e.target.value)):(console.log(e.target.value),d(e.target.value))});return Object(s.useEffect)((function(){return function(){}}),[]),Object(w.jsxs)("div",{style:{fontFamily:"Roboto",fontWeight:"600",backgroundImage:'url("./bg.png")'},className:"font-Roboto text-center align-items-center bg-cover bg-center",children:[Object(w.jsxs)("p",{className:"text-center mb-2",children:[Object(w.jsxs)("span",{style:{fontFamily:"Architects Daughter",fontSize:"1.8em"},className:"text-purple-900 font-bold italic",children:["Buzz",Object(w.jsx)("br",{})]}),Object(w.jsx)("span",{className:"text-md",children:" Feel free, express yourself & network "})]}),Object(w.jsx)("h3",{className:"font-bold text-md mt-8 mb-4",children:"Set up a new password"}),Object(w.jsx)("input",{type:"text",name:"newpass1",value:r,placeholder:"Enter a new password",onChange:g,className:"px-3 rounded mb-5 text-xs"}),Object(w.jsx)("br",{}),Object(w.jsx)("input",{type:"text",name:"newpass2",value:u,placeholder:"Confirm new password",onChange:g,className:"px-3 rounded mb-5 text-xs"}),Object(w.jsx)("br",{}),Object(w.jsxs)("div",{className:"flex flex-col mb-3",children:[m&&Object(w.jsx)("span",{className:"mb-2 text-red-600",children:m}),Object(w.jsx)("div",{className:"flex justify-center",children:O?Object(w.jsx)("span",{className:"",children:Object(w.jsx)(x.a,{type:"ThreeDots",color:"#00bfff",height:40,width:40})}):Object(w.jsx)("span",{className:"cursor-pointer mb-3 bg-green-500 hover:bg-green-400 py-2 px-3 font-bold shadow-md rounded text-white text-xs",children:"Update Password"})})]}),Object(w.jsxs)("p",{className:"text-white-400 bold flex text-center",children:[Object(w.jsx)(be.a,{})," Twitee"]})]})}function he(e){var t=e.messages;return Object(w.jsx)("div",{children:t.map((function(e,t){return Object(w.jsx)(xe,{texts:e},t)}))})}var xe=function(e){var t=e.texts,a=Object(i.f)(),s=t.messages;return Object(w.jsxs)("div",{children:["Message (",s.length,")",s.sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})).map((function(e,t){return Object(w.jsxs)("div",{className:"border border-gray-200 shadow-lg mb-2 p-1 rounded",children:[Object(w.jsxs)("div",{className:"flex justify-between",children:[Object(w.jsxs)("span",{className:"mx-1 flex cursor-pointer",onClick:function(t){return a.push("/".concat(e.sender.username))},children:[e.sender.imageUrl?Object(w.jsx)("span",{className:"mr-1",children:Object(w.jsx)("img",{src:e.sender.imageUrl,alt:"Profile",style:{width:"2em",height:"2em",borderRadius:"50%"}})}):Object(w.jsx)(A.a,{size:20}),Object(w.jsx)("span",{className:"text-md",children:e.sender.username})]}),Object(w.jsx)("span",{children:new Date(e.createdAt).toLocaleTimeString()})]}),Object(w.jsx)("span",{className:"ml-9",children:e.text})]},t)}))]})};function pe(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)(!1),n=Object(o.a)(c,2),l=n[0],u=(n[1],Object(i.g)().user),b=Object(i.f)(),h=G.getState,x=G.dispatch,p=(h(),Object(z.b)((function(e){return e}))),O=p.messages,g=(p.formActive,localStorage.getItem("email")?localStorage.getItem("email"):""),v=localStorage.getItem("username")?localStorage.getItem("username"):"",y=localStorage.getItem("username")?localStorage.getItem("username"):"",S=(localStorage.getItem("img")&&localStorage.getItem("img"),localStorage.getItem("token")),N="".concat(f.baseUrl,"/messages"),k=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,m()({method:"GET",url:"".concat(N,"/chats"),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(S)}}).catch((function(e){var t,a;e.isAxiosError&&r(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)}));case 4:(t=e.sent)&&t.data.success?(x({type:"SET_MESSAGES_DATA",data:t.data.data}),localStorage.setItem("messages",JSON.stringify(t.data.data))):(r("Please check your network"),x({type:"SET_MESSAGES_DATA",data:JSON.parse(localStorage.getItem("messages"))}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){return k(),function(){}}),[l]);O.map((function(e){return g===e.chatSender.email?e.chatReceiver:e.chatSender}));return Object(w.jsxs)("div",{id:"".concat(u),style:{fontFamily:"Raleway",fontSize:"1.1em"},className:"shadow-lg border border-gray-200 h-full rounded p-2 mb-4 md:w-1/2 m-auto",children:[Object(w.jsxs)("p",{className:"flex justify-between mb-4 border-3 border shadow-md p-2",children:[Object(w.jsx)("span",{className:"cursor-pointer text-left",onClick:function(){return b.goBack()},children:Object(w.jsx)(D.a,{size:30})}),Object(w.jsx)("span",{style:{fontFamily:"Raleway"},className:"text-xl font-bold self-center",children:"Messages"}),Object(w.jsx)("span",{})]}),Object(w.jsxs)("div",{style:{bottom:"0em",margin:"auto"},className:"pb-1 rounded flex justify-around border-2 border shadow-md fixed right-0 left-0 bg-white md:w-1/2",children:[Object(w.jsx)("span",{className:"cursor-pointer pt-2",onClick:function(){return b.push("/twits")},children:Object(w.jsx)(U.a,{size:25,color:"gray"})}),"hobar"===y&&Object(w.jsx)("span",{className:"cursor-pointer pt-2",onClick:function(e){return b.push("/subscriptions")},children:Object(w.jsx)(F.a,{size:20,color:"gray"})}),Object(w.jsx)("span",{className:"cursor-pointer pt-2",onClick:function(e){return b.push("/people")},children:Object(w.jsx)(D.b,{size:30,color:"gray"})}),Object(w.jsx)("span",{className:"cursor-pointer pt-2 border-t-2 border-black",onClick:function(e){return b.push("/chats/".concat(v))},children:Object(w.jsx)(_.b,{size:25,color:"black"})})]}),a&&Object(w.jsx)("div",{style:{backgroundColor:"white",fontWeight:"bold"},className:"text-red-500 text-center py-1 m-1 rounded",children:"Please check your network !"}),Object(w.jsx)("div",{className:"mb-1",children:O.length?Object(w.jsx)(he,{messages:O}):Object(w.jsx)("div",{className:"text-center",children:"You have not started any conversation"})})]})}function fe(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)({}),n=Object(o.a)(c,2),l=n[0],u=(n[1],Object(i.g)().user),b=Object(i.f)(),h=(localStorage.getItem("email")&&localStorage.getItem("email"),localStorage.getItem("token"),G.getState),x=(G.dispatch,h(),function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:"GET",url:"".concat(f.baseUrl,"/auth/verify/").concat(u),headers:{"Content-Type":"application/json"}}).catch((function(e){var t,a;e.isAxiosError&&r(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)}));case 2:(t=e.sent)&&t.data.success||r("Please check your network");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(s.useEffect)((function(){return x(),function(){}}),[]),Object(w.jsxs)("div",{id:"".concat(u),style:{fontSize:"1.1em"},className:"shadow-lg border border-gray-200 h-full rounded p-2 mb-4 m-auto justify-center md:w-1/2",children:[Object(w.jsxs)("p",{className:"flex justify-between mb-6 border-3 border shadow-md p-2",children:[Object(w.jsx)("span",{className:"cursor-pointer",onClick:function(){return b.goBack()},children:Object(w.jsx)(D.a,{size:30})}),Object(w.jsx)("span",{className:"flex cursor-pointer",onClick:function(e){return b.push("/people")},children:Object(w.jsx)(D.b,{size:35})}),Object(w.jsx)("span",{className:"bg-black-400 cursor-pointer",onClick:function(){return b.push("/twits")},children:Object(w.jsx)(U.a,{size:28})})]}),Object(w.jsx)("div",{className:"mb-1",children:Object(w.jsx)(w.Fragment,{children:(null===l||void 0===l?void 0:l.imageUrl)?Object(w.jsxs)("span",{className:"flex",children:[a?Object(w.jsx)(A.a,{size:"1.7em",color:"black"}):Object(w.jsx)("img",{src:null===l||void 0===l?void 0:l.imageUrl,alt:"Profile",style:{width:"2em",height:"2em",borderRadius:"50%"}}),Object(w.jsx)("span",{className:"text-xl font-semibold ml-2 mb-2",children:u})]}):Object(w.jsxs)("span",{className:"flex",children:[Object(w.jsx)(A.a,{size:30}),Object(w.jsx)("span",{className:"text-xl font-semibold ml-2 mb-2",children:u})]})})}),"Your account is now verified!",a&&Object(w.jsx)("div",{style:{backgroundColor:"white",fontWeight:"bold"},className:"text-red-500 text-center py-2 mb-5 rounded",children:a}),Object(w.jsx)("span",{className:"text-sm mt-3 mb-1 flex justify-between",children:Object(w.jsx)("span",{className:"flex",children:Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("span",{className:"flex flex-col",children:Object(w.jsx)("span",{className:"text-xs text-white bg-blue-900 rounded hover:bg-blue-400 p-1 cursor-pointer -mt-2 mr-1",onClick:function(){return b.push("/".concat(u))},children:"Go to your profile"})})})})}),Object(w.jsx)("span",{children:(null===l||void 0===l?void 0:l.imageUrl)?Object(w.jsx)(w.Fragment,{children:a?Object(w.jsx)(A.a,{size:300,color:"black"}):Object(w.jsx)("img",{src:null===l||void 0===l?void 0:l.imageUrl,width:"100%",alt:"imgurl",className:"mt-3 rounded-lg"})}):Object(w.jsx)("div",{className:"flex",children:Object(w.jsx)("span",{className:"m-auto",children:Object(w.jsx)(A.a,{size:300})})})})]})}function Oe(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),a=t[0],r=(t[1],Object(s.useState)([])),c=Object(o.a)(r,2),n=(c[0],c[1],G.getState),l=G.dispatch,u=(n(),Object(z.b)((function(e){return e}))),b=u.subs,h=u.users,x=localStorage.getItem("email")?localStorage.getItem("email"):"",p=localStorage.getItem("img")?localStorage.getItem("img"):"",O=localStorage.getItem("username")?localStorage.getItem("username"):"",g=localStorage.getItem("token"),v=Object(i.f)(),y=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()({method:"GET",url:"".concat(f.baseUrl,"/push")}).then((function(e){return l({type:"SET_SUBS",data:e.data.data}),localStorage.setItem("subs",JSON.stringify(e.data.data)),e}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){return g?("hobar"===O&&y(),function(){}):v.push("/")}),[]),Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{className:"flex flex-col text-md md:w-1/2 m-auto",children:[Object(w.jsxs)("div",{style:{top:"0em",margin:"auto"},className:"p-2 rounded mb-2 flex justify-between border-4 border shadow-md fixed right-0 left-0 bg-white md:w-1/2",children:["null"!==p?Object(w.jsx)("span",{className:"cursor-pointer",onClick:function(e){return v.push("/".concat(O))},children:a?Object(w.jsx)(A.a,{size:25}):Object(w.jsx)("img",{src:p,alt:"Profile",style:{width:"30px",height:"30px",borderRadius:"50%"}})}):Object(w.jsx)("span",{className:"text-left cursor-pointer",children:Object(w.jsx)(A.a,{size:25,onClick:function(e){return v.push("/".concat(O))}})}),Object(w.jsxs)("span",{className:"text-left flex cursor-pointer",onClick:function(e){return v.push("people")},children:[Object(w.jsx)(D.b,{size:30}),Object(w.jsx)("span",{className:"pt-1 pl-1",children:h>0&&h})]}),Object(w.jsx)("span",{style:{cursor:"pointer"},className:"text-right",onClick:function(){return localStorage.removeItem("token"),void v.push("/")},children:Object(w.jsx)(N,{})})]}),Object(w.jsxs)("p",{style:{marginTop:"3em"},className:"flex justify-between mb-1 p-2 border-3 border shadow-md mx-1 ",children:[Object(w.jsx)("span",{className:"cursor-pointer",onClick:function(){return v.goBack()},children:Object(w.jsx)(D.a,{size:30})}),Object(w.jsxs)("span",{style:{fontFamily:"Raleway"},className:"text-xl font-bold self-center",children:["Subscriptions"," (",b.length," / ",b.filter((function(e){return e.users})).length,")"]}),Object(w.jsx)("span",{})]}),Object(w.jsxs)("div",{style:{bottom:"0em",margin:"auto"},className:"pb-1 rounded flex justify-around border-2 border shadow-md fixed right-0 left-0 bg-white md:w-1/2",children:[Object(w.jsx)("span",{className:"cursor-pointer pt-1",onClick:function(){return v.push("/twits")},children:Object(w.jsx)(U.a,{size:25,color:"gray"})}),"hobar"===O&&Object(w.jsx)("span",{className:"cursor-pointer pt-2 border-t-2 border-black",onClick:function(e){return v.push("/subscriptions")},children:Object(w.jsx)(F.a,{size:20,color:"black"})}),Object(w.jsx)("span",{className:"cursor-pointer pt-2",onClick:function(e){return v.push("/people")},children:Object(w.jsx)(D.b,{size:30,color:"gray"})}),Object(w.jsx)("span",{className:"cursor-pointer pt-2",onClick:function(e){return v.push("/chats/".concat(O))},children:Object(w.jsx)(_.b,{size:25,color:"gray"})})]}),b.sort((function(e,t){var a,s;return null===(a=e.users)||void 0===a?void 0:a.username.localeCompare(null===(s=t.users)||void 0===s?void 0:s.username)})).map((function(e,t){var s,r,c,n;return Object(w.jsx)("span",{className:"bg-gray-200 rounded hover:bg-gray-400 p-2 mb-2 cursor-pointer",onClick:null!==(null===e||void 0===e?void 0:e.users)?function(t){var a;return v.push("/".concat(null===(a=e.users)||void 0===a?void 0:a.username))}:function(){return alert("User unknown")},children:Object(w.jsxs)("span",{className:"mx-2 flex cursor-pointer",children:[(null===(s=e.users)||void 0===s?void 0:s.imageUrl)?Object(w.jsx)("span",{className:"mr-2",children:a?Object(w.jsx)(A.a,{size:"1.5em",color:"black"}):Object(w.jsx)("img",{src:null===(r=e.users)||void 0===r?void 0:r.imageUrl,alt:"Profile",style:{width:"1.5em",height:"1.5em",borderRadius:"50%"}})}):Object(w.jsx)("span",{className:"mr-2 text-black",children:Object(w.jsx)(A.a,{size:"1.5em"})}),x===(null===(c=e.user)||void 0===c?void 0:c.email)?"Me":null===(n=e.users)||void 0===n?void 0:n.username]})},t)}))]}),Object(w.jsx)("div",{className:"flex",children:Object(w.jsx)("span",{className:"m-auto",children:Object(w.jsx)(D.b,{size:300})})})]})}var ge=function(){var e=Object(s.useState)(JSON.parse(localStorage.getItem("loggedIn"))),t=Object(o.a)(e,2),a=(t[0],t[1],Object(s.useState)(JSON.parse(localStorage.getItem("signup"))||!1)),r=Object(o.a)(a,2),c=(r[0],r[1],G.getState),n=G.dispatch,u=(c(),Object(z.b)((function(e){return e})));return u.searchQuery,u.networkStatus,Object(s.useEffect)((function(){navigator.onLine?n({type:"SET_NETWORK_STATUS",data:!0}):n({type:"SET_NETWORK_STATUS",data:!1})}),[]),Object(w.jsx)(l.a,{children:Object(w.jsxs)(i.c,{children:[Object(w.jsx)(i.a,{exact:!0,path:"/",component:C}),Object(w.jsx)(i.a,{exact:!0,path:"/twits",component:se}),Object(w.jsx)(i.a,{exact:!0,path:"/people",component:ie}),Object(w.jsx)(i.a,{exact:!0,path:"/subscriptions",component:Oe}),Object(w.jsx)(i.a,{exact:!0,path:"/reset",component:me}),Object(w.jsx)(i.a,{exact:!0,path:"/verify/:user",component:fe}),Object(w.jsx)(i.a,{path:"/twits/:user",component:je}),Object(w.jsx)(i.a,{path:"/chats/:user",component:pe}),Object(w.jsx)(i.a,{path:"/following/:user",component:de}),Object(w.jsx)(i.a,{path:"/follower/:user",component:ue}),Object(w.jsx)(i.a,{path:"/:user",component:oe})]})})},ve=a(7).baseUrl;console.log("Valid");var we=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),a=window.atob(t),s=new Uint8Array(a.length),r=0;r<a.length;++r)s[r]=a.charCodeAt(r);return s},ye=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Se(e,t){console.log("Registering service worker"),navigator.serviceWorker.register(e).then(function(){var e=Object(j.a)(d.a.mark((function e(a){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Service worker registered"),console.log("Registering Push Manager"),e.next=4,a.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:we("BNjjQs4mQL339-Dk2i5HF5jbv14xHn-jHrPbTa1LJ-HZZXZnArYQfR7ddcdB0oQ0ADQjgx8q_nN_cTW7jOq9k6Y")});case 4:return s=e.sent,console.log("Push Manager registered"),console.log("Sending Push"),e.next=9,fetch("".concat(ve,"/subscribe"),{method:"POST",body:JSON.stringify(s),headers:{"content-type":"application/json"}});case 9:e.sent,localStorage.setItem("sub",JSON.stringify(s)),console.log("Push Sent"),a.onupdatefound=function(){var e=a.installing;null!=e&&(e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(a)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(a)))})};case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("Error during service worker registration:",e)}))}"dark"!==localStorage.theme&&"theme"in localStorage?document.documentElement.classList.remove("dark"):document.documentElement.classList.add("dark"),n.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(z.a,{store:G,children:Object(w.jsx)(ge,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ye?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var s=a.headers.get("content-type");404===a.status||null!=s&&-1===s.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Se(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Se(t,e)}))}}()},7:function(e,t,a){"use strict";a.r(t),a.d(t,"baseUrl",(function(){return s})),a.d(t,"frontendUrl",(function(){return r}));var s=window.location.host.indexOf("localhost")>=0?"http://localhost:4000":"https://oba-twit.herokuapp.com",r=window.location.host.indexOf("localhost")>=0?"http://localhost:3000/twits":"https://obabuzz.netlify.app/twits"},72:function(e,t,a){}},[[120,1,2]]]);
//# sourceMappingURL=main.8728eaec.chunk.js.map