{"version":3,"sources":["components/GoogleAuth.js","components/chat.jpg","components/bg.png","components/Posts.js","components/AttachImage.js","components/TwitForm.js","components/CommentForm.js","components/Image.js","redux/actions.js","redux/reducer.js","redux/store.js","components/Twits.js","components/Profile.js","components/TopSearch.js","components/People.js","components/Followers.js","components/Following.js","components/UserTwits.js","components/Reset.js","components/Chat.js","components/Chats.js","components/Verified.js","App.js","serviceWorkerRegistration.js","index.js","helper.js"],"names":["dotenv","config","clientId","process","GoogleAuth","props","error","setError","setLoading","loading","useState","JSON","parse","localStorage","getItem","signup","apiUrl","baseUrl","history","useHistory","buttonText","onSuccess","res","authenticate","profileObj","email","name","imageUrl","onFailure","cookeiPolicy","style","marginTop","Logout","render","renderProps","size","onLogoutSuccess","a","google","password","setItem","axios","method","url","data","headers","catch","isAxiosError","response","search","auth","success","user","id","username","token","push","Posts","setEmail","setPassword","setSignup","handleChange","e","target","value","useEffect","fontFamily","fontWeight","className","fontSize","type","placeholder","onChange","color","height","width","onClick","AttachImage","setImageUrl","setUploading","imgUrl","setImgUrl","handleImage","serviceImage","files","FormData","append","fetch","body","json","imgLink","secure_url","src","alt","accept","TwitForm","text","setText","textArea","setTextArea","sendTwit","console","log","removeItem","setSync","sync","showForm","display","flexDirection","alignItems","borderRadius","rows","cols","border","maxLength","overflow","length","required","cursor","CommentForm","sendComment","twitId","showCommentForm","PopUp","show","handleShow","sourceData","Modal","onHide","dialogClassName","Header","closeButton","Title","header","Body","source","altTag","marginBottom","href","actions","setTwitData","setMessagesData","setUserCount","setPeopleData","setSearchData","setUsersData","setNewsType","setPage","setTotalPages","setSearchQuery","setNetworkStatus","setFormActive","initialState","twits","messages","users","peopleData","searchData","usersData","searchQuery","networkStatus","formActive","store","createStore","state","action","newsByType","newsData","filter","newsType","news","page","totalPages","Math","ceil","pageSize","newsBySearch","item","toLowerCase","indexOf","devToolsEnhancer","Twits","getState","dispatch","useSelector","userId","img","apiCallHook","getTwits","stringify","map","x","getUsers","count","checkOpenForms","twit","window","location","hash","setTimeout","replace","element","document","getElementById","scrollIntoView","top","margin","bottom","backgroundColor","sort","b","Date","createdAt","getTime","idx","frontendUrl","Twit","link","title","likes","comments","updatedAt","commentFormActive","setCommentFormActive","editLoading","setEditLoading","likeLoading","setLikeLoading","deleteLoading","setDeleteLoading","storyText","setStoryText","editForm","setEditForm","linkCopied","setLinkCopied","more","setMore","viewComments","setViewComments","setShow","setSourceData","filteredComments","comment","isDeleted","split","isLiked","like","userlikes","showMore","editStory","likeCount","clipboardCopy","navigator","clipboard","writeText","fromNow","lineHeight","slice","Comment","usercomments","likecomments","LoadSpan","Profile","profileImg","setProfileImg","userData","setUserData","isFollower","setIsFollower","isFollowing","setIsFollowing","followerCount","setFollowerCount","followingCount","setFollowingCount","twitCount","setTwitCount","followLoading","setFollowLoading","useParams","userTwits","obj","userDataInStore","followers","follower","isFollowed","following","checkIsFollower","checkIsFollowing","toast","goBack","AttachProfileImage","followerId","UserProfile","bio","mobile","dob","lname","setName","lusername","setUserName","lbio","setBio","llocation","setLocation","ldob","setDob","lmobile","setMobile","nameHidden","setNameHidden","usernameHidden","setUsernameHidden","bioHidden","setBioHidden","locationHidden","setLocationHidden","dobHidden","setDobHidden","mobileHidden","setMobileHidden","editProfile","handleProfileInfo","htmlFor","disabled","pattern","limgUrl","setlImgUrl","TopSearch","People","searchResults","person","handleSearch","localeCompare","Follower","Following","UserTwits","twitData","userTwitData","Reset","newpass1","setNewPass1","newpass2","setNewPass2","backgroundImage","Chat","msg","texts","Message","message","sender","toLocaleTimeString","Chats","getMessages","messageLine","chatSender","chatReceiver","Verified","verifyUser","App","onLine","exact","path","component","isLocalhost","require","Boolean","hostname","match","registerValidSW","swUrl","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","ReactDOM","StrictMode","URL","origin","addEventListener","contentType","get","status","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration","host"],"mappings":"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","file":"static/js/main.d0def61b.chunk.js","sourcesContent":["/* eslint-disable no-unused-vars */\r\nimport React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { GoogleLogin, GoogleLogout } from 'react-google-login';\r\n// import GoogleButton from 'react-google-button'\r\nimport { authenticate } from './Posts';\r\nimport { baseUrl } from '../helper';\r\nimport dotenv from \"dotenv\";\r\nimport { FiLogOut } from 'react-icons/fi';\r\n\r\ndotenv.config();\r\nconst clientId = process.env.REACT_APP_GOOGLE_CLIENT_ID;\r\n\r\nexport default function GoogleAuth(props) {\r\n    const { error, setError, loading, setLoading } = props;\r\n    \r\n    const [signup, setSignup] = useState(JSON.parse(localStorage.getItem('signup')));\r\n    const apiUrl = `${baseUrl}/auth/${signup ? 'signup' : 'login'}`; \r\n    const history = useHistory(); \r\n\r\n    const onSuccess = (res) => {\r\n        authenticate(true, res.profileObj.email, null, apiUrl, error, setError, setLoading, history, res.profileObj.name, res.profileObj.imageUrl)\r\n    }\r\n    const onFailure = (res) => {\r\n        // console.log('login failed', res);\r\n    }\r\n    return (\r\n        <div>\r\n            <GoogleLogin \r\n                clientId={clientId}\r\n                buttonText={'Use Google'}\r\n                onSuccess={onSuccess}\r\n                onFailure={onFailure}\r\n                // isSignedIn={true}\r\n                cookeiPolicy={'single_host_origin'}\r\n                style={{marginTop: '160px'}}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Logout = () => {\r\n    \r\n    const onSuccess = (res) => {\r\n        // console.log(res, 'Logout suceeded');\r\n    }\r\n    return(\r\n    <div>\r\n              <GoogleLogout \r\n                clientId={clientId}\r\n                render={renderProps => (\r\n                    <span><FiLogOut size={25}/></span>\r\n                )}\r\n                buttonText='Signout' \r\n                onLogoutSuccess={onSuccess}\r\n                style={{marginTop: '160px'}}\r\n            />\r\n    </div>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/chat.7e8098f6.jpg\";","export default __webpack_public_path__ + \"static/media/bg.9c127911.png\";","/* eslint-disable no-unused-vars */\r\n/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Loader from 'react-loader-spinner';\r\nimport GoogleAuth from './GoogleAuth';\r\nimport { baseUrl } from '../helper';\r\n// import LinkedinAuth from './LinkedinAuth';\r\nimport dotenv from \"dotenv\";\r\nimport chat from './chat.jpg';\r\nimport bg from './bg.png';\r\nimport { CgCopyright } from 'react-icons/cg';\r\n\r\ndotenv.config();\r\nconst clientId = process.env.REACT_APP_GOOGLE_CLIENT_ID;\r\n\r\nexport const authenticate = async(google = false, email, password = null, apiUrl, error, setError, setLoading, history, name, imageUrl) => {\r\n    localStorage.setItem('img', imageUrl);\r\n    setLoading(true);\r\n    let res;\r\n    if(!google) {\r\n        if(!(email && password)) {\r\n            if(!email) {\r\n                setError('Email is required');\r\n                setLoading(false);\r\n                return;\r\n            }\r\n            setError('Password required');\r\n            setLoading(false);\r\n            return;\r\n        }\r\n        res = await axios({\r\n            method: 'POST',\r\n            url: `${apiUrl}`,\r\n            data: {email, password},\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            }\r\n        })\r\n        .catch(error => {\r\n            if(error.isAxiosError) {\r\n                if(error.response?.data?.error.search('NOTFOUND') >= 0) {\r\n                    setError('Please check your network');\r\n                } else {\r\n                    setError(error.response?.data?.error);\r\n                }\r\n            }\r\n        });\r\n    } else {\r\n        res = await axios({\r\n            method: 'POST',\r\n            url: `${apiUrl}`,\r\n            data: {email, password: 'passs', auth: 'google', name, imageUrl},\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            }\r\n        })\r\n        .catch(error => {\r\n            setError(error.response.data.error);\r\n        });\r\n\r\n    }\r\n        if(res && res.data.success) {\r\n            localStorage.setItem('email', email);\r\n            localStorage.setItem('img', res.data.data.user.imageUrl);\r\n            localStorage.setItem('userId', res.data.data.user.id);\r\n            localStorage.setItem('username', res.data.data.user?.username);\r\n            localStorage.setItem('token', res.data.data.token);\r\n            setLoading(false);\r\n            history.push('/twits');\r\n        } else {\r\n            setLoading(false);\r\n        }\r\n}\r\n\r\nexport default function Posts(props) {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [signup, setSignup] = useState(JSON.parse(localStorage.getItem('signup')));\r\n    const token = localStorage.getItem('token');\r\n    const history = useHistory();\r\nconst apiUrl = `${baseUrl}/auth/${signup ? 'signup' : 'login'}`; \r\n\r\nconst handleChange = (e) => {\r\n    if(e.target.name === 'email') {\r\n        setEmail(e.target.value);\r\n    } else {\r\n        setPassword(e.target.value);\r\n    }\r\n}\r\n\r\nconst handleSignupMode = () => {\r\n    if(!signup) {\r\n        setSignup(true);\r\n        localStorage.setItem('signup', true);\r\n    } else {\r\n        setSignup(false);\r\n        localStorage.setItem('signup', false);\r\n    }\r\n}\r\n\r\nuseEffect(() => {\r\n    if(token) {\r\n        history.push('/twits');\r\n    }\r\n    return () => {\r\n    }\r\n}, []);\r\n    return (\r\n        <div style={{fontFamily: 'Roboto', fontWeight: '600'}} className='text-center align-items-center bg-gradient-to-r from-cyan-500 to-blue-500'>\r\n             <p className='text-center mb-2'>\r\n                <span style={{fontFamily: 'Architects Daughter', fontSize: '1.8em'}} className='text-purple-900 font-bold italic'>Buzz<br/>\r\n                </span> \r\n                <span className='text-md'> Feel free, express yourself & network </span>\r\n            </p>\r\n            <h3 style={{fontSize: 20}} className='font-bold text-md mb-4 mt-7'>\r\n                {signup ?  'Signup' : 'Login'}\r\n            </h3>\r\n            <input \r\n                type='text'\r\n                name='email'\r\n                value={email} \r\n                placeholder='email'\r\n                onChange={handleChange}\r\n                className='px-3 rounded mb-5'\r\n                /><br/>\r\n            <input \r\n                type='password'\r\n                name='password'\r\n                value={password} \r\n                placeholder='password' \r\n                onChange={handleChange}\r\n                className='px-3 rounded mb-5'\r\n            /><br/>\r\n            <div className='flex flex-col mb-3'>\r\n                {error && <span className='mb-2 text-red-600'>{error}</span>}\r\n                <div className='flex justify-center'>\r\n                    {!loading ?\r\n                    <span \r\n                        onClick={() => authenticate(false, email, password, apiUrl, error, setError, setLoading, history)}\r\n                        className='cursor-pointer mb-3 bg-green-500 hover:bg-green-400 py-1 px-6 rounded text-white'\r\n                    >    \r\n                        {signup ? 'Signup' : 'Login' }\r\n                        {/* {' '}{window.innerWidth} */}\r\n                    </span>\r\n                    :\r\n                    <span className=''>\r\n                        <Loader \r\n                        type='ThreeDots'\r\n                        color='#00bfff'\r\n                        height={40} \r\n                        width={40} \r\n                        />\r\n                     </span>}\r\n                </div>\r\n            </div>\r\n            {!token && <GoogleAuth\r\n                error={error}\r\n                setError={setError}\r\n                loading={loading}\r\n                setLoading={setLoading}\r\n            />}\r\n            {/* <LinkedinAuth /> */} \r\n            <div className='mt-7 mb-6 text-xs'>\r\n                    {signup ? 'Already registered ?' : 'Not registered ?' }\r\n                    <span className='hover:bg-purple-400 bg-purple-500 ml-2 p-1 rounded text-white font-bold cursor-pointer' onClick={handleSignupMode}> \r\n                        {signup ? ' Switch to Login' : ' Switch to Signup!' }\r\n                    </span>\r\n            </div>\r\n          {/* <img \r\n            src={bg}\r\n            alt='CHat'\r\n            className='invisible'\r\n            style={{borderRadius: '0.5em'}}\r\n          /> */}\r\n            {/* <p className=\"text-white-400 bold flex text-center\"><CgCopyright /> Twitee</p>          */}\r\n        </div>\r\n    )\r\n}\r\n","/* eslint-disable no-unused-vars */\r\nimport React, { useState } from 'react';\r\n// import Loader from \"react-loader-spinner\";\r\nimport { FaCamera } from \"react-icons/fa\";\r\n\r\nexport default function AttachImage({imageUrl, setImageUrl}) {\r\n    \r\n    const [uploading, setUploading] = useState(\"\");\r\n    const [imgUrl, setImgUrl] = useState(\"\");\r\n\r\n    const handleImage = async(e) => {\r\n        setUploading(\"loading\");\r\n        const serviceImage = e.target.files[0];\r\n        const data = new FormData();\r\n        const url = \"https://api.cloudinary.com/v1_1/thevetdoctor/image/upload\";\r\n        data.append(\"file\", serviceImage);\r\n        data.append(\"upload_preset\", \"zunt8yrw\");\r\n        const res = await fetch(url, {\r\n          method: \"POST\",\r\n          body: data\r\n        });\r\n        const imgLink = await res.json();\r\n        setImgUrl(imgLink.secure_url);\r\n        setImageUrl(imgLink.secure_url);\r\n        // const images = [imgLink.secure_url, ...serviceImages];\r\n        // setServiceImages(images);\r\n        setUploading(\"done\");\r\n      }\r\n    return (\r\n        <div className=\"flex p-1 rounded ml-1\">\r\n            {imgUrl ? \r\n                <img \r\n                    src={imgUrl} alt='post' style={{width: '20em', height: '9em'}} className='rounded'\r\n                /> :\r\n                <>\r\n                {/* <span className='ml-3 cursor-pointer flex'><FaCamera size={25}  /> */}\r\n                <label className='ml-2 cursor-pointer flex'><FaCamera size={22} /> <span className='font-semibold ml-2 text-white pr-2'></span>\r\n\r\n                <input \r\n                    type=\"file\"\r\n                    placeholder=\"\"\r\n                    accept=\"image/*;capture\"\r\n                    className=\"hidden\"\r\n                    onChange={e => handleImage(e)}\r\n                    />\r\n                    </label>\r\n                {/* <span className='ml-2'>Add Image</span> */}\r\n                {/* </span> */}\r\n                </>\r\n            //   {uploading === \"loading\" &&\r\n            //   <Loader \r\n            //       type='TailSpin'\r\n            //       color='#000'\r\n            //       height={20} \r\n            //       width={20} \r\n            //   />}\r\n            //   {/* {<FaCheck />} */}\r\n            }</div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport axios from 'axios';\r\nimport Loader from 'react-loader-spinner';\r\nimport { baseUrl } from '../helper';\r\nimport AttachImage from './AttachImage';\r\n\r\nexport default function TwitForm(props) {\r\n    // const [title, setTitle] = useState(localStorage.getItem('twitTitle') ? localStorage.getItem('twitTitle') : '');\r\n    const [text, setText] = useState(localStorage.getItem('twitText') ? localStorage.getItem('twitText') : '');\r\n    const [imageUrl, setImageUrl] = useState(localStorage.getItem('twitImage') ? localStorage.getItem('twitImage') : '');\r\n    const [textArea, setTextArea] = useState(550);\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const token = localStorage.getItem('token'); \r\n    \r\n    const apiUrl = `${baseUrl}/twits/post`; \r\n\r\n    const handleChange = (e) => {\r\n        setText(e.target.value);\r\n        setTextArea(550 - e.target.value.length)\r\n        localStorage.setItem('twitText', e.target.value)\r\n    }\r\n\r\n    const sendTwit = async() => {\r\n        console.log(text, imageUrl)\r\n            if(!text && !imageUrl) {\r\n                setError('Inputs required');\r\n                return;\r\n            }\r\n            setLoading(true);\r\n            const res = await axios({\r\n                method: 'POST',\r\n                url: `${apiUrl}`,\r\n                data: {text, imageUrl},\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                        setError('Please check your network');\r\n                    });\r\n                if(res && res.data.success) {\r\n                    setLoading(false);\r\n                    localStorage.removeItem('twitTitle');\r\n                    localStorage.removeItem('twitText');\r\n                    props.setSync(!props.sync);\r\n                    props.showForm();\r\n                } else {\r\n                    setLoading(false);\r\n                }\r\n    }\r\n\r\n    return (\r\n        <div className='sticky text-center h-full bg-blue-200 p-1 -mb-2 -mt-3 align-self-center'>\r\n            {/* <div className='text-center bg-blue-200 mt-3 pt-3 mb-1 pb-1 rounded'> */}\r\n            <h1 className='font-bold text-md mb-3 mt-2'>\r\n                New Post\r\n            </h1>\r\n            <div style={{display: 'flex', flexDirection: 'column', alignItems: 'center', borderRadius: '20%'}}>\r\n\r\n            {/* <input \r\n                type='text'\r\n                name='title'\r\n                value={title} \r\n                placeholder='title'\r\n                onChange={handleChange}\r\n                className='px-3 py-1 rounded text-lg mb-2 font-bold'\r\n                style={{width: '16em', border: 'none'}}\r\n                required\r\n                /> */}\r\n            <textarea \r\n                type='textarea'\r\n                name='text'\r\n                rows={4}\r\n                cols={3}\r\n                style={{width: '16em', height: `${imageUrl ? '5em' : '13em'}`, border: 'none'}}\r\n                maxLength={550}\r\n                value={text}\r\n                overflow=\"hidden\"\r\n                placeholder='Write and share ...' \r\n                onChange={handleChange}\r\n                className='px-3 rounded mb-1 text-lg text-black font-bold w-full'\r\n                required\r\n            />\r\n                <span style={{display: 'flex', width: '18em'}} className='shadow-md justify-between px-3 mb-2 ml-5 mr-5 bg-blue-300'>\r\n                    <AttachImage imageUrl={imageUrl} setImageUrl={setImageUrl} />\r\n                    <span className='mr-6'>{textArea}</span>\r\n                </span>\r\n            </div>\r\n            <div style={{flexDirection: 'column'}} className='flex mb-3'>\r\n                {error && <span className='mb-2 text-red-800 text-md'>{error}</span>}\r\n                <div className='flex justify-center mt-2'>\r\n                    {!loading ?\r\n                    <>\r\n                    <span \r\n                        style={{cursor: 'pointer'}}\r\n                        onClick={() => props.showForm()}\r\n                        className='hover:bg-gray-900 bg-gray-400 text-lg font-medium p-1 rounded text-white'\r\n                        >    \r\n                        Cancel\r\n                    </span>\r\n\r\n                    <span \r\n                    style={{cursor: 'pointer'}}\r\n                    onClick={sendTwit}\r\n                    className='hover:bg-green-900 bg-green-400 text-lg font-bold p-1 rounded text-white mx-2'\r\n                    >    \r\n                        Send\r\n                    </span>\r\n                    </>\r\n                    :\r\n                    <span className='m-auto self-center'>\r\n                        <Loader \r\n                        type='ThreeDots'\r\n                        color='#00bfff'\r\n                        height={40} \r\n                        width={40} \r\n                        />\r\n                     </span>}\r\n                </div>\r\n            </div>\r\n            {/* </div> */}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport axios from 'axios';\r\nimport Loader from 'react-loader-spinner';\r\nimport { baseUrl } from '../helper';\r\n\r\nexport default function CommentForm(props) {\r\n    const [text, setText] = useState('');\r\n    const [textArea, setTextArea] = useState(160);\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const token = localStorage.getItem('token'); \r\n    \r\n    const apiUrl = `${baseUrl}/comments`; \r\n\r\n    const handleChange = (e) => {\r\n        if(e.target.name === 'text') {\r\n            setText(e.target.value);\r\n            setTextArea(160 - e.target.value.length)\r\n        }\r\n    }\r\n\r\n    const sendComment = async() => {\r\n        if(!props.twitId) return;\r\n        if(!text) {\r\n            setError('Inputs required');\r\n            return;\r\n        }\r\n        setLoading(true);\r\n        const res = await axios({\r\n            method: 'POST',\r\n            url: `${apiUrl}/${props.twitId}`,\r\n            data: {text},\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n            .catch(error => {\r\n                    setError(error.response.data.error);\r\n            });\r\n            if(res && res.data.success) {\r\n                setLoading(false);\r\n                props.setSync(!props.sync);\r\n                props.showCommentForm();\r\n            } else {\r\n                setLoading(false);\r\n            }\r\n    }\r\n\r\n    return (\r\n        <div className='text-center pt-4'>\r\n             <p style={{fontSize: '0.9em'}} className='font-bold text-xs mb-3'>\r\n                New Comment\r\n            </p>\r\n            <textarea \r\n                type='textarea'\r\n                name='text'\r\n                rows={5}\r\n                cols={8}\r\n                maxLength={160}\r\n                style={{width: '15em', height: '8em'}}\r\n                value={text} \r\n                placeholder='Drop in your comment ...' \r\n                onChange={handleChange}\r\n                className='px-3 rounded mb-5 h-20 text-md text-gray-600'\r\n                required\r\n            /><br/>\r\n            {textArea}\r\n            <div style={{flexDirection: 'column'}} className='flex mb-5'>\r\n                {error && <span className='mb-2 text-red-800 text-xs'>{error}</span>}\r\n                <div className='justify-items-center'>\r\n                    <span \r\n                        style={{cursor: 'pointer', fontSize: '0.9em'}}\r\n                        onClick={() => props.showCommentForm()}\r\n                        className='hover:bg-gray-900 bg-gray-400 font-medium p-1 rounded text-white'\r\n                    >    \r\n                        Cancel\r\n                    </span>\r\n\r\n                    {!loading ?\r\n                    <span \r\n                        style={{cursor: 'pointer', fontSize: '0.9em'}}\r\n                        onClick={sendComment}\r\n                        className='hover:bg-green-900 text-lg bg-green-400 font-medium p-1 rounded text-white mx-2'\r\n                    >    \r\n                        Send\r\n                    </span>\r\n                    :\r\n                    <span className='m-auto'>\r\n                        <Loader \r\n                        type='ThreeDots'\r\n                        color='#00bfff'\r\n                        height={40} \r\n                        width={40} \r\n                        />\r\n                     </span>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","/* eslint-disable react/jsx-no-target-blank */\r\nimport React from 'react';\r\nimport { Modal } from 'react-bootstrap';\r\nimport { FaTwitter, FaFacebook, FaLinkedin, FaInstagram } from 'react-icons/fa';\r\n \r\nexport default function PopUp({ show, handleShow, sourceData }) {\r\n    return (\r\n        <div>\r\n            <Modal\r\n                show={show}\r\n                onHide={() => handleShow()}\r\n                dialogClassName=\"modal-90w\"\r\n                aria-labelledby=\"example-custom-modal-styling-title\"\r\n                className=\"h-full bg-gray-300\"\r\n                size=\"lg\"\r\n            >\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>\r\n                {sourceData?.header}\r\n                </Modal.Title>\r\n          </Modal.Header>\r\n\r\n          <Modal.Body>\r\n            \r\n              <div className='image_box'>\r\n\r\n                    <img\r\n                      src={sourceData?.source}\r\n                      alt={sourceData?.altTag}\r\n                      style={{width: '27em', height: '15em', borderRadius: '1em', marginBottom: '1em' }}\r\n                      className='image'\r\n                  />\r\n\r\n              </div>\r\n              \r\n            <div className='w-full h-full bg-green-400'>\r\n\r\n              <div>\r\n              {/* Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. */}\r\n              <div className='socials'>\r\n                <a href='https://www.linkedin.com/in/k-kornienko/' target='_blank'><span><FaTwitter /></span></a>\r\n                <a href='https://www.linkedin.com/in/k-kornienko/' target='_blank'><span><FaFacebook /></span></a>\r\n                <a href='https://www.linkedin.com/in/k-kornienko/' target='_blank'><span><FaLinkedin /></span></a>\r\n                <a href='https://www.linkedin.com/in/k-kornienko/' target='_blank'><span><FaInstagram /></span></a>\r\n              </div>\r\n              </div>\r\n            </div> \r\n          </Modal.Body>\r\n        </Modal>\r\n        </div>\r\n    )\r\n}\r\n","const actions = {\r\n    setTwitData: { type: 'SET_TWIT_DATA'},\r\n    setMessagesData: { type: 'SET_MESSAGES_DATA'},\r\n    setUserCount: { type: 'SET_USER_COUNT'},\r\n    setPeopleData: { type: 'SET_PEOPLE_DATA'},\r\n    setSearchData: { type: 'SET_SEARCH_DATA'},\r\n    setUsersData: { type: 'SET_USERS_DATA'},\r\n    setNewsType: { type: 'SET_NEWS_TYPE'},\r\n    setPage: { type: 'SET_PAGE'},\r\n    setTotalPages: { type: 'SET_TOTAL_PAGES'},\r\n    setSearchQuery: { type: 'SET_SEARCH_QUERY'},\r\n    setNetworkStatus: { type: 'SET_NETWORK_STATUS'},\r\n    setFormActive: { type: 'SET_FORM_ACTIVE'}\r\n  }\r\n  \r\n  export default actions;\r\n  ","import actions from \"./actions\";\r\n\r\nexport default function reducer(state= initialState, action) {\r\n    switch(action.type) {\r\n        case actions.setTwitData.type:\r\n\r\n            return {\r\n              ...state,\r\n              twits: action.data\r\n            }          \r\n        case actions.setMessagesData.type:\r\n\r\n            return {\r\n              ...state,\r\n              messages: action.data\r\n            }          \r\n        case actions.setPeopleData.type:\r\n\r\n            return {\r\n              ...state,\r\n              peopleData: action.data\r\n            }          \r\n        case actions.setSearchData.type:\r\n\r\n            return {\r\n              ...state,\r\n              searchData: action.data\r\n            }          \r\n        case actions.setUsersData.type:\r\n\r\n            return {\r\n              ...state,\r\n              usersData: action.data\r\n            }          \r\n        case actions.setUserCount.type:\r\n\r\n            return {\r\n              ...state,\r\n              users: action.data\r\n            }          \r\n        case actions.setFormActive.type:\r\n\r\n            return {\r\n              ...state,\r\n              formActive: action.data\r\n            }          \r\n        case actions.setNewsType.type:\r\n            const newsByType = state.newsData.filter(type => (type.type === action.data));\r\n\r\n            return {\r\n              ...state,\r\n              newsType: action.data, news: newsByType, searchQuery: '', page: 1, totalPages: Math.ceil(newsByType.length / state.pageSize)\r\n            }          \r\n            case actions.setPage.type:\r\n            return {\r\n                ...state,\r\n                page: action.data\r\n            }                   \r\n            case actions.setTotalPages.type:\r\n            return {\r\n                ...state,\r\n                totalPages: action.data\r\n            }                   \r\n            case actions.setSearchQuery.type:\r\n                let newsBySearch;\r\n                if(state.newsType === 'Filter By Type') {\r\n                    if(action.data === '') {\r\n                        newsBySearch = state.newsData;\r\n                    } else {\r\n                        newsBySearch = state.newsData.filter(item => {\r\n                            return item?.text?.toLowerCase().indexOf(action.data.toLowerCase()) >= 0;\r\n                        });\r\n                    }\r\n                } else {\r\n                    newsBySearch = state.newsData.filter(item => (item?.text?.toLowerCase().indexOf(action.data.toLowerCase()) >= 0) && (item.type === state.newsType));\r\n                }\r\n                    \r\n                return {\r\n                    ...state,\r\n                    searchQuery: action.data, news: newsBySearch, page: 1, totalPages: Math.ceil(newsBySearch.length / state.pageSize)\r\n                }                   \r\n            case actions.setNetworkStatus.type:\r\n                \r\n            return {\r\n                ...state,\r\n                networkStatus: action.data\r\n            }                   \r\n            default:\r\n                return state;\r\n    }\r\n};\r\n \r\nexport const initialState = {\r\n    twits: [],\r\n    messages: [],\r\n    users: 0,\r\n    peopleData: [],\r\n    searchData: [],\r\n    usersData: [],\r\n    searchQuery: '',\r\n    networkStatus: false,\r\n    formActive: false\r\n};\r\n","import { createStore } from 'redux';\r\nimport { devToolsEnhancer } from 'redux-devtools-extension';\r\nimport reducer from './reducer';\r\n\r\nconst store = createStore(reducer, devToolsEnhancer());\r\n\r\nexport default store;","/* eslint-disable no-unused-vars */\r\n/* eslint-disable react/jsx-no-target-blank  */\r\n/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Moment from 'react-moment';\r\nimport { BsPersonFill, BsChatText, BsBox } from 'react-icons/bs';\r\nimport { AiFillLike, AiTwotoneDelete, AiFillHome } from 'react-icons/ai';\r\nimport { IoIosPeople } from 'react-icons/io';\r\nimport { MdContentCopy, MdEmail, MdMessage } from 'react-icons/md';\r\nimport { BiMessage, BiMessageSquare, BiMessageX } from 'react-icons/bi';\r\nimport { GrEdit } from 'react-icons/gr';\r\nimport { RiArrowDownLine, RiArrowUpLine, RiChatNewLine } from 'react-icons/ri';\r\nimport TwitForm from './TwitForm';\r\nimport CommentForm from './CommentForm';\r\nimport Image from './Image';\r\nimport { baseUrl, frontendUrl } from '../helper';\r\nimport { Logout } from './GoogleAuth';\r\nimport Loader from 'react-loader-spinner';\r\nimport store from '../redux/store';\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport default function Twits() {\r\n    const [error, setError] = useState('');\r\n    // const [formActive, setFormActive] = useState(false);\r\n    const [sync, setSync] = useState(false);\r\n\r\n    const {getState, dispatch} = store;\r\n    const state = getState();\r\n    const { twits, users, formActive } = useSelector(state => state);\r\n\r\n    const email = localStorage.getItem('email') ? localStorage.getItem('email') : '';\r\n    const username = localStorage.getItem('username') ? localStorage.getItem('username') : '';\r\n    const userId = localStorage.getItem('userId') ? localStorage.getItem('userId') : '';\r\n    const img = localStorage.getItem('img') ? localStorage.getItem('img') : '';\r\n    const history = useHistory();\r\n    const token = localStorage.getItem('token');\r\n\r\n    const apiUrl = `${baseUrl}/twits`;\r\n\r\n    const showForm = () => {\r\n        dispatch({\r\n            type: 'SET_FORM_ACTIVE',\r\n            data: !formActive\r\n        });\r\n        // setFormActive(!formActive);\r\n    }\r\n\r\n    const logout = () => {\r\n        localStorage.removeItem('token');\r\n        history.push('/');\r\n    }\r\n\r\n    // if(!token) {\r\n    //     console.log(window.location.hash)\r\n    //     history.push('/');\r\n    // }\r\n\r\n    const apiCallHook = async(method, url, data) => {\r\n        await axios({\r\n            method,\r\n            url,\r\n            data,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n            })\r\n            .catch(error => {\r\n                if(error.isAxiosError) {\r\n                    setError(error.response?.data?.error);\r\n                }\r\n            });\r\n            setSync(!sync);\r\n    }\r\n\r\n    const getTwits = async() => {\r\n        if(!token) {\r\n            return;\r\n        }\r\n        const res = await axios({\r\n            method: 'GET',\r\n            url: `${apiUrl}`,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n            })\r\n            .catch(error => {\r\n                if(error.isAxiosError) {\r\n                    setError(error.response?.data?.error);\r\n                }\r\n            });\r\n            if(res && res.data.success) {\r\n                dispatch({\r\n                    type: 'SET_TWIT_DATA',\r\n                    data: res.data.data\r\n                });\r\n                localStorage.setItem('twits', JSON.stringify(res.data.data.map(x => {\r\n                    x.formActive = false;\r\n                    return x;\r\n                })));\r\n            } else {\r\n                setError('Please check your network');\r\n                dispatch({\r\n                    type: 'SET_TWIT_DATA',\r\n                    data: JSON.parse(localStorage.getItem('twits'))\r\n                });\r\n            }\r\n    }\r\n\r\n    const getUsers = async() => {\r\n        const res = await axios({\r\n            method: 'GET',\r\n            url: `${baseUrl}/auth/users`,\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n            })\r\n            .catch(error => {\r\n                if(error.isAxiosError) {\r\n                    setError(error.response?.data?.error);\r\n                }\r\n            });\r\n            if(res && res.data.success) {\r\n                dispatch({\r\n                    type: 'SET_USER_COUNT',\r\n                    data: res.data.data.count\r\n                });\r\n                localStorage.setItem('userCount', res.data.data.count);\r\n            } else {\r\n                setError('Error found');\r\n                setError('Please check your network');\r\n                dispatch({\r\n                    type: 'SET_USER_COUNT',\r\n                    data: JSON.parse(localStorage.getItem('userCount'))\r\n                });\r\n            }\r\n    }\r\n\r\n    const checkOpenForms = () => {\r\n        let closedTwits = twits.map(twit => {\r\n            twit.formActive = false;\r\n            return twit;\r\n        });\r\n    }\r\n\r\nuseEffect(() => {\r\n    localStorage.setItem('hash', window.location.hash);\r\n    if(!token) {\r\n        // console.log(window.location.hash)\r\n        return history.push('/');\r\n    }\r\n    getUsers();\r\n    return () => {}\r\n}, []);\r\n\r\nuseEffect(() => {\r\n    if(token) {\r\n        getTwits();\r\n    }\r\n\r\n    return () => {}\r\n}, [sync]);\r\n\r\nuseEffect(() => {\r\n    if(token) {\r\n        setTimeout(() => {\r\n            const hash = localStorage.getItem('hash');\r\n            let id = '';\r\n            // if(hash) {\r\n            //     id = hash.replace('#', '');\r\n                // console.log('hash found', hash)\r\n            // } else {\r\n                id = window.location.hash.replace('#', '');\r\n            // }\r\n            const element = document.getElementById(id);\r\n            if (element) element.scrollIntoView();\r\n        }, 0);\r\n    }\r\n    return () => {}\r\n}, [twits]);\r\n\r\nreturn (\r\n    <div style={{fontFamily: 'Roboto', fontWeight: '600', height: '90vh'}} className='mb-5 p-3 m-auto flex justify-center md:w-1/2'>\r\n        <span style={{cursor: 'pointer', borderRadius: '50%'}} className='text-xs mb-3 fixed bottom-9 right-2 bg-green-500 px-5 py-3 text-white'><RiChatNewLine size={25} onClick={showForm} />post</span>\r\n        {/* <span style={{cursor: 'pointer', borderRadius: '50%'}} className='text-xs fixed bottom-5 right-4 bg-purple-500 px-5 py-3 text-white'><RiArrowUpLine size={20} onClick={showForm} />top</span> */}\r\n        {formActive && <TwitForm error={error} showForm={showForm} sync={sync} setSync={setSync}/>}\r\n        \r\n        {!formActive && \r\n        <div>\r\n            <div className='flex justify-center m-auto -mt-3 p-2 md:w-1/2 flex-col'>\r\n                <p style={{marginTop: '3em'}} className='text-center mb-2 grow'>\r\n                <span style={{fontFamily: 'Architects Daughter', fontSize: '1.8em'}} className='text-purple-900 font-bold italic'>Buzz<br/>\r\n                </span> \r\n                <span style={{fontSize: '1em'}}> Feel free, express yourself & network </span>\r\n                </p>\r\n\r\n                <div style={{top: '0em', margin: 'auto'}} className='p-2 rounded mb-2 flex justify-between border-3 border shadow-md fixed right-0 left-0 bg-white md:w-1/2'>\r\n                    {img !== 'null' ? (\r\n                        <span className='cursor-pointer'  onClick= {e => history.push(`/${username}`)}>\r\n                            {error ? <BsPersonFill size={25} />:\r\n                            <img src={img} alt='Profile' style={{width: '30px', height: '30px', borderRadius: '50%'}} />}\r\n                        </span>) \r\n                        : <span className='text-left cursor-pointer'><BsPersonFill size={25} onClick={e => history.push(`/${username}`)} /></span>}\r\n                    <span className='text-left flex cursor-pointer'  onClick= {e => history.push('people')}><IoIosPeople size={30}/><span className='pt-1 pl-1'>{users > 0 && users}</span></span>\r\n                    \r\n                    <span style={{cursor: 'pointer'}} className='text-right' onClick={() => logout()}><Logout />\r\n                    </span>\r\n                </div>\r\n\r\n                <div style={{bottom: '0em', margin: 'auto'}} className='p-2 rounded flex justify-around border-3 border shadow-md fixed right-0 left-0 bg-white md:w-1/2'>\r\n                    <span className='cursor-pointer border-black border-t-2 pt-1' onClick={() => history.push(\"/twits\")}>\r\n                        <AiFillHome size={25} color='black' />\r\n                    </span>\r\n                    <span className='cursor-pointer pt-1' onClick={e => history.push(`/${username}`)}>\r\n                        {(img !== 'null' || error) ? \r\n                            <BsPersonFill size={25} color='gray' />:\r\n                            <img src={img} alt='Profile' style={{width: '30px', height: '30px', borderRadius: '50%'}} />\r\n                        }\r\n                    </span>\r\n                    <span className='cursor-pointer pt-1' onClick= {e => history.push('people')}>\r\n                        <IoIosPeople size={25} color='gray'/>\r\n                    </span>\r\n                    {/* <span className='cursor-pointer pt-1'> */}\r\n                        {/* <RiChatNewLine size={25} color='gray' onClick={showForm} /> */}\r\n                    {/* </span> */}\r\n\r\n                    <span className='cursor-pointer border-t-2 pt-1'  onClick= {e => history.push(`/chats/${username}`)}><MdEmail size={25} color='gray' />\r\n                    </span>\r\n                </div>\r\n\r\n                {error && <div style={{fontFamily: 'Roboto', backgroundColor: 'white', fontWeight: 'bold'}} className='text-red-500 text-center py-1 m-0 rounded border-3 -mx-2 md:w-300'>Please check your network !</div>}\r\n            </div>\r\n\r\n            {/* <Bars color=\"#00BFFF\" height={80} width={80} /> */}\r\n            {twits.length < 1 ? \r\n            <div className='flex justify-center items-center pt-8 m-auto'>\r\n                <Loader \r\n                type='Bars'\r\n                color='#00bfff'\r\n                height={80} \r\n                width={80} \r\n            />\r\n            </div>:\r\n            <div className=''>\r\n            {\r\n                twits.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()).map((twit, idx) => \r\n                    <Twit key={idx} twit={twit} email={email} userId={userId} apiCallHook={apiCallHook} baseUrl={baseUrl} frontendUrl={frontendUrl} sync={sync} setSync={setSync} showForm={showForm} formActive={formActive} checkOpenForms={checkOpenForms} error={error} />\r\n                )\r\n            }\r\n            </div>}\r\n        </div>}\r\n    </div>\r\n    )\r\n}\r\n\r\nexport const Twit = (props) => {\r\n    let { twit: {id, title, text, imageUrl, twits, likes, comments, createdAt, updatedAt }, email, userId, apiCallHook, baseUrl, frontendUrl, sync, setSync, checkOpenForms, error } = props;\r\n    const [commentFormActive, setCommentFormActive] = useState(false);\r\n    const [editLoading, setEditLoading] = useState(false);\r\n    const [likeLoading, setLikeLoading] = useState(false);\r\n    const [deleteLoading, setDeleteLoading] = useState(false);\r\n    const [storyText, setStoryText] = useState(text);\r\n    const [editForm, setEditForm] = useState(false);\r\n    const [linkCopied, setLinkCopied] = useState(false);\r\n    const [more, setMore] = useState(false);\r\n    const [viewComments, setViewComments] = useState(false);\r\n    const [show, setShow] = useState(false);\r\n    const [sourceData, setSourceData] = useState({});\r\n\r\n    const history = useHistory();\r\n    const filteredComments = comments.filter(comment => !comment.isDeleted);\r\n    const handleStoryChange = (e) => {\r\n        setStoryText(e.target.value);\r\n    }\r\n\r\n    let link;\r\n    if(text.search('http') >= 0) {\r\n        const http = text.split(' ').filter(x => x.search('http') >= 0);\r\n        link = http[0].split('\\n').filter(x => x.search('http') >= 0);\r\n        text = text.replace(link, '')\r\n    }\r\n    const isLiked = (() => {\r\n        const liked = likes.filter(like => like.userlikes.email === email && like.isLiked === true);\r\n       return liked.length ? true : false;\r\n    })();\r\n\r\n    const showMore = () => {\r\n        if(more) {\r\n            setMore(false);\r\n        } else {\r\n            setMore(true);\r\n        }\r\n    }\r\n\r\n    const showComments = () => {\r\n        if(viewComments) {\r\n            setViewComments(false);\r\n        } else {\r\n            setViewComments(true);\r\n        }\r\n    }\r\n\r\n    const copyTwitLink = () => {\r\n        clipboardCopy(`${frontendUrl}/#${id}`);\r\n        setTimeout(() => {\r\n            setLinkCopied(false);\r\n        }, 1000);\r\n    }\r\n\r\n    const editStory = () => {\r\n        setEditForm(!editForm);\r\n        setStoryText(text);\r\n    }\r\n   \r\n    const updateStory = () => {\r\n        apiCallHook('PATCH', `${baseUrl}/twits/${id}`, {text: storyText});\r\n        setEditLoading(true);\r\n        setTimeout(() => {\r\n            setEditLoading(false);\r\n            setEditForm(false);\r\n        }, 1000);\r\n    }\r\n    const likeCount = likes.filter(like => like.isLiked).length;\r\n    const showCommentForm = () => {\r\n        setCommentFormActive(!commentFormActive);\r\n        props.twit.formActive = !commentFormActive;\r\n    }\r\n    \r\n    const likeTwit = () => {\r\n        setLikeLoading(true);\r\n        setTimeout(() => {\r\n            setLikeLoading(false);\r\n        }, 1000);\r\n        apiCallHook('POST', `${baseUrl}/likes/like/${id}`);\r\n    }\r\n    const commentTwit = () => {\r\n        showCommentForm();\r\n    }\r\n    const deleteTwit = () => {\r\n        setDeleteLoading(true);\r\n        setTimeout(() => {\r\n            setDeleteLoading(false);\r\n        }, 1000);\r\n        apiCallHook('DELETE', `${baseUrl}/twits/${id}`);\r\n    }\r\n\r\n    const clipboardCopy = async (text) => {\r\n        if ('clipboard' in navigator) {\r\n            setLinkCopied(true);\r\n          return await navigator.clipboard.writeText(text);\r\n        } else {\r\n        }\r\n      }\r\n    \r\n    const handleShow = (source) => {\r\n        console.log(source);\r\n        setShow(!show);\r\n        setSourceData(source);\r\n    }\r\n\r\n    return (\r\n    <div id={`${id}`} style={{fontSize: '1.1em'}} className='shadow-lg border border-gray-200 rounded px-4 pb-4 mb-4'>\r\n        <p className='flex justify-between mb-2'>\r\n            <span></span>\r\n            {/* <span style={{fontFamily: 'Roboto Slab'}} className='text-xl font-bold self-center'>{title}</span> */}\r\n            <span className={!linkCopied ? 'mr-2 mb-1 invisible text-xs self-end' : 'mr-2 mb-1 text-xs self-end'}>copied</span>\r\n        </p>\r\n        <span className='text-xs mb-2 flex justify-between'>\r\n            <Moment fromNow>{createdAt}</Moment>\r\n            <span className='flex'>\r\n            {(email === twits.email) && !editForm && \r\n                <span className='cursor-pointer mr-2 text-black p-2 -mt-2 rounded-full' onClick={() => editStory()}> \r\n                    <GrEdit size={15} />\r\n                </span>\r\n            }\r\n                <span className={linkCopied ? 'flex-col rounded-full p-2 text-white bg-blue-900 cursor-pointer -mt-2 mr-1' : 'rounded-full p-2 cursor-pointer -mt-2 mr-1'} onClick={() => copyTwitLink()}> \r\n                    <MdContentCopy  size={15} />\r\n                </span>\r\n            </span>\r\n        </span>\r\n        {editForm && <div className='mb-5'>\r\n                <textarea \r\n                    className='border-gray-200 border-2 p-2 mb-2 rounded bg-white-300 focus:outline-none text-black'\r\n                    style={{width: '100%'}}\r\n                    cols={3}\r\n                    rows={4}\r\n                    maxLength={550}\r\n                    value={storyText}\r\n                    onChange={handleStoryChange}\r\n                    required={true}\r\n                    /><br />\r\n                {!editLoading ? \r\n                 <>\r\n                    <span \r\n                        className='text-xs cursor-pointer bg-gray-500 p-2 m-2 text-white rounded hover:bg-gray-400' onClick={() => editStory()}\r\n                    > \r\n                        Cancel \r\n                    </span>\r\n                    <span \r\n                    className='text-xs cursor-pointer bg-green-600 p-2 mb-2 text-white rounded hover:bg-green-400 hover:text-black' onClick={() => updateStory()}\r\n                    > \r\n                        Update Story \r\n                    </span>\r\n                </>\r\n                :\r\n                    <LoadSpan height={20} width={20} color='#00bfff' />}\r\n                </div>}\r\n\r\n        {!editForm && <div style={{fontSize: '0.9em', lineHeight: 2}} className='mt-2'>\r\n            {text.length > 100 ? text.slice(0, 100) : text}{link && <a className='underline' href={link} target='_blank'>link</a>}\r\n            {more ? \r\n                <>{text.slice(100)}\r\n                    <>{text.length > 100 && \r\n                        <span style={{color: 'gray', fontWeight: '0.3em'}} className='cursor-pointer' onClick={showMore}>\r\n                            ...<span className='underline'>See less</span>\r\n                        </span>\r\n                        }\r\n                    </>\r\n                </> :\r\n                <>\r\n                    {text.length > 100 && \r\n                        <span style={{color: 'gray', fontWeight: '0.3em'}} className='cursor-pointer' onClick={showMore}>\r\n                            ...<span className='underline'>See more</span>\r\n                        </span>\r\n                    }\r\n                </>\r\n            }\r\n        \r\n        <br />\r\n        {((new Date(updatedAt).getTime() - new Date(createdAt).getTime()) > 0) && <span className='text-xs'>Updated <Moment fromNow>{updatedAt}</Moment></span>}\r\n        </div>}\r\n        <span>\r\n            {/* {imageUrl && <img style={{width: \"100%\"}} src={imageUrl} onClick={() => handleShow()} alt='imgurl' className='rounded max-h-72 cursor-pointer' />} */}\r\n            {imageUrl && <img style={{width: \"100%\"}} src={imageUrl} alt='imgurl' className='rounded max-h-100 cursor-pointer' />}\r\n        </span> \r\n        <Image show={show} handleShow={handleShow} sourceData={sourceData} />\r\n        {/* likes and comments count section */}\r\n            {(likeCount > 0 || comments.length > 0) && \r\n            <div className='flex text-xs p-1 px-3 mt-1 -mx-4'>\r\n                {likeCount > 0 && <span className='mr-2'>{likeCount}{' '} {likeCount > 1 ? 'likes' : 'like'} </span>}\r\n                {filteredComments.length > 0 && <span className=''>{filteredComments.length}{' '} {filteredComments.length > 1 ? 'comments' : 'comment'} </span>}\r\n            </div>}\r\n\r\n        {/*  */}\r\n        <div style={{fontSize: '0.9em'}} className='justify-between text-gray-800 flex mt-1 pt-2 pl-3 pr-3 -mb-3 -ml-5 -mr-5 pt-1 border-t-2'>\r\n            <span className='mx-1 flex cursor-pointer'  onClick= {e => history.push(`/${twits.username}`)}>\r\n                {twits.imageUrl ? (\r\n                <span className='mr-1'>\r\n                    {(error || twits.imageUrl === 'null') ? <BsPersonFill size={18}/>:\r\n                    <img src={twits.imageUrl} alt='Profile' style={{width: '20px', height: '20px', borderRadius: '50%'}} />}\r\n                </span>) \r\n                : <BsPersonFill size={18}/>}\r\n                {email === twits.email ? 'Me' : twits.username}\r\n            </span>\r\n            <span className='flex'> \r\n            <span style={{cursor: 'pointer'}} className='mx-2 flex' onClick={() => likeTwit()}>\r\n               {!likeLoading ? \r\n               <>\r\n               <span className={isLiked ? 'text-blue-500' : 'text-gray-500'}><AiFillLike size={20}/></span>\r\n                </>:\r\n                <LoadSpan height={20} width={18} color='#00bfff' />}\r\n            </span>\r\n            <span style={{cursor: 'pointer'}} className='mx-2 flex text-gray-500' onClick={() => commentTwit()}>\r\n                <BsChatText size={18}/>\r\n            </span>\r\n            {email === twits.email &&\r\n            <span style={{cursor: 'pointer'}} className='mx-2 flex hover:text-red-800' onClick={() => deleteTwit()}>\r\n                {!deleteLoading ? \r\n                <AiTwotoneDelete size={20} color='red'/>:\r\n                <LoadSpan height={20} width={20} color='#00bfff' />}\r\n            </span>}\r\n            </span>\r\n        </div>\r\n        {commentFormActive && <CommentForm twitId={id} showCommentForm={showCommentForm} sync={sync} setSync={setSync}/>}\r\n        \r\n        {filteredComments.length > 0 &&\r\n        <div className='mt-5'><span className='text-xs mt-4 -mb-2 cursor-pointer shadow-sm border-2 p-2' onClick={showComments}>{viewComments ? 'Hide Comments' : 'View Comments'}</span></div>\r\n        }\r\n        {viewComments && \r\n            <>{comments.length > 0 && \r\n                    (<div className='mt-4 rounded'>\r\n                        {filteredComments.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()).map((comment, idx) => (\r\n                            <Comment key={idx} comment={comment} apiCallHook={apiCallHook} email={email} userId={userId} error={error} />\r\n                        )\r\n                    )}\r\n                </div>)\r\n            }</>\r\n        }\r\n    </div>\r\n    )\r\n}\r\n\r\nconst Comment = (props) => {\r\n    let { comment: { id, text, usercomments, likecomments, createdAt }, email, userId, apiCallHook, error } = props;\r\n\r\n    const [likeLoading, setLikeLoading] = useState(false);\r\n    const [deleteLoading, setDeleteLoading] = useState(false);\r\n    const [more, setMore] = useState(false);\r\n    const history = useHistory();\r\n\r\n    const showMore = () => {\r\n        if(more) {\r\n            setMore(false);\r\n        } else {\r\n            setMore(true);\r\n        }\r\n    }\r\n\r\n    const isLiked = (() => {\r\n        const liked = likecomments.filter(like => like.userId === userId && like.isLiked === true);\r\n       return liked.length ? true : false;\r\n    })();\r\n\r\n    let link;\r\n    if(text.search('http') >= 0) {\r\n        const http = text.split(' ').filter(x => x.search('http') >= 0);\r\n        link = http[0].split('\\n').filter(x => x.search('http') >= 0);\r\n        text = text.replace(link, '')\r\n    }\r\n\r\n    const likeCount = likecomments?.filter(like => like.isLiked).length;\r\n    const likeComment = () => {\r\n        setLikeLoading(true);\r\n        setTimeout(() => {\r\n            setLikeLoading(false);\r\n        }, 1000);\r\n        apiCallHook('POST', `${baseUrl}/likecomments/like/${id}`);\r\n    }\r\n    const deleteComment = () => {\r\n        setDeleteLoading(true);\r\n        setTimeout(() => {\r\n            setLikeLoading(false);\r\n        }, 1000);\r\n        apiCallHook('DELETE', `${baseUrl}/comments/${id}`);\r\n    }\r\n\r\n    return(\r\n        <div className='border border-gray-200 shadow-lg mb-2 p-1 rounded'>\r\n            <span className='text-xs mb-2 ml-2'>\r\n            <Moment fromNow>{createdAt}</Moment>\r\n            </span>\r\n            <p style={{fontSize: '0.9em', lineHeight: 2}} className='p-2 font-semibold'>\r\n            {/* {text.length > 100 ? text.slice(0, 100) : text} */}\r\n            {text.length > 100 ? text.slice(0, 100) : text}{link && <a className='underline' href={link} target='_blank'>link</a>}\r\n\r\n            {more ? \r\n                <>{text.slice(100)}\r\n                    <>{text.length > 100 && \r\n                        <span style={{color: 'gray', fontWeight: '0.3em'}} className='cursor-pointer' onClick={showMore}>\r\n                            ...<span className='underline'>See less</span>\r\n                        </span>\r\n                        }\r\n                    </>\r\n                </> :\r\n                <>\r\n                    {text.length > 100 && \r\n                        <span style={{color: 'gray', fontWeight: '0.3em'}} className='cursor-pointer' onClick={showMore}>\r\n                            ...<span className='underline'>See more</span>\r\n                        </span>\r\n                    }\r\n                </>\r\n            }\r\n            </p>\r\n\r\n        {/* likes and comments count section */}\r\n\r\n        {/* TODO refactor for replies count */}\r\n        {(likeCount > 0) && \r\n            <div className='flex text-xs p-1 px-3 mt-1 -mx-1'>\r\n                {likeCount > 0 && <span className='mr-2'>{likeCount}{' '} {likeCount > 1 ? 'likes' : 'like'} </span>}\r\n                {/* TODO refactor for replies count */}\r\n            </div>}\r\n\r\n        {/*  */}\r\n            <div style={{fontSize: '0.9em'}} className='flex justify-between text-gray-800 flex mt-1 mb-1 pt-2 -ml-1 -mr-1 border-t-2 border-gray-200'>\r\n                <span className='mx-1 flex cursor-pointer'  onClick= {e => history.push(`/${usercomments.username}`)}>\r\n                    {usercomments.imageUrl ? (\r\n                    <span className='mr-1'>\r\n                        {error ? <BsPersonFill size={20}/>:\r\n                        <img src={usercomments.imageUrl} alt='Profile' style={{width: '20px', height: '20px', borderRadius: '50%'}} />}\r\n                    </span>)\r\n                    : <BsPersonFill size={20}/>}\r\n                    {email === usercomments.email ? 'Me' : usercomments.username}\r\n                </span>\r\n                <span className='flex'>\r\n                <span style={{cursor: 'pointer'}} className='mx-2 flex' onClick={() => likeComment()}>\r\n                {!likeLoading ? \r\n                <>\r\n                <span className={isLiked ? 'text-blue-500' : 'text-gray-500'}><AiFillLike size={20}/></span>\r\n                    </>:\r\n                    <LoadSpan height={20} width={18} color='#00bfff' />}\r\n                </span>\r\n                {/* TODO Implement reply comment component */}\r\n             \r\n                {email === usercomments.email &&\r\n                <span style={{cursor: 'pointer'}} className='mx-2 flex hover:text-red-800' onClick={() => deleteComment()}>\r\n                    {!deleteLoading ? \r\n                    <AiTwotoneDelete size={20} color='red'/>:\r\n                    <LoadSpan height={20} width={20} color='#00bfff' />}\r\n                </span>}\r\n                </span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const LoadSpan = ({height, width, color}) => (\r\n            <span \r\n            className='m-auto mr-4'>\r\n                        <Loader \r\n                        type='ThreeDots'\r\n                        color={color}\r\n                        height={height} \r\n                        width={width} \r\n                        />\r\n            </span>\r\n            )","/* eslint-disable no-unused-vars */\r\n/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { BsPersonFill, BsToggleOff, BsToggleOn } from 'react-icons/bs';\r\nimport { IoIosArrowBack, IoIosPeople, IoMdCloudUpload } from 'react-icons/io';\r\nimport { GrEdit, GrUploadOption } from 'react-icons/gr';\r\nimport Moment from 'react-moment';\r\nimport axios from 'axios';\r\nimport { baseUrl } from '../helper';\r\nimport { LoadSpan } from './Twits';\r\nimport store from '../redux/store';\r\nimport { useSelector } from 'react-redux';\r\nimport { AiFillHome } from 'react-icons/ai';\r\nimport Loader from 'react-loader-spinner';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { MdEmail } from 'react-icons/md';\r\nimport { RiChatNewLine } from 'react-icons/ri';\r\n\r\nexport default function Profile() {\r\n    const [error, setError] = useState('');\r\n    const [profileImg, setProfileImg] = useState('');\r\n    const [ userData, setUserData ] = useState({});\r\n    const [ isFollower, setIsFollower ] = useState(false);\r\n    const [ isFollowing, setIsFollowing ] = useState(false);\r\n    const [ followerCount, setFollowerCount ] = useState(0);\r\n    const [ followingCount, setFollowingCount ] = useState(0);\r\n    const [ twitCount, setTwitCount ] = useState(0);\r\n    const [followLoading, setFollowLoading] = useState(false);\r\n    const [sync, setSync] = useState(false);\r\n    let { user } = useParams();\r\n    const history = useHistory();\r\n\r\n    const email = localStorage.getItem('email') ? localStorage.getItem('email') : '';\r\n    const username = localStorage.getItem('username') ? localStorage.getItem('username') : '';    \r\n    const img = localStorage.getItem('img') ? localStorage.getItem('img') : '';\r\n    const token = localStorage.getItem('token');\r\n    const {getState, dispatch} = store;\r\n    const state = getState();\r\n    const { twits, formActive } = useSelector(state => state);\r\n\r\n    const apiCallHook = async(method, url, data) => {\r\n        const res = await axios({\r\n            method,\r\n            url,\r\n            data,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n            })\r\n            .catch(error => {\r\n                if(error.isAxiosError) {\r\n                    setError(error.response?.data?.error);\r\n                }\r\n            });\r\n            if(res && res.data.success) {\r\n                // console.log(res.data)\r\n                    if(method === 'GET') {\r\n                    dispatch({\r\n                        type: 'SET_USERS_DATA',\r\n                        data: res.data.data.users\r\n                    });\r\n                    localStorage.setItem('usersData', JSON.stringify(res.data.data.users));\r\n                    localStorage.setItem('users', JSON.stringify(res.data.data.users));\r\n                    const userTwits = twits.filter(obj => obj.twits.username === user);\r\n                    const userDataInStore = res.data.data.users.filter(obj => obj.username === user)[0];\r\n                    const followers = userDataInStore.followers.filter(user => user.follower.isFollowed);\r\n                    const following = userDataInStore.following.filter(user => user.follower.isFollowed);\r\n                    const checkIsFollower = followers.filter(user => user.email === email).length > 0;\r\n                    const checkIsFollowing = following.filter(user => user.email === email).length > 0;\r\n                    setUserData(userDataInStore);\r\n                    setFollowerCount(followers.length);\r\n                    setFollowingCount(following.length);\r\n                    setIsFollower(checkIsFollower);\r\n                    setIsFollowing(checkIsFollowing);\r\n                    setTwitCount(userTwits.length);\r\n\r\n                    if(userDataInStore.imageUrl) {\r\n                        localStorage.setItem('profileImg', userDataInStore.imageUrl);\r\n                        setProfileImg(userDataInStore.imageUrl);\r\n                    }\r\n                    \r\n                    setError('');\r\n                } else{\r\n                    toast(\"updated successfully!\");\r\n                    setSync(!sync);\r\n                }\r\n            } else {\r\n                setError('Please check your network');\r\n                dispatch({\r\n                    type: 'SET_USERS_DATA',\r\n                    data: JSON.parse(localStorage.getItem('usersData'))\r\n                });\r\n                const userTwits = twits.filter(obj => obj.twits.username === user);\r\n                const userDataInStore = JSON.parse(localStorage.getItem('usersData')).filter(obj => obj.username === user)[0];\r\n                const followers = userDataInStore?.followers.filter(user => user.follower.isFollowed);\r\n                const following = userDataInStore?.following.filter(user => user.follower.isFollowed);\r\n                const checkIsFollower = followers?.filter(user => user.email === email).length > 0;\r\n                const checkIsFollowing = following?.filter(user => user.email === email).length > 0;\r\n                setUserData(userDataInStore);\r\n                setFollowerCount(followers?.length);\r\n                setFollowingCount(following?.length);\r\n                setIsFollower(checkIsFollower);\r\n                setIsFollowing(checkIsFollowing);\r\n                setTwitCount(userTwits?.length);         \r\n            }\r\n    }\r\n\r\n    const showForm = () => {\r\n        dispatch({\r\n            type: 'SET_FORM_ACTIVE',\r\n            data: !formActive\r\n        });\r\n    }\r\n\r\n    const getTwits = async() => {\r\n        if(!token) {\r\n            return;\r\n        }\r\n        const res = await axios({\r\n            method: 'GET',\r\n            url: `${baseUrl}/twits`,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n            })\r\n            .catch(error => {\r\n                if(error.isAxiosError) {\r\n                    setError(error.response?.data?.error);\r\n                }\r\n            });\r\n            if(res && res.data.success) {\r\n                dispatch({\r\n                    type: 'SET_TWIT_DATA',\r\n                    data: res.data.data\r\n                });\r\n                localStorage.setItem('twits', JSON.stringify(res.data.data.map(x => {\r\n                    x.formActive = false;\r\n                    return x;\r\n                })));\r\n            } else {\r\n                setError('Please check your network');\r\n                dispatch({\r\n                    type: 'SET_TWIT_DATA',\r\n                    data: JSON.parse(localStorage.getItem('twits'))\r\n                });\r\n            }\r\n    }\r\n\r\n    const handleFollow = () => {\r\n        setFollowLoading(true);\r\n        setTimeout(() => {\r\n            setFollowLoading(false);\r\n        }, 1000);\r\n        if(isFollower) {\r\n            apiCallHook('PATCH', `${baseUrl}/followers/unfollow`, {followerId: userData?.id});\r\n        } else {\r\n            apiCallHook('POST', `${baseUrl}/followers/follow`, {followerId: userData?.id});\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        apiCallHook('GET', `${baseUrl}/auth/users`);\r\n        return () => {\r\n        }\r\n    }, [sync]);\r\n   \r\n    useEffect(() => {\r\n        if(token) {\r\n            getTwits();\r\n        }\r\n    \r\n        return () => {}\r\n    }, []);\r\n \r\n    return (\r\n        <div id={`${user}`} style={{fontSize: '1.1em'}} className='shadow-lg border border-gray-200 rounded p-2 mb-4 m-auto justify-center md:w-1/2'>\r\n        <div style={{margin: 'auto', top: '0em'}} className='flex justify-between mb-6 border-3 border -mt-2 -mx-2 shadow-md p-2 bg-white fixed right-0 left-0 md:w-1/2'>\r\n            <span className='cursor-pointer' onClick={() => history.goBack()}><IoIosArrowBack size={30} /></span>\r\n            {<span className='flex cursor-pointer' onClick= {e => history.push('people')}><IoIosPeople size={35}/></span>}\r\n            <span className='bg-black-400 cursor-pointer' onClick={() => history.push(\"/twits\")}><AiFillHome size={28} /></span>\r\n        </div>\r\n\r\n        <div style={{bottom: '0em', margin: 'auto'}} className='p-2 rounded flex justify-around border-3 border shadow-md fixed right-0 left-0 bg-white md:w-1/2'>\r\n                    <span className='cursor-pointer pt-1' onClick={() => history.push(\"/twits\")}>\r\n                        <AiFillHome size={25} color='gray' />\r\n                    </span>\r\n                    <span className='cursor-pointer border-t-2 pt-1 border-black' onClick={e => history.push(`/${username}`)}>\r\n                        {(profileImg !== 'null' || error) ? \r\n                            <BsPersonFill size={25} color='black' />:\r\n                            <img src={profileImg} alt='Profile' style={{width: '30px', height: '30px', borderRadius: '50%'}} />\r\n                        }\r\n                    </span>\r\n                    <span className='cursor-pointer pt-1' onClick= {e => history.push('people')}>\r\n                        <IoIosPeople size={25} color='gray'/>\r\n                    </span>\r\n                    {/* <span className='cursor-pointer pt-1'>\r\n                        <RiChatNewLine size={25} color='gray' onClick={showForm} />\r\n                    </span> */}\r\n\r\n                    <span className='cursor-pointer pt-1'  onClick= {e => history.push(`/chats/${username}`)}><MdEmail size={25} color='gray' />\r\n                    </span>\r\n                </div>\r\n\r\n        <ToastContainer />\r\n        {!userData.username ? \r\n        <div style={{marginTop: '3.5em'}} className='flex justify-center items-center pt-8'>\r\n            <Loader \r\n            type='Bars'\r\n            color='#00bfff'\r\n            height={80} \r\n            width={80} \r\n        />\r\n        </div>:\r\n        <>\r\n            <div style={{marginTop: '3.5em'}} className='mb-1 flex justify-between'>\r\n                <>\r\n                    <AttachProfileImage imgUrl={userData?.imageUrl} error={error} email={email} userData={userData} apiCallHook={apiCallHook} />\r\n                    {/* {userData?.imageUrl ?\r\n                    <span className='flex'>\r\n                        {error ? <span className='flex bg-gray-300 p-3 rounded'>\r\n                        <BsPersonFill size={80} />\r\n                        </span>:\r\n                        <img src={userData?.imageUrl} alt='Profile' style={{width: '6em', height: '6em', borderRadius: '10%'}} />}\r\n                    </span>\r\n                    : \r\n                    <span className='flex bg-gray-300 p-3 rounded'>\r\n                        <BsPersonFill size={80} />\r\n                    </span>} */}\r\n                </>\r\n                <div className='ml-2'>\r\n                    <div>\r\n                        <span className='text-xl font-semibold ml-2 mb-2'>{userData?.username}</span>\r\n                    </div>\r\n                    <div className='flex justify-between mt-3 p-1 rounded bg-gray-200'>\r\n                            <span className={'flex-col flex text-center p-2 cursor-pointer mr-3'}  onClick= {e => history.push(`/follower/${user}`)}> \r\n                                    <span className='text-lg font-bold'>{followerCount}</span> <span className='text-xs'>{followerCount  > 1 ? 'followers' : 'follower'}</span>\r\n                            </span>\r\n                            <span className={'flex-col flex text-center p-2 cursor-pointer mr-3'}  onClick= {e => history.push(`/following/${user}`)}> \r\n                                    <span className='text-lg font-bold'>{followingCount}</span><span className='text-xs'> following</span>\r\n                            </span>\r\n                            <span className={'flex-col flex text-center p-2 cursor-pointer mr-3'}  onClick= {e => history.push(`/twits/${user}`)}> \r\n                                    <span className='text-lg font-bold'>{twitCount}</span><span className='text-xs'> {twitCount  > 1 ? 'posts' : 'post'}</span>\r\n                            </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {error && \r\n                <div style={{backgroundColor: 'white', fontWeight: 'bold'}} className='text-red-500 text-center py-1 mb-0 rounded'>\r\n                    {error}\r\n                </div>\r\n            }\r\n            <span className='text-sm mt-3 mb-4 flex justify-between'>\r\n                <span>\r\n                    <span className=''>Joined: <Moment fromNow>{userData?.createdAt}</Moment></span><br />\r\n                    {isFollowing && <span className='text-xs text-white bg-gray-500 rounded p-1 mb-3'> \r\n                        Follows you\r\n                    </span>}\r\n                </span>\r\n                <span className='flex'>\r\n                {(email !== userData?.email) && \r\n                    <>\r\n                    {!followLoading ? \r\n                        <span className='flex flex-col'>\r\n                            <span className={'invisible mt-2 mr-1'}></span>\r\n                            <span className={'text-white bg-blue-900 rounded hover:bg-blue-400 p-1 cursor-pointer -mt-2 mr-1'} onClick={() => handleFollow()}> \r\n                            {!isFollower ? 'Follow' : 'Following'}\r\n                            </span>\r\n                        </span>\r\n                        :\r\n                        <LoadSpan height={20} width={20} color='' />}\r\n                    </>\r\n                }\r\n                </span>\r\n            </span>\r\n            {(email === userData?.email) && \r\n                <span className={'text-sm text-white bg-gray-900 rounded hover:bg-gray-400 p-2 cursor-pointer mr-3 mt-5'}  onClick= {e => history.push(`/chats/${user}`)}> \r\n                    Messages\r\n                </span>\r\n            }\r\n                <UserProfile email={email} userData={userData} apiCallHook={apiCallHook} />\r\n                    \r\n        </>}\r\n        {!userData?.username &&\r\n        <div className='flex'>\r\n            <span className='m-auto'><BsPersonFill size={300} /></span>\r\n        </div>}\r\n    </div>\r\n    )\r\n}\r\n\r\n\r\nconst UserProfile = ({userData, email, apiCallHook}) => {\r\n    const {name, username, bio, location, mobile, dob} = userData;\r\n\r\n    const [editForm, setEditForm] = useState(false);\r\n    const [lname, setName] = useState(name);\r\n    const [lusername, setUserName] = useState(username);\r\n    const [lbio, setBio] = useState(bio);\r\n    const [llocation, setLocation] = useState(location);\r\n    const [ldob, setDob] = useState(dob);\r\n    const [lmobile, setMobile] = useState(mobile);\r\n\r\n    const [nameHidden, setNameHidden] = useState(false);\r\n    const [usernameHidden, setUsernameHidden] = useState(false);\r\n    const [bioHidden, setBioHidden] = useState(false);\r\n    const [locationHidden, setLocationHidden] = useState(false);\r\n    const [dobHidden, setDobHidden] = useState(false);\r\n    const [mobileHidden, setMobileHidden] = useState(false);\r\n\r\n    const editProfile = () => {\r\n        setEditForm(!editForm);\r\n        if(editForm) {\r\n            apiCallHook('PATCH', `${baseUrl}/auth/update`, {name: lname, username: lusername, bio: lbio, location: llocation, dob: ldob, mobile: lmobile});\r\n        }\r\n    }\r\n\r\n    const handleProfileInfo = (e) => {\r\n        if(e.target.name === 'name') {\r\n            setName(e.target.value);\r\n        } else if(e.target.name === 'username') {\r\n            setUserName(e.target.value);\r\n        } else if(e.target.name === 'bio') {\r\n            setBio(e.target.value);\r\n        } else if(e.target.name === 'location') {\r\n            setLocation(e.target.value);\r\n        } else if(e.target.name === 'date-of-birth'){\r\n            setDob(e.target.value);\r\n        } else {\r\n            setMobile(e.target.value);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='text-sm border border-t-1 shadow-md rounded mt-2 mb-8'>\r\n        <div className='flex mt-2 justify-between'>\r\n            <span className='ml-2 underline'>Profile Information</span>\r\n            {(email === userData?.email) &&\r\n            <>\r\n                {!editForm && <span className=' flex cursor-pointer text-black p-2 rounded-full justify-items-end' onClick={() => editProfile()}> \r\n                    <GrEdit size={18} /> <span className='text-sm ml-1'>Edit</span>\r\n                </span>}\r\n                {editForm && <span className='flex cursor-pointer text-black p-2 rounded-full' onClick={() => editProfile()}> \r\n                    <GrUploadOption size={18} /><span className='text-sm ml-1'>Update</span>\r\n                </span>}\r\n            </>\r\n            }\r\n        </div>\r\n        <div className='mb-2'>\r\n            <div className='flex justify-between'>\r\n                <label htmlFor=\"Name\" className='px-2 font-bold'> Name</label>\r\n                {(email === userData?.email) &&\r\n                <span className='cursor-pointer mr-4'>\r\n                    {nameHidden ? \r\n                    <span onClick={() => setNameHidden(false)}><BsToggleOff size={30} /></span> \r\n                    : \r\n                    <span onClick={() => setNameHidden(true)}><BsToggleOn size={30} /></span>}\r\n                </span>}\r\n            </div>\r\n            {editForm && <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={lname ? lname : name}\r\n            style={{width: '16em'}}\r\n            onChange={handleProfileInfo}\r\n            placeholder=\"Your name\"\r\n            className='p-1 my-1 rounded'\r\n            />}\r\n            {!editForm && <div className={`${nameHidden && 'hidden'} px-2`}>{lname ? lname : name ? name : 'Not available'}</div>}\r\n        </div>\r\n        <div className='mb-2'>\r\n            <div className='flex justify-between'>\r\n                <label htmlFor=\"Username\" className='px-2 font-bold'> Username</label>\r\n                {(email === userData?.email) &&\r\n                <span className='cursor-pointer mr-4'>\r\n                    {usernameHidden ? \r\n                    <span onClick={() => setUsernameHidden(false)}><BsToggleOff size={30} /></span> \r\n                    : \r\n                    <span onClick={() => setUsernameHidden(true)}><BsToggleOn size={30} /></span>}\r\n                </span>}\r\n            </div>\r\n            {editForm && <input\r\n            type=\"text\"\r\n            name=\"username\"\r\n            value={lusername ? lusername : username}\r\n            style={{width: '16em'}}\r\n            onChange={handleProfileInfo}\r\n            disabled\r\n            placeholder=\"Update your username\"\r\n            className='p-1 my-1 rounded'\r\n            />}\r\n            {!editForm && <div className={`${usernameHidden && 'hidden'} px-2`}>{lusername ? lusername : username ? username : 'Not available'}</div>}\r\n        </div>\r\n        <div className='mb-2'>\r\n            <div className='flex justify-between'>\r\n                <label htmlFor=\"Bio\" className='px-2 font-bold'> Bio</label>\r\n                {(email === userData?.email) &&\r\n                <span className='cursor-pointer mr-4'>\r\n                    {bioHidden ? \r\n                    <span onClick={() => setBioHidden(false)}><BsToggleOff size={30} /></span> \r\n                    : \r\n                    <span onClick={() => setBioHidden(true)}><BsToggleOn size={30} /></span>}\r\n                </span>}\r\n            </div>\r\n            {editForm && <textarea\r\n            type=\"textarea\"\r\n            name=\"bio\"\r\n            value={lbio ? lbio : bio}\r\n            rows={4}\r\n            cols={3}\r\n            style={{width: '18em', height: '8em'}}\r\n            onChange={handleProfileInfo} \r\n            placeholder=\"Tell the world briefly about yourself\"\r\n            className='text-sm p-1 my-1 rounded'\r\n            />}\r\n            {!editForm && <div className={`${bioHidden && 'hidden'} px-2`}>{lbio ? lbio : bio  ? bio : 'Not available'}</div>}\r\n        </div>\r\n        <div className='mb-2'>\r\n            <div className='flex justify-between'>\r\n                <label htmlFor=\"Location\" className='px-2 font-bold'> Location</label>\r\n                {(email === userData?.email) &&\r\n                <span className='cursor-pointer mr-4'>\r\n                    {locationHidden ? \r\n                    <span onClick={() => setLocationHidden(false)}><BsToggleOff size={30} /></span> \r\n                    : \r\n                    <span onClick={() => setLocationHidden(true)}><BsToggleOn size={30} /></span>}\r\n                </span>}\r\n            </div>\r\n            {editForm && <input\r\n            type=\"text\"\r\n            name=\"location\"\r\n            value={llocation ? llocation : location}\r\n            style={{width: '16em'}}\r\n            onChange={handleProfileInfo}\r\n            placeholder=\"Share your location\"\r\n            className='p-1 my-1 rounded'\r\n            />}\r\n            {!editForm && <div className={`${locationHidden && 'hidden'} px-2`}>{llocation ? llocation : location ? location : 'Not available'}</div>}\r\n        </div>\r\n        <div className='mb-2'>\r\n            <div className='flex justify-between'>\r\n                <label htmlFor=\"Date of Birth\" className='px-2 font-bold'> Date of Birth</label>\r\n                {(email === userData?.email) &&\r\n                <span className='cursor-pointer mr-4'>\r\n                    {dobHidden ? \r\n                    <span onClick={() => setDobHidden(false)}><BsToggleOff size={30} /></span> \r\n                    : \r\n                    <span onClick={() => setDobHidden(true)}><BsToggleOn size={30} /></span>}\r\n                </span>}\r\n            </div>\r\n            {editForm && <input\r\n            type=\"date\"\r\n            name=\"date-of-birth\"\r\n            value={ldob ? ldob : dob}\r\n            style={{width: '16em'}}\r\n            onChange={handleProfileInfo}\r\n            placeholder=\"Date of Birth\"\r\n            className='p-1 my-1 rounded'\r\n            />}\r\n            {!editForm && <div className={`${dobHidden && 'hidden'} px-2`}>{ldob ? ldob : dob ? dob : 'Not available'}</div>}\r\n        </div>\r\n        <div className='mb-2'>\r\n            <div className='flex justify-between'>\r\n                <label htmlFor=\"Phone Number\" className='px-2 font-bold'> Phone Number</label>\r\n                {(email === userData?.email) &&\r\n                <span className='cursor-pointer mr-4'>\r\n                    {mobileHidden ? \r\n                    <span onClick={() => setMobileHidden(false)}><BsToggleOff size={30} /></span> \r\n                    : \r\n                    <span onClick={() => setMobileHidden(true)}><BsToggleOn size={30} /></span>}\r\n                </span>}\r\n            </div>\r\n            {editForm && <input\r\n            name=\"mobile\"\r\n            value={lmobile ? lmobile : mobile}\r\n            type=\"tel\"\r\n            pattern=\"/^[0]\\d{10, 12}$/\"\r\n            style={{width: '16em'}}\r\n            onChange={handleProfileInfo}\r\n            placeholder=\"Drop your mobile number \"\r\n            className='p-1 my-1 rounded'\r\n            />}\r\n            {!editForm && <div className={`${mobileHidden && 'hidden'} px-2`}>{lmobile ? lmobile : mobile ? mobile : 'Not available'}</div>}\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nfunction AttachProfileImage({imgUrl, error, email, userData, apiCallHook}) {\r\n    \r\n    const [limgUrl, setlImgUrl] = useState(\"\");\r\n\r\n    const handleImage = async(e) => {\r\n        const serviceImage = e.target.files[0];\r\n        const data = new FormData();\r\n        const url = \"https://api.cloudinary.com/v1_1/thevetdoctor/image/upload\";\r\n        data.append(\"file\", serviceImage);\r\n        data.append(\"upload_preset\", \"zunt8yrw\");\r\n        const res = await fetch(url, {\r\n          method: \"POST\",\r\n          body: data\r\n        });\r\n        const imgLink = await res.json();\r\n        setlImgUrl(imgLink.secure_url);\r\n        apiCallHook('PATCH', `${baseUrl}/auth/imageurl/update`, {imageUrl: imgLink.secure_url});\r\n      }\r\n\r\n    return (\r\n        <div className=\"flex p-1 rounded ml-1\">\r\n            <label className={`${(email === userData?.email) && 'cursor-pointer'} -ml-2 -mr-5  flex`}>\r\n            {(limgUrl || imgUrl) ?\r\n                <>\r\n                {!error ? \r\n                    <img src={limgUrl ? limgUrl : imgUrl} alt='avatar' style={{width: '6em', height: '6em', borderRadius: '10%'}} className='rounded -mr-2'\r\n                    />:\r\n                    <span className='flex bg-gray-300 p-3 rounded'>\r\n                        <BsPersonFill size={80} />\r\n                    </span>}\r\n                </>\r\n            :\r\n            <>\r\n                <span className='flex bg-gray-300 p-3 rounded'>\r\n                    <BsPersonFill size={80} />\r\n                </span>\r\n            </>\r\n            //   {uploading === \"loading\" &&\r\n            //   <Loader \r\n            //       type='TailSpin'\r\n            //       color='#000'\r\n            //       height={20} \r\n            //       width={20} \r\n            //   />}\r\n            }\r\n            {(email === userData?.email) &&\r\n\r\n            <input \r\n                type=\"file\"\r\n                placeholder=\"\"\r\n                accept=\"image/*;capture\"\r\n                className=\"hidden\"\r\n                onChange={e => handleImage(e)}\r\n            />}\r\n        </label>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\n// import { FaSearch } from \"react-icons/fa\";\r\n\r\nexport default function TopSearch({searchQuery, setSearchQuery, handleChange, error}) {\r\n\r\n    return (\r\n        <div className='flex mt-9 rounded'>\r\n            <div className='flex-grow'>\r\n                <input \r\n                    type='text'\r\n                    name='top-search'\r\n                    value={searchQuery}\r\n                    placeholder='Search friends'\r\n                    required\r\n                    onChange={handleChange}\r\n                    className='p-2 text-dark-3 text-md rounded font-semibold text-center bg-white-200 w-full outline-none mt-1'\r\n                />\r\n            </div>\r\n            {searchQuery && <div className='flex text-white font-bold bg-blue-900 hover:bg-blue-500 cursor-pointer px-3 rounded items-center' onClick={() => setSearchQuery('')}>\r\n                {/* <FaSearch\r\n                    className='w-6 h-6 text-white' \r\n                /> */}\r\n                Clear\r\n            </div>}\r\n        </div>\r\n    );\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\n/* eslint-disable no-unused-vars */\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { IoCloseCircle } from 'react-icons/io5';\r\nimport { BsPersonFill } from 'react-icons/bs';\r\nimport { IoIosArrowBack, IoIosPeople } from 'react-icons/io';\r\nimport Moment from 'react-moment';\r\nimport axios from 'axios';\r\nimport { baseUrl } from '../helper';\r\nimport { LoadSpan } from './Twits';\r\nimport TopSearch from './TopSearch';\r\nimport store from '../redux/store';\r\nimport { useSelector } from 'react-redux';\r\nimport { AiFillHome } from 'react-icons/ai';\r\nimport Loader from 'react-loader-spinner';\r\nimport { RiChatNewLine } from 'react-icons/ri';\r\nimport { MdEmail } from 'react-icons/md';\r\n\r\nexport default function People() {\r\n    const [error, setError] = useState('');\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [ userData, setUserData ] = useState({});\r\n    // const [ searchData, setSearchData ] = useState([]);\r\n    // const [ peopleData, setPeopleData ] = useState([]);\r\n    const [ isFollower, setIsFollower ] = useState(false);\r\n    const [ isFollowing, setIsFollowing ] = useState(false);\r\n    const [ followerCount, setFollowerCount ] = useState(0);\r\n    const [ followingCount, setFollowingCount ] = useState(0);\r\n    const [followLoading, setFollowLoading] = useState(false);\r\n    const [sync, setSync] = useState(false);\r\n    let { user } = useParams();\r\n    const history = useHistory();\r\n\r\n    const {getState, dispatch} = store;\r\n    const state = getState();\r\n    const { twits, users, peopleData, searchData, networkStatus, formActive } = useSelector(state => state);\r\n\r\n    const email = localStorage.getItem('email') ? localStorage.getItem('email') : '';\r\n    const username = localStorage.getItem('username') ? localStorage.getItem('username') : '';    \r\n    const img = localStorage.getItem('img') ? localStorage.getItem('img') : '';    \r\n    const token = localStorage.getItem('token');\r\n\r\n    const handleChange = (e) => {\r\n        const target = e.target;\r\n        const value = target.value;\r\n        setSearchQuery(value);\r\n      \r\n    }\r\n\r\n    const showForm = () => {\r\n        dispatch({\r\n            type: 'SET_FORM_ACTIVE',\r\n            data: !formActive\r\n        });\r\n    }\r\n\r\n    const handleSearch = () => {\r\n        const searchResults = peopleData.filter(person => {\r\n            return person.username.toLowerCase().indexOf(searchQuery.toLowerCase()) >= 0;\r\n        });\r\n        dispatch({\r\n            type: 'SET_SEARCH_DATA',\r\n            data: searchResults\r\n        });\r\n        localStorage.setItem('searchData', JSON.stringify(searchResults));\r\n    }\r\n\r\n    const apiCallHook = async(method, url, data) => {\r\n        const res = await axios({\r\n            method,\r\n            url,\r\n            data,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n            })\r\n            .catch(error => {\r\n                if(error.isAxiosError) {\r\n                    setError(error.response?.data?.error);\r\n                }\r\n            });\r\n            if(res && res.data.success) {\r\n                    if(method === 'GET') {\r\n                    setUserData(res.data.data.user);\r\n                    dispatch({\r\n                        type: 'SET_PEOPLE_DATA',\r\n                        data: res.data.data.users\r\n                    });\r\n                    localStorage.setItem('peopleData', JSON.stringify(res.data.data.users));\r\n                    dispatch({\r\n                        type: 'SET_SEARCH_DATA',\r\n                        data: res.data.data.users\r\n                    });\r\n                    localStorage.setItem('searchData', JSON.stringify(res.data.data.users));\r\n                    localStorage.setItem('users', JSON.stringify(res.data.data.users));\r\n                    setError('');\r\n                } else{\r\n                    setSync(!sync); \r\n                }\r\n            } else {\r\n                setError('Please check your network');\r\n                dispatch({\r\n                    type: 'SET_PEOPLE_DATA',\r\n                    data: JSON.parse(localStorage.getItem('peopleData'))\r\n                });            \r\n                dispatch({\r\n                    type: 'SET_SEARCH_DATA',\r\n                    data: JSON.parse(localStorage.getItem('peopleData'))\r\n                });            \r\n            }\r\n    }\r\n\r\n    const handleFollow = () => {\r\n        setFollowLoading(true);\r\n        setTimeout(() => {\r\n            setFollowLoading(false);\r\n        }, 1000);\r\n        if(isFollower) {\r\n            apiCallHook('PATCH', `${baseUrl}/followers/unfollow`, {followerId: userData?.id});\r\n        } else {\r\n            apiCallHook('POST', `${baseUrl}/followers/follow`, {followerId: userData?.id});\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        apiCallHook('GET', `${baseUrl}/auth/users`);\r\n        dispatch({\r\n            type: 'SET_SEARCH_DATA',\r\n            data: JSON.parse(localStorage.getItem('peopleData'))\r\n        });\r\n\r\n        return () => {\r\n        }\r\n    }, [sync]);\r\n  \r\n    useEffect(() => {\r\n        handleSearch();\r\n        \r\n        return () => {\r\n        }\r\n    }, [searchQuery]);\r\n    return (\r\n        <div id={`${user}`} style={{fontSize: '1.1em'}} className='shadow-lg border border-gray-200 h-full rounded p-2 mb-4 m-auto md:w-1/2'>\r\n        <div style={{margin: 'auto', top: '0em'}} className='bg-white flex justify-between p-2 mb-2 border-3 border shadow-md -mt-2 -mx-2 fixed right-0 left-0 md:w-1/2'>\r\n            <span className='cursor-pointer text-left' onClick={() => history.goBack()}><IoIosArrowBack size={30} /></span>\r\n            {/* <span className='text-left'><IoIosPeople size={25} /></span> */}\r\n            <span style={{fontFamily: 'Roboto Slab'}} className='text-xl font-bold self-center'>People</span>\r\n            <span className='text-left bg-black-400 cursor-pointer hover:invisible' onClick={() => history.push(\"/twits\")}><AiFillHome size={28} /></span>\r\n        </div>\r\n\r\n        <div style={{bottom: '0em', margin: 'auto'}} className='p-2 rounded flex justify-around border-3 border shadow-md fixed right-0 left-0 bg-white md:w-1/2'>\r\n            <span className='cursor-pointer pt-1' onClick={() => history.push(\"/twits\")}>\r\n                <AiFillHome size={25} color='gray' />\r\n            </span>\r\n            <span className='cursor-pointer pt-1' onClick={e => history.push(`/${username}`)}>\r\n                {(img !== 'null' || error) ? \r\n                    <BsPersonFill size={25} color='gray' />:\r\n                    <img src={img} alt='Profile' style={{width: '30px', height: '30px', borderRadius: '50%'}} />\r\n                }\r\n            </span>\r\n            <span className='cursor-pointer border-t-2 border-black pt-1' onClick= {e => history.push('people')}>\r\n                <IoIosPeople size={25} color='black'/>\r\n            </span>\r\n            {/* <span className='cursor-pointer pt-1'>\r\n                <RiChatNewLine size={25} color='gray' onClick={showForm} />\r\n            </span> */}\r\n\r\n            <span className='cursor-pointer pt-1'  onClick= {e => history.push(`/chats/${username}`)}><MdEmail size={25} color='gray' />\r\n            </span>\r\n        </div>\r\n\r\n\r\n        {error && <div style={{backgroundColor: 'white', fontWeight: 'bold', marginTop: '2.5em'}} className='text-red-500 text-center py-1 -mb-9 m-1 rounded'>Please check your network !</div>}\r\n        {/* <span className='text-sm mt-3 mb-2'>\r\n        </span> */}\r\n        {!peopleData.length > 0 ? \r\n            <div className='flex mt-9 justify-center items-center pt-8'>\r\n                <Loader \r\n                type='Bars'\r\n                color='#00bfff'\r\n                height={80} \r\n                width={80} \r\n            />\r\n            </div>:\r\n            <>\r\n            <TopSearch searchQuery={searchQuery} handleChange={handleChange} setSearchQuery={setSearchQuery} error={error} />\r\n            <div className='flex flex-col text-md'>\r\n                {searchData.sort((a, b) => a.email.localeCompare(b.email)).map((person, idx) => (\r\n                    <span key={idx} \r\n                        className={'bg-gray-200 rounded hover:bg-gray-400 p-2 mb-2 cursor-pointer'} \r\n                        onClick= {() => history.push(`/${person.username}`)}\r\n                    > \r\n                    <span className='mx-2 flex cursor-pointer'  onClick= {e => history.push(`/${person.username}`)}>\r\n                    {person.imageUrl ? (\r\n                    <span className='mr-2'>\r\n                        {error ? <BsPersonFill size={'1.5em'} color='black' />:\r\n                        <img src={person.imageUrl} alt='Profile' style={{width: '1.5em', height: '1.5em', borderRadius: '50%'}} />}\r\n                    </span>)\r\n                    : <span className='mr-2 text-black'><BsPersonFill size={'1.5em'}/></span>}\r\n                    {email === person.email ? 'Me' : person.username}\r\n                </span>\r\n                    </span>\r\n                ))}\r\n            </div>\r\n        </>}\r\n        <div className='flex'>\r\n            <span className='m-auto'><IoIosPeople size={300} /></span>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\n/* eslint-disable no-unused-vars */\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { IoCloseCircle } from 'react-icons/io5';\r\nimport { BsPersonFill } from 'react-icons/bs';\r\nimport { IoIosArrowBack, IoIosPeople } from 'react-icons/io';\r\nimport axios from 'axios';\r\nimport { baseUrl } from '../helper';\r\nimport { LoadSpan } from './Twits';\r\nimport TopSearch from './TopSearch';\r\nimport { AiFillHome } from 'react-icons/ai';\r\n\r\nexport default function Follower() {\r\n    const [error, setError] = useState('');\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [ userData, setUserData ] = useState({});\r\n    const [ searchData, setSearchData ] = useState([]);\r\n    const [ peopleData, setPeopleData ] = useState([]);\r\n    const [followLoading, setFollowLoading] = useState(false);\r\n    const [sync, setSync] = useState(false);\r\n    let { user } = useParams();\r\n    const history = useHistory();\r\n\r\n    const email = localStorage.getItem('email') ? localStorage.getItem('email') : '';\r\n    const token = localStorage.getItem('token');\r\n\r\n\r\n    const handleChange = (e) => {\r\n        const target = e.target;\r\n        const value = target.value;\r\n        setSearchQuery(value);  \r\n    }\r\n\r\n    const handleSearch = () => {\r\n        const searchResults = peopleData.filter(person => {\r\n            return person.username.toLowerCase().indexOf(searchQuery.toLowerCase()) >= 0;\r\n        });\r\n        setSearchData(searchResults);\r\n    }\r\n\r\n    const apiCallHook = async(method, url, data) => {\r\n        const res = await axios({\r\n            method,\r\n            url,\r\n            data,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n            })\r\n            .catch(error => {\r\n                if(error.isAxiosError) {\r\n                }\r\n            });\r\n            if(res && res.data.success) {\r\n                    if(method === 'GET') {\r\n                    setUserData(res.data.data.user);\r\n                    setPeopleData(res.data.data.users);\r\n                    setSearchData(res.data.data.users);\r\n                    localStorage.setItem('users', JSON.stringify(res.data.data.users));\r\n                    setError('');\r\n                } else{\r\n                    setSync(!sync); \r\n                }\r\n            } else {\r\n                setError('Please check your network');\r\n            }\r\n    }\r\n\r\n    const handleFollow = () => {\r\n        setFollowLoading(true);\r\n        setTimeout(() => {\r\n            setFollowLoading(false);\r\n        }, 1000);\r\n            apiCallHook('PATCH', `${baseUrl}/followers/unfollow`, {followerId: userData?.id});\r\n    }\r\n  \r\n    useEffect(() => {\r\n        handleSearch();\r\n        \r\n        return () => {\r\n        }\r\n    }, [searchQuery]);\r\n    \r\n    useEffect(() => {\r\n        const userDataInStore = JSON.parse(localStorage.getItem('users')).filter(obj => obj.username === user)[0];\r\n        const followers = userDataInStore.followers.filter(user => user.follower.isFollowed);\r\n        setUserData(userDataInStore);\r\n        setSearchData(followers);\r\n        setPeopleData(followers);\r\n    }, []);\r\n    \r\n    return (\r\n        <div id={`${user}`} style={{fontSize: '1.1em'}} className='shadow-lg border border-gray-200 h-full rounded p-2 mb-4 md:w-1/2 m-auto'>\r\n        <p className='flex justify-between mb-6 p-2 border-3 border shadow-md -mt-2 -mx-2 '>\r\n            <span className='cursor-pointer' onClick={() => history.goBack()}><IoIosArrowBack size={30} /></span>\r\n            {/* <span className='cursor-pointer' onClick= {e => history.push(`/${userData?.username}`)}> */}\r\n            {/* {userData?.imageUrl ?\r\n            <span>\r\n                <img src={userData?.imageUrl} alt='Profile' style={{width: '2em', height: '2em', borderRadius: '50%'}} />\r\n            </span>\r\n            : \r\n            <span className=''><BsPersonFill size={25} /></span>} */}\r\n            {/* </span> */}\r\n            <span className='text-xl font-bold -ml-8'>Followers</span>\r\n            <span className='text-left bg-black-400 cursor-pointer hover:invisible' onClick={() => history.push(\"/twits\")}><AiFillHome size={28} /></span>\r\n        </p>\r\n        {error && <div style={{backgroundColor: 'white', fontWeight: 'bold'}} className='text-red-500 text-center py-2 m-1 rounded'>Please check your network !</div>}\r\n        <span className='text-sm mt-3 mb-5'>\r\n        </span>\r\n        {error && <div style={{backgroundColor: 'white', fontWeight: 'bold'}} className='text-red-500 text-center py-2 mb-5 rounded'>{error}</div>}\r\n        <div className='mb-1'>\r\n        <>\r\n            {userData?.imageUrl ?\r\n            <span className='flex'>\r\n                    {error ? <BsPersonFill size={'1.7em'} color='black' />:\r\n                <img src={userData?.imageUrl} alt='Profile' style={{width: '2em', height: '2em', borderRadius: '50%'}} />}\r\n                <span className='text-xl font-semibold ml-2 mb-2'>{userData?.username}</span>\r\n            </span>\r\n            : \r\n            <span className='flex'>\r\n                <BsPersonFill size={30} />\r\n                <span className='text-xl font-semibold ml-2 mb-2'>{userData?.username}</span>\r\n            </span>}\r\n            </>\r\n        </div>\r\n        <TopSearch searchQuery={searchQuery} handleChange={handleChange} setSearchQuery={setSearchQuery}/>\r\n        <div className='flex flex-col text-md'>\r\n            {searchData.sort((a, b) => a.email.localeCompare(b.email)).map((person, idx) => (\r\n                <span key={idx} \r\n                    className={'bg-gray-200 rounded hover:bg-gray-400 p-2 mb-2 cursor-pointer'} \r\n                    onClick= {() => history.push(`/${person.username}`)}\r\n                > \r\n                <span className='mx-2 flex cursor-pointer'  onClick= {e => history.push(`/${person.username}`)}>{error}\r\n                {person.imageUrl ? (\r\n                <span className='mr-2'>\r\n                    {error ? <BsPersonFill size={'1.5em'} color='black' />:\r\n                    <img src={person.imageUrl} alt='Profile' style={{width: '1.5em', height: '1.5em', borderRadius: '50%'}} />}\r\n                </span>)\r\n                : <span className='mr-2 text-black'><BsPersonFill size={'1.5em'}/></span>}\r\n                {email === person.email ? 'Me' : person.username}{error}\r\n            </span>\r\n                </span>\r\n            ))}\r\n        </div>\r\n        <div className='flex'>\r\n            <span className='m-auto'><IoIosPeople size={300} /></span>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\n/* eslint-disable no-unused-vars */\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { IoCloseCircle } from 'react-icons/io5';\r\nimport { BsPersonFill } from 'react-icons/bs';\r\nimport { IoIosArrowBack, IoIosPeople } from 'react-icons/io';\r\nimport axios from 'axios';\r\nimport { baseUrl } from '../helper';\r\nimport { LoadSpan } from './Twits';\r\nimport TopSearch from './TopSearch';\r\nimport { AiFillHome } from 'react-icons/ai';\r\n\r\nexport default function Following() {\r\n    const [error, setError] = useState('');\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [ userData, setUserData ] = useState({});\r\n    const [ searchData, setSearchData ] = useState([]);\r\n    const [ peopleData, setPeopleData ] = useState([]);\r\n    const [followLoading, setFollowLoading] = useState(false);\r\n    const [sync, setSync] = useState(false);\r\n    let { user } = useParams();\r\n    const history = useHistory();\r\n\r\n    const email = localStorage.getItem('email') ? localStorage.getItem('email') : '';\r\n    const token = localStorage.getItem('token');\r\n\r\n\r\n    const handleChange = (e) => {\r\n        const target = e.target;\r\n        const value = target.value;\r\n        setSearchQuery(value);  \r\n    }\r\n\r\n    const handleSearch = () => {\r\n        const searchResults = peopleData.filter(person => {\r\n            return person.username.toLowerCase().indexOf(searchQuery.toLowerCase()) >= 0;\r\n        });\r\n        setSearchData(searchResults);\r\n    }\r\n\r\n    const apiCallHook = async(method, url, data) => {\r\n        const res = await axios({\r\n            method,\r\n            url,\r\n            data,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n            })\r\n            .catch(error => {\r\n                if(error.isAxiosError) {\r\n                }\r\n            });\r\n            if(res && res.data.success) {\r\n                    if(method === 'GET') {\r\n                    setUserData(res.data.data.user);\r\n                    setPeopleData(res.data.data.users);\r\n                    setSearchData(res.data.data.users);\r\n                    localStorage.setItem('users', JSON.stringify(res.data.data.users));\r\n                    setError('');\r\n                } else{\r\n                    setSync(!sync); \r\n                }\r\n            } else {\r\n                setError('Please check your network');\r\n            }\r\n    }\r\n\r\n    const handleFollow = () => {\r\n        setFollowLoading(true);\r\n        setTimeout(() => {\r\n            setFollowLoading(false);\r\n        }, 1000);\r\n            apiCallHook('PATCH', `${baseUrl}/followers/unfollow`, {followerId: userData?.id});\r\n    }\r\n  \r\n    useEffect(() => {\r\n        handleSearch();\r\n        \r\n        return () => {\r\n        }\r\n    }, [searchQuery]);\r\n    \r\n    useEffect(() => {\r\n        const userDataInStore = JSON.parse(localStorage.getItem('users')).filter(obj => obj.username === user)[0];\r\n        const following = userDataInStore.following.filter(user => user.follower.isFollowed);\r\n        setUserData(userDataInStore);\r\n        setSearchData(following);\r\n        setPeopleData(following);\r\n    }, []);\r\n    \r\n    return (\r\n        <div id={`${user}`} style={{fontSize: '1.1em'}} className='shadow-lg border border-gray-200 h-full rounded p-2 mb-4 md:w-1/2 m-auto'>\r\n        <p className='flex justify-between mb-6 border-3 border shadow-md p-2 -mt-2 -mx-2 '>\r\n            <span className='cursor-pointer' onClick={() => history.goBack()}><IoIosArrowBack size={30} /></span>\r\n            {/* <span className='cursor-pointer' onClick= {e => history.push(`/${userData?.username}`)}> */}\r\n            {/* {userData?.imageUrl ?\r\n            <span>\r\n                <img src={userData?.imageUrl} alt='Profile' style={{width: '2em', height: '2em', borderRadius: '50%'}} />\r\n            </span>\r\n            : \r\n            <span className=''><BsPersonFill size={25} /></span>} */}\r\n            {/* </span> */}\r\n            <span className='text-xl font-bold'>Following</span>\r\n            <span className='text-left bg-black-400 cursor-pointer hover:invisible' onClick={() => history.push(\"/twits\")}><AiFillHome size={28} /></span>\r\n        </p>\r\n        {error && <div style={{backgroundColor: 'white', fontWeight: 'bold'}} className='text-red-500 text-center py-2 m-1 rounded'>Please check your network !</div>}\r\n        <div className='mb-1'>\r\n        <>\r\n            {userData?.imageUrl ?\r\n            <span className='flex'>\r\n                    {error ? <BsPersonFill size={'1.7em'} color='black' />:\r\n                <img src={userData?.imageUrl} alt='Profile' style={{width: '2em', height: '2em', borderRadius: '50%'}} />}\r\n                <span className='text-xl font-semibold ml-2 mb-2'>{userData?.username}</span>\r\n            </span>\r\n            : \r\n            <span className='flex'>\r\n                <BsPersonFill size={30} />\r\n                <span className='text-xl font-semibold ml-2 mb-2'>{userData?.username}</span>\r\n            </span>}\r\n            </>\r\n        </div>\r\n        <TopSearch searchQuery={searchQuery} handleChange={handleChange} setSearchQuery={setSearchQuery}/>\r\n        <div className='flex flex-col text-md'>\r\n            {searchData.sort((a, b) => a.email.localeCompare(b.email)).map((person, idx) => (\r\n                <span key={idx} \r\n                    className={'bg-gray-200 rounded hover:bg-gray-400 p-2 mb-2 cursor-pointer'} \r\n                    onClick= {() => history.push(`/${person.username}`)}\r\n                > \r\n                <span className='mx-2 flex cursor-pointer' onClick= {e => history.push(`/${person.username}`)}>\r\n                {person.imageUrl ? (\r\n                <span className='mr-2'>\r\n                    {!error ? <BsPersonFill size={'1.5em'} color='black' />:\r\n                    <img src={person.imageUrl} alt='Profile' style={{width: '1.5em', height: '1.5em', borderRadius: '50%'}} />}\r\n                </span>)\r\n                : <span className='mr-2 text-black'><BsPersonFill size={'1.5em'}/></span>}\r\n                {email === person.email ? 'Me' : person.username}\r\n            </span>\r\n                </span>\r\n            ))}\r\n        </div>\r\n        <div className='flex'>\r\n            <span className='m-auto'><IoIosPeople size={300} /></span>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\n/* eslint-disable no-unused-vars */\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { BsPersonFill } from 'react-icons/bs';\r\nimport { IoIosArrowBack, IoIosPeople } from 'react-icons/io';\r\nimport axios from 'axios';\r\nimport { baseUrl, frontendUrl } from '../helper';\r\nimport { LoadSpan, Twit } from './Twits';\r\nimport { AiFillHome } from 'react-icons/ai';\r\nimport store from '../redux/store';\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport default function UserTwits() {\r\n    const [error, setError] = useState('');\r\n    const [ userData, setUserData ] = useState({});\r\n    const [ twitData, setTwitData ] = useState([]);\r\n    const [sync, setSync] = useState(false);\r\n    let { user } = useParams();\r\n    const history = useHistory();\r\n\r\n    const {getState, dispatch} = store;\r\n    const state = getState();\r\n    const { twits } = useSelector(state => state);\r\n    \r\n    const email = localStorage.getItem('email') ? localStorage.getItem('email') : '';\r\n    const token = localStorage.getItem('token');\r\n    const apiUrl = `${baseUrl}/twits`;\r\n\r\n    const apiCallHook = async(method, url, data) => {\r\n        const res = await axios({\r\n            method,\r\n            url,\r\n            data,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n            })\r\n            .catch(error => {\r\n                if(error.isAxiosError) {\r\n                }\r\n            });\r\n            if(res && res.data.success) {\r\n                    if(method === 'GET') {\r\n                    setUserData(res.data.data.user);\r\n                    setTwitData(res.data.data.users);\r\n                    localStorage.setItem('users', JSON.stringify(res.data.data.users));\r\n                    setError('');\r\n                } else{\r\n                    setSync(!sync); \r\n                }\r\n            } else {\r\n                setError('Please check your network');\r\n            }\r\n    }\r\n\r\n    const getTwits = async() => {\r\n        if(!token) {\r\n            return;\r\n        }\r\n        const res = await axios({\r\n            method: 'GET',\r\n            url: `${apiUrl}`,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n            })\r\n            .catch(error => {\r\n                if(error.isAxiosError) {\r\n                    setError(error.response?.data?.error);\r\n                }\r\n            });\r\n            if(res && res.data.success) {\r\n                dispatch({\r\n                    type: 'SET_TWIT_DATA',\r\n                    data: res.data.data\r\n                });\r\n                localStorage.setItem('twits', JSON.stringify(res.data.data.map(x => {\r\n                    x.formActive = false;\r\n                    return x;\r\n                })));\r\n                const userTwitData = res.data.data.filter(obj => obj.twits.username === user);\r\n                setUserData(userTwitData[0]?.twits);\r\n                setTwitData(userTwitData);\r\n            } else {\r\n                setError('Please check your network');\r\n                dispatch({\r\n                    type: 'SET_TWIT_DATA',\r\n                    data: JSON.parse(localStorage.getItem('twits'))\r\n                });\r\n            }\r\n    }\r\n    \r\n    useEffect(() => {\r\n        const userTwitData = twits.filter(obj => obj.twits.username === user);\r\n        setUserData(userTwitData[0]?.twits);\r\n        setTwitData(userTwitData);\r\n    }, []);\r\n    \r\n    useEffect(async() => {\r\n        getTwits();\r\n    \r\n        return () => {\r\n        }\r\n    }, [sync]);\r\n\r\n    return (\r\n        <div id={`${user}`} style={{fontSize: '1.1em'}} className='shadow-lg border border-gray-200 h-full rounded p-2 mb-4 md:w-1/2 m-auto'>\r\n        <p className='flex justify-between mb-6 border-3 border shadow-md p-2 -mt-2 -mx-2 '>\r\n        <span className='cursor-pointer text-left' onClick={() => history.goBack()}><IoIosArrowBack size={30} /></span>\r\n            <span className='text-xl font-bold self-center'>Posts</span>\r\n            <span className='text-left bg-black-400 cursor-pointer hover:invisible' onClick={() => history.push(\"/twits\")}><AiFillHome size={28} /></span>\r\n        </p>\r\n        {error && <div style={{backgroundColor: 'white', fontWeight: 'bold'}} className='text-red-500 text-center py-2 m-1 rounded'>Please check your network !</div>}\r\n        <div className='mb-1'>\r\n        <>\r\n            {userData?.imageUrl ?\r\n            <span className='flex'>\r\n                    {error ? <BsPersonFill size={'1.7em'} color='black' />:\r\n                <img src={userData?.imageUrl} alt='Profile' style={{width: '2em', height: '2em', borderRadius: '50%'}} />}\r\n                <span className='text-xl font-semibold ml-2 mb-2'>{userData?.username}</span>\r\n            </span>\r\n            : \r\n            <span className='flex'>\r\n                <BsPersonFill size={30} />\r\n                <span className='text-xl font-semibold ml-2 mb-2'>{userData?.username}</span>\r\n            </span>}\r\n            </>\r\n        </div>\r\n        <div style={{fontFamily: 'Roboto'}} className='text-md'>\r\n        {\r\n                    twitData.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()).map((twit, idx) => \r\n                        <div  key={idx} style={{backgroundColor: 'white', fontWeight: 'bold'}}>\r\n                            <Twit key={idx} twit={twit} email={email} apiCallHook={apiCallHook} baseUrl={baseUrl} frontendUrl={frontendUrl} sync={sync} setSync={setSync} />\r\n                        </div>\r\n                    )\r\n                }\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n","/* eslint-disable no-unused-vars */\r\n/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Loader from 'react-loader-spinner';\r\nimport { baseUrl } from '../helper';\r\nimport chat from './chat.jpg';\r\nimport { CgCopyright } from 'react-icons/cg';\r\n\r\nexport default function Reset(props) {\r\n    const [newpass1, setNewPass1] = useState('');\r\n    const [newpass2, setNewPass2] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const history = useHistory();\r\n\r\nconst apiUrl = `${baseUrl}/auth/reset`; \r\n\r\nconst handleChange = (e) => {\r\n    if(e.target.name === 'newpass1') {\r\n        console.log(e.target.value);\r\n        setNewPass1(e.target.value);\r\n    } else {\r\n        console.log(e.target.value);\r\n        setNewPass2(e.target.value);\r\n    }\r\n}\r\n\r\nuseEffect(() => {\r\n\r\n    return () => {\r\n    }\r\n}, []);\r\n    return (\r\n        <div style={{fontFamily: 'Roboto', fontWeight: '600', backgroundImage: 'url(\"./bg.png\")'}} className='font-Roboto text-center align-items-center bg-cover bg-center'>\r\n             <p className='text-center mb-2'>\r\n                <span style={{fontFamily: 'Architects Daughter', fontSize: '1.8em'}} className='text-purple-900 font-bold italic'>Buzz<br/>\r\n                </span> \r\n                <span className='text-md'> Feel free, express yourself & network </span>\r\n            </p>\r\n            <h3 className='font-bold text-md mt-8 mb-4'>\r\n                Set up a new password\r\n            </h3>\r\n            <input \r\n                type='text'\r\n                name='newpass1'\r\n                value={newpass1} \r\n                placeholder='Enter a new password'\r\n                onChange={handleChange}\r\n                className='px-3 rounded mb-5 text-xs'\r\n                /><br/>\r\n            <input \r\n                type='text'\r\n                name='newpass2'\r\n                value={newpass2} \r\n                placeholder='Confirm new password' \r\n                onChange={handleChange}\r\n                className='px-3 rounded mb-5 text-xs'\r\n            /><br/>\r\n            <div className='flex flex-col mb-3'>\r\n                {error && <span className='mb-2 text-red-600'>{error}</span>}\r\n                <div className='flex justify-center'>\r\n                    {!loading ?\r\n                    <span \r\n                        // onClick={() => authenticate(false, email, password, apiUrl, error, setError, setLoading, history)}\r\n                        className='cursor-pointer mb-3 bg-green-500 hover:bg-green-400 py-2 px-3 font-bold shadow-md rounded text-white text-xs'\r\n                    >   \r\n                    Update Password\r\n                    </span>\r\n                    :\r\n                    <span className=''>\r\n                        <Loader \r\n                        type='ThreeDots'\r\n                        color='#00bfff'\r\n                        height={40} \r\n                        width={40} \r\n                        />\r\n                     </span>}\r\n                </div>\r\n            </div>\r\n          \r\n          {/* <img \r\n            src={chat}\r\n            alt='Chat'\r\n            className=''\r\n            style={{borderRadius: '5', width: '40'}}\r\n          /> */}\r\n            <p className=\"text-white-400 bold flex text-center\"><CgCopyright /> Twitee</p>         \r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { BsPersonFill } from 'react-icons/bs';\r\n\r\nexport default function Chat({messages}) {\r\n    // const email = localStorage.getItem('email') ? localStorage.getItem('email') : '';\r\n\r\n    // const messageLine = messages.map(message => email === message.chatSender.email ? message.chatReceiver : message.chatSender);\r\n    // console.log(messages, messageLine);\r\n\r\n    return (\r\n        <div>\r\n            {messages.map((msg, idx) => (\r\n                <Message key={idx} texts={msg}/>\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Message = ({texts}) => {\r\n    const history = useHistory();\r\n\r\n    const {messages } = texts;\r\n    return (\r\n        <div>\r\n            Message ({messages.length})\r\n            {messages.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()).map((message, idx) => (\r\n                <div key={idx} className='border border-gray-200 shadow-lg mb-2 p-1 rounded'>\r\n                    <div className='flex justify-between'>\r\n                        <span className='mx-1 flex cursor-pointer'  onClick= {e => history.push(`/${message.sender.username}`)}>\r\n                        {message.sender.imageUrl ? (\r\n                        <span className='mr-1'>\r\n                            <img src={message.sender.imageUrl} alt='Profile' style={{width: '2em', height: '2em', borderRadius: '50%'}} />\r\n                        </span>)\r\n                        : <BsPersonFill size={20}/>}\r\n                        <span className='text-md'>{message.sender.username}</span>\r\n                        </span>\r\n                        <span>{new Date(message.createdAt).toLocaleTimeString()}</span>\r\n                    </div>                \r\n                    <span className='ml-9'>{message.text}</span>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    )\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\r\n/* eslint-disable no-unused-vars */\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { BsPersonFill } from 'react-icons/bs';\r\nimport { IoIosArrowBack, IoIosPeople } from 'react-icons/io';\r\nimport axios from 'axios';\r\nimport { baseUrl, frontendUrl } from '../helper';\r\nimport { LoadSpan, Twit } from './Twits';\r\nimport { AiFillHome } from 'react-icons/ai';\r\nimport store from '../redux/store';\r\nimport { useSelector } from 'react-redux';\r\nimport Chat from './Chat';\r\nimport { MdEmail } from 'react-icons/md';\r\nimport { RiChatNewLine } from 'react-icons/ri';\r\n\r\nexport default function Chats() {\r\n    const [error, setError] = useState('');\r\n    // const [ userMessages, setUserMessages ] = useState({});\r\n    const [sync, setSync] = useState(false);\r\n    let { user } = useParams();\r\n    const history = useHistory();\r\n\r\n    const {getState, dispatch} = store;\r\n    const state = getState();\r\n    const { messages, formActive } = useSelector(state => state);\r\n    console.log(messages)\r\n\r\n    const email = localStorage.getItem('email') ? localStorage.getItem('email') : '';\r\n    const username = localStorage.getItem('username') ? localStorage.getItem('username') : '';    \r\n    const img = localStorage.getItem('img') ? localStorage.getItem('img') : '';      \r\n    const token = localStorage.getItem('token');\r\n    const apiUrl = `${baseUrl}/messages`;\r\n\r\n    const apiCallHook = async(method, url, data) => {\r\n        const res = await axios({\r\n            method,\r\n            url,\r\n            data,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n            })\r\n            .catch(error => {\r\n                if(error.isAxiosError) {\r\n                }\r\n            });\r\n            if(res && res.data.success) {\r\n                    if(method === 'GET') {\r\n                        console.log(res.data)\r\n                    // setUserData(res.data.data.user);\r\n                    // setTwitData(res.data.data.users);\r\n                    localStorage.setItem('users', JSON.stringify(res.data.data.users));\r\n                    setError('');\r\n                } else{\r\n                    setSync(!sync); \r\n                }\r\n            } else {\r\n                setError('Please check your network');\r\n            }\r\n    }\r\n\r\n    const showForm = () => {\r\n        dispatch({\r\n            type: 'SET_FORM_ACTIVE',\r\n            data: !formActive\r\n        });\r\n    }\r\n\r\n    const getMessages = async() => {\r\n        if(!token) {\r\n            return;\r\n        }\r\n        const res = await axios({\r\n            method: 'GET',\r\n            url: `${apiUrl}/chats`,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n            })\r\n            .catch(error => {\r\n                if(error.isAxiosError) {\r\n                    setError(error.response?.data?.error);\r\n                }\r\n            });\r\n            if(res && res.data.success) {\r\n                dispatch({\r\n                    type: 'SET_MESSAGES_DATA',\r\n                    data: res.data.data\r\n                });\r\n                localStorage.setItem('messages', JSON.stringify(res.data.data));\r\n                // const userMessages = res.data.data.filter(obj => obj.twits.username === user);\r\n                // setUserData(userTwitData[0]?.twits);\r\n                // setTwitData(userTwitData);\r\n            } else {\r\n                setError('Please check your network');\r\n                dispatch({\r\n                    type: 'SET_MESSAGES_DATA',\r\n                    data: JSON.parse(localStorage.getItem('messages'))\r\n                });\r\n            }\r\n    }\r\n    \r\n    useEffect(() => {\r\n        getMessages();\r\n     \r\n        return () => {\r\n        }\r\n    }, [sync]);\r\n\r\n    const messageLine = messages.map(message => email === message.chatSender.email ? message.chatReceiver : message.chatSender);\r\n    console.log(messages, messageLine);\r\n    \r\n    return (\r\n        <div id={`${user}`} style={{fontSize: '1.1em'}} className='shadow-lg border border-gray-200 h-full rounded p-2 mb-4 md:w-1/2 m-auto'>\r\n        <p className='flex justify-between mb-4 border-3 border shadow-md p-2'>\r\n            <span className='cursor-pointer text-left' onClick={() => history.goBack()}><IoIosArrowBack size={30} /></span>\r\n            <span className='text-xl font-bold self-center'>Messages</span>\r\n            <span className='text-left bg-black-400 cursor-pointer hover:invisible' onClick={() => history.push(\"/twits\")}><AiFillHome size={28} /></span>\r\n        </p>\r\n        \r\n        <div style={{bottom: '0em', margin: 'auto'}} className='p-2 rounded flex justify-around border-3 border shadow-md fixed right-0 left-0 bg-white md:w-1/2'>\r\n            <span className='cursor-pointer pt-1' onClick={() => history.push(\"/twits\")}>\r\n                <AiFillHome size={25} color='gray' />\r\n            </span>\r\n            <span className='cursor-pointer pt-1' onClick={e => history.push(`/${username}`)}>\r\n                {(img !== 'null' || error) ? \r\n                    <BsPersonFill size={25} color='gray' />:\r\n                    <img src={img} alt='Profile' style={{width: '30px', height: '30px', borderRadius: '50%'}} />\r\n                }\r\n            </span>\r\n            <span className='cursor-pointer pt-1' onClick= {e => history.push('/people')}>\r\n                <IoIosPeople size={30} color='gray'/>\r\n            </span>\r\n            {/* <span className='cursor-pointer pt-1'>\r\n                <RiChatNewLine size={25} color='gray' onClick={showForm} />\r\n            </span> */}\r\n\r\n            <span className='cursor-pointer pt-1 border-t-2 border-black'  onClick= {e => history.push(`/chats/${username}`)}><MdEmail size={25} color='black' />\r\n            </span>\r\n        </div>\r\n        {error && <div style={{backgroundColor: 'white', fontWeight: 'bold'}} className='text-red-500 text-center py-1 m-1 rounded'>Please check your network !</div>}\r\n        <div className='mb-1'>\r\n            {messages.length ? \r\n            <Chat messages={messages} />\r\n            :\r\n            <div className='text-center'>You have not started any conversation</div>}\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n","/* eslint-disable no-unused-vars */\r\n/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { BsPersonFill } from 'react-icons/bs';\r\nimport { IoIosArrowBack, IoIosPeople } from 'react-icons/io';\r\nimport Moment from 'react-moment';\r\nimport axios from 'axios';\r\nimport { baseUrl } from '../helper';\r\nimport { LoadSpan } from './Twits';\r\nimport store from '../redux/store';\r\nimport { useSelector } from 'react-redux';\r\nimport { AiFillHome } from 'react-icons/ai';\r\n\r\nexport default function Verified() {\r\n    const [error, setError] = useState('');\r\n    const [userData, setUserData] = useState({});\r\n    let { user } = useParams();\r\n    const history = useHistory();\r\n\r\n    const email = localStorage.getItem('email') ? localStorage.getItem('email') : '';\r\n    const token = localStorage.getItem('token');\r\n    const {getState, dispatch} = store;\r\n    const state = getState();\r\n    \r\n    const verifyUser = async() => {\r\n        const res = await axios({\r\n            method: 'GET',\r\n            url: `${baseUrl}/auth/verify/${user}`,\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n            })\r\n            .catch(error => {\r\n                if(error.isAxiosError) {\r\n                    setError(error.response?.data?.error);\r\n                }\r\n            });\r\n            if(res && res.data.success) {             \r\n            } else {\r\n                setError('Please check your network');\r\n              \r\n            }\r\n    }\r\n\r\n    useEffect(() => {\r\n        verifyUser();\r\n\r\n        return () => {}\r\n    }, []);\r\n\r\n    return (\r\n        <div id={`${user}`} style={{fontSize: '1.1em'}} className='shadow-lg border border-gray-200 h-full rounded p-2 mb-4 m-auto justify-center md:w-1/2'>\r\n        <p className='flex justify-between mb-6 border-3 border shadow-md p-2'>\r\n            <span className='cursor-pointer' onClick={() => history.goBack()}><IoIosArrowBack size={30} /></span>\r\n            {<span className='flex cursor-pointer' onClick= {e => history.push('/people')}><IoIosPeople size={35}/></span>}\r\n            <span className='bg-black-400 cursor-pointer' onClick={() => history.push(\"/twits\")}><AiFillHome size={28} /></span>\r\n        </p>\r\n        <div className='mb-1'>\r\n        <>\r\n            {userData?.imageUrl ?\r\n            <span className='flex'>\r\n                    {error ? <BsPersonFill size={'1.7em'} color='black' />:\r\n                <img src={userData?.imageUrl} alt='Profile' style={{width: '2em', height: '2em', borderRadius: '50%'}} />}\r\n                <span className='text-xl font-semibold ml-2 mb-2'>{user}</span>\r\n            </span>\r\n            : \r\n            <span className='flex'>\r\n                <BsPersonFill size={30} />\r\n                <span className='text-xl font-semibold ml-2 mb-2'>{user}</span>\r\n            </span>}\r\n            </>\r\n        </div>\r\n        Your account is now verified!\r\n\r\n        {error && <div style={{backgroundColor: 'white', fontWeight: 'bold'}} className='text-red-500 text-center py-2 mb-5 rounded'>{error}</div>}\r\n        <span className='text-sm mt-3 mb-1 flex justify-between'>\r\n         \r\n            <span className='flex'>\r\n                <>\r\n                    <span className='flex flex-col'>\r\n                        <span className={'text-xs text-white bg-blue-900 rounded hover:bg-blue-400 p-1 cursor-pointer -mt-2 mr-1'} onClick={() => history.push(`/${user}`)}> \r\n                            Go to your profile\r\n                        </span>\r\n                    </span>\r\n                </>\r\n            </span>\r\n        </span>\r\n        \r\n        <span>\r\n            {userData?.imageUrl ? \r\n            <>{error ? <BsPersonFill size={300} color='black' />:\r\n            <img src={userData?.imageUrl} width='100%' alt='imgurl' className='mt-3 rounded-lg' />}</>\r\n            :\r\n            <div className='flex'>\r\n                <span className='m-auto'><BsPersonFill size={300} /></span>\r\n            </div>}\r\n        </span>\r\n        \r\n        \r\n    </div>\r\n    )\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable no-unused-vars */\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Posts from \"./components/Posts\";\nimport Twits from './components/Twits';\nimport Profile from './components/Profile';\nimport People from './components/People';\nimport Follower from './components/Followers';\nimport Following from './components/Following';\nimport UserTwits from './components/UserTwits';\nimport store from './redux/store';\nimport { useSelector } from 'react-redux';\nimport Reset from './components/Reset';\nimport Chats from './components/Chats';\nimport Verified from './components/Verified';\n// import { useHistory } from 'react-router-dom';\n\nfunction App() {\n    const [loggedIn, setLoggedIn] = useState(JSON.parse(localStorage.getItem('loggedIn')));\n    const [signup, setSignup] = useState(JSON.parse(localStorage.getItem('signup')) || false);\n    \n    const {getState, dispatch} = store;\n    const state = getState();\n    const { searchQuery, networkStatus } = useSelector(state => state);\n    // console.log(state);\n  //   const history = useHistory();\n  //   const token = localStorage.getItem('token');\n  //   if(!token) {\n  //     console.log(window.location.hash)\n  //     history?.push('/');\n  // }\n    useEffect(() => {\n      if(navigator.onLine) {\n        dispatch({\n          type: 'SET_NETWORK_STATUS',\n          data: true\n        });\n      } else {\n        dispatch({\n          type: 'SET_NETWORK_STATUS',\n          data: false\n        });\n      } \n    }, []);\n\n    //   const username = localStorage.getItem('username');\n    //   Notification.requestPermission().then((result) => {\n    //     if (result === 'granted') {\n    //       // randomNotification();\n    //     }\n    //   });\n\n    // function randomNotification() {\n    //   const notifTitle = username ? `Hello, ${username}` : 'Hello !';\n    //   const notifBody = `Have you checked Twitee today?`;\n    //   const notifImg = `https://res.cloudinary.com/thevetdoctor/image/upload/v1599332593/g1rozhabxswegvhp59h3.jpg`;\n    //   const options = {\n    //     body: notifBody,\n    //     icon: notifImg,\n    //   };\n    //   new Notification(notifTitle, options);\n    //   setTimeout(randomNotification, 3 * 60 * 60 * 1000);\n    // }\n// console.log(window.document.body.scrollHeight)\n\n  return (\n    <Router>\n        {/* <div className=\"h-full w-full m-0 max-w-sm mx-auto bg-blue-200 rounded-xl shadow-md flex\"> */}\n        {/* <div className=\"font-Roboto w-full m-0 max-w-xl max-h-xl my-0 mx-auto rounded-xl shadow-md -px-3\"> */}\n              {/* <div className=\"bg-gray-200 rounded-xl p-4\"> */}\n      <Switch>\n              <Route exact path=\"/\" component={Posts} />\n              <Route exact path=\"/twits\" component={Twits} />\n              <Route exact path=\"/people\" component={People} />\n              <Route exact path=\"/reset\" component={Reset} />\n              <Route exact path=\"/verify/:user\" component={Verified} />\n              <Route path=\"/twits/:user\" component={UserTwits} />\n              <Route path=\"/chats/:user\" component={Chats} />\n              <Route path=\"/following/:user\" component={Following} />\n              <Route path=\"/follower/:user\" component={Follower} />\n              <Route path=\"/:user\" component={Profile} />\n      </Switch>\n          {/* </div>ff */}\n        {/* </div>  */}\n    </Router>\n  );\n}\n\nexport default App;\n","/* eslint-disable no-unused-vars */\n/* eslint-disable no-useless-escape */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst publicVapid = 'BNjjQs4mQL339-Dk2i5HF5jbv14xHn-jHrPbTa1LJ-HZZXZnArYQfR7ddcdB0oQ0ADQjgx8q_nN_cTW7jOq9k6Y';\nconst {baseUrl} = require('./helper');\n\nconst urlBase64ToUint8Array = (base64String) => {\n    const padding = '='.repeat((4 - base64String.length % 4) % 4);\n    const base64 = (base64String + padding).replace(/\\-/g, '+').replace(/_/g, '/');\n\n    const rawdata = window.atob(base64);\n    const outputArray = new Uint8Array(rawdata.length);\n\n    for(let i = 0; i < rawdata.length; ++i) {\n        outputArray[i] = rawdata.charCodeAt(i);\n    }\n    return outputArray;\n}\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  console.log('Registering service worker');\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(async (registration) => {\n\n      console.log('Service worker registered');\n\n      console.log('Registering Push Manager');\n  \n      // const subscription = registration.pushManager.subscribe({\n      //     userVisibleOnly: true,\n      //     applicationServerKey: urlBase64ToUint8Array(publicVapid)\n      // });\n      console.log('Push Manager registered');\n  \n      console.log('Sending Push');\n  \n      // await fetch(`${baseUrl}/subscribe`, {\n      //     method: 'POST',\n      //     body: JSON.stringify(subscription),\n      //     headers: {\n      //         'content-type': 'application/json'\n      //     }\n      // });\n      console.log('Push Sent');\n\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\n// import reportWebVitals from './reportWebVitals';\n// import * as serviceWorker from \"./service-worker\";\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\nserviceWorkerRegistration.register();\n","export const baseUrl = (() => {\r\n    if(window.location.host.indexOf('localhost') >= 0){\r\n    return 'http://localhost:4000';\r\n    } else {\r\n    return 'https://oba-twit.herokuapp.com';\r\n    }\r\n})();\r\n\r\nexport const frontendUrl = (() => {\r\n    if(window.location.host.indexOf('localhost') >= 0){\r\n    return 'http://localhost:3000/twits';\r\n    } else {\r\n    return 'https://peaceful-leakey-ce2e49.netlify.app/twits';\r\n    }\r\n})();"],"sourceRoot":""}