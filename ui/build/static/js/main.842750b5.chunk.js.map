{"version":3,"sources":["helper.js","components/GoogleAuth.js","components/chat.jpg","components/Posts.js","components/TwitForm.js","components/CommentForm.js","components/Twits.js","App.js","serviceWorkerRegistration.js","index.js"],"names":["baseUrl","dotenv","config","clientId","process","GoogleAuth","props","error","setError","setLoading","loading","useState","JSON","parse","localStorage","getItem","signup","apiUrl","history","useHistory","buttonText","onSuccess","res","console","log","authenticate","profileObj","email","name","imageUrl","onFailure","cookeiPolicy","style","marginTop","Logout","render","renderProps","size","onLogoutSuccess","a","google","password","setItem","axios","method","url","data","headers","catch","response","auth","success","user","token","push","Posts","setEmail","setPassword","setSignup","handleChange","e","target","value","useEffect","fontFamily","fontWeight","className","fontSize","type","placeholder","onChange","flexDirection","color","height","width","cursor","onClick","href","src","chat","alt","borderRadius","TwitForm","title","setTitle","text","setText","textArea","setTextArea","length","sendTwit","removeItem","setSync","sync","showForm","display","alignItems","required","rows","cols","maxLength","CommentForm","sendComment","twitId","showCommentForm","Twits","twits","setTwits","formActive","setFormActive","users","setUsers","img","apiCallHook","isAxiosError","getTwits","map","x","getUsers","count","checkOpenForms","filter","twit","closedTwits","sort","b","Date","createdAt","getTime","idx","Twit","commentFormActive","setCommentFormActive","id","likes","comments","likeCount","like","isLiked","fromNow","username","comment","isDeleted","Comment","usercomments","likecomments","App","exact","path","component","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","ReactDOM","StrictMode","document","getElementById","URL","origin","addEventListener","fetch","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.842750b5.chunk.js","sourcesContent":["export const baseUrl = 'https://oba-twit.herokuapp.com';\r\n// export const baseUrl = 'http://localhost:4000';","/* eslint-disable no-unused-vars */\r\nimport React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { GoogleLogin, GoogleLogout } from 'react-google-login';\r\nimport GoogleButton from 'react-google-button'\r\nimport { authenticate } from './Posts';\r\nimport { baseUrl } from '../helper';\r\nimport dotenv from \"dotenv\";\r\nimport { FiLogOut } from 'react-icons/fi';\r\n\r\ndotenv.config();\r\nconst clientId = process.env.REACT_APP_GOOGLE_CLIENT_ID;\r\n// console.log('id', clientId);\r\n\r\nexport default function GoogleAuth(props) {\r\n    const { error, setError, loading, setLoading } = props;\r\n    \r\n    const [signup, setSignup] = useState(JSON.parse(localStorage.getItem('signup')));\r\n    const apiUrl = `${baseUrl}/auth/${signup ? 'signup' : 'login'}`; \r\n    const history = useHistory(); \r\n\r\n    const onSuccess = (res) => {\r\n        console.log('login suceeded');\r\n        authenticate(true, res.profileObj.email, null, apiUrl, error, setError, setLoading, history, res.profileObj.name, res.profileObj.imageUrl)\r\n    }\r\n    const onFailure = (res) => {\r\n        console.log('login failed', res);\r\n    }\r\n    return (\r\n        <div>\r\n            <GoogleLogin \r\n                clientId={clientId}\r\n                buttonText={signup ? 'Signup with Google' : 'Login with Google'}\r\n                onSuccess={onSuccess}\r\n                onFailure={onFailure}\r\n                // isSignedIn={true}\r\n                cookeiPolicy={'single_host_origin'}\r\n                style={{marginTop: '160px'}}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Logout = () => {\r\n    \r\n    const onSuccess = (res) => {\r\n        console.log(res, 'Logout suceeded');\r\n    }\r\n    return(\r\n    <div>\r\n              <GoogleLogout \r\n                clientId={clientId}\r\n                render={renderProps => (\r\n                    <span><FiLogOut size={25}/></span>\r\n                )}\r\n                buttonText='Signout' \r\n                onLogoutSuccess={onSuccess}\r\n                style={{marginTop: '160px'}}\r\n            />\r\n    </div>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/chat.7e8098f6.jpg\";","/* eslint-disable no-unused-vars */\r\n/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Loader from 'react-loader-spinner';\r\nimport GoogleAuth from './GoogleAuth';\r\nimport { baseUrl } from '../helper';\r\n// import LinkedinAuth from './LinkedinAuth';\r\nimport dotenv from \"dotenv\";\r\nimport chat from './chat.jpg';\r\nimport { CgCopyright } from 'react-icons/cg';\r\n\r\ndotenv.config();\r\nconst clientId = process.env.REACT_APP_GOOGLE_CLIENT_ID;\r\n// console.log('id', clientId, process.env);\r\n\r\nexport const authenticate = async(google = false, email, password = null, apiUrl, error, setError, setLoading, history, name, imageUrl) => {\r\n    localStorage.setItem('img', imageUrl);\r\n    setLoading(true);\r\n    let res;\r\n    if(!google) {\r\n        res = await axios({\r\n            method: 'POST',\r\n            url: `${apiUrl}`,\r\n            data: {email, password},\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            }\r\n        })\r\n        .catch(error => {\r\n            if(error.response) {\r\n                setError(error.response?.data?.error);\r\n                // setTimeout(() => {\r\n                //     setError('');\r\n                // }, 1000);\r\n            } else {\r\n                setError('Please check your network');\r\n                // setTimeout(() => {\r\n                //     setError('');\r\n                // }, 1000);\r\n            }\r\n        });\r\n    } else {\r\n        res = await axios({\r\n            method: 'POST',\r\n            url: `${apiUrl}`,\r\n            data: {email, password: 'passs', auth: 'google', name, imageUrl},\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            }\r\n        })\r\n        .catch(error => {\r\n            setError(error.response.data.error);\r\n            // setTimeout(() => {\r\n            //     setError('');\r\n            // }, 1000);\r\n        });\r\n\r\n    }\r\n        if(res && res.data.success) {\r\n            localStorage.setItem('email', email);\r\n            localStorage.setItem('img', res.data.data.user.imageUrl);\r\n            localStorage.setItem('token', res.data.data.token);\r\n            setLoading(false);\r\n            history.push('/twits');\r\n        } else {\r\n            setLoading(false);\r\n        }\r\n}\r\n\r\nexport default function Posts(props) {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [signup, setSignup] = useState(JSON.parse(localStorage.getItem('signup')));\r\n    const token = localStorage.getItem('token');\r\n    const history = useHistory();\r\n  \r\nconst apiUrl = `${baseUrl}/auth/${signup ? 'signup' : 'login'}`; \r\n\r\nconst handleChange = (e) => {\r\n    if(e.target.name === 'email') {\r\n        setEmail(e.target.value);\r\n    } else {\r\n        setPassword(e.target.value);\r\n    }\r\n}\r\n\r\nconst handleSignupMode = () => {\r\n    if(!signup) {\r\n        setSignup(true);\r\n        localStorage.setItem('signup', true);\r\n    } else {\r\n        setSignup(false);\r\n        localStorage.setItem('signup', false);\r\n    }\r\n}\r\n\r\nuseEffect(() => {\r\n    if(!token) {\r\n        history.push('/');\r\n    }\r\n    return () => {\r\n    }\r\n}, []);\r\n\r\n    return (\r\n        <div style={{fontFamily: 'Roboto', fontWeight: '600'}} className='font-Roboto text-center align-items-center'>\r\n            <p style={{fontFamily: 'Roboto', fontWeight: '600'}} className='italic text-white-700 font-medium text-center mb-5'>\r\n                <span className='text-purple-900 font-bold text-xl'>\r\n                    Twitee<br/>\r\n                </span> .... Feel free, express yourself, network ....\r\n            </p>\r\n            <h1 style={{fontSize: 20}} className='font-bold text-md mb-7'>\r\n                {signup ?  'Signup' : 'Login'}\r\n            </h1>\r\n            <input \r\n                type='text'\r\n                name='email'\r\n                value={email} \r\n                placeholder='email'\r\n                onChange={handleChange}\r\n                className='px-3 rounded mb-5'\r\n                /><br/>\r\n            <input \r\n                type='password'\r\n                name='password'\r\n                value={password} \r\n                placeholder='password' \r\n                onChange={handleChange}\r\n                className='px-3 rounded mb-5'\r\n            /><br/>\r\n            <div style={{flexDirection: 'column'}} className='flex'>\r\n                {error && <span className='mb-2 text-red-600'>{error}</span>}\r\n                <div>\r\n                    {!loading ?\r\n                    <span \r\n                        style={{cursor: 'pointer'}}\r\n                        onClick={() => authenticate(false, email, password, apiUrl, error, setError, setLoading, history)}\r\n                        className='hover:bg-green-900 bg-green-400 font-medium p-2 rounded w-6 h-3 text-white'\r\n                    >    \r\n                        {signup ? 'Signup' : 'Login' }\r\n                    </span>\r\n                    :\r\n                    <span className='m-auto'>\r\n                        <Loader \r\n                        type='ThreeDots'\r\n                        color='#00bfff'\r\n                        height={40} \r\n                        width={40} \r\n                        />\r\n                     </span>}\r\n                </div>\r\n                <span className='text-xs mt-4 mb-4'>\r\n                {signup ? 'Already signed up ?' : 'Not registered ?' }\r\n                     \r\n                <a \r\n                    href='/' \r\n                    className='focus:text-md underline'\r\n                    onClick={handleSignupMode}\r\n                > \r\n                    {signup ? ' Login here' : ' Signup here!' }\r\n                </a></span>\r\n            </div>\r\n            <GoogleAuth \r\n                error={error}\r\n                setError={setError}\r\n                loading={loading}\r\n                setLoading={setLoading}\r\n            />\r\n            {/* <LinkedinAuth /> */}\r\n            <p className=\"text-white-400 bold flex text-center\"><CgCopyright /> Twitee</p>         \r\n            \r\n          <img \r\n            src={chat}\r\n            alt='CHat'\r\n            className=''\r\n            style={{borderRadius: '5', width: '100'}}\r\n          />\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport axios from 'axios';\r\nimport Loader from 'react-loader-spinner';\r\nimport { baseUrl } from '../helper';\r\n// import AttachImage from './AttachImage';\r\n\r\nexport default function TwitForm(props) {\r\n    const [title, setTitle] = useState(localStorage.getItem('twitTitle') ? localStorage.getItem('twitTitle') : '');\r\n    const [text, setText] = useState(localStorage.getItem('twitText') ? localStorage.getItem('twitText') : '');\r\n    const [textArea, setTextArea] = useState(160);\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const token = localStorage.getItem('token'); \r\n    \r\n    const apiUrl = `${baseUrl}/twits/post`; \r\n\r\n    const handleChange = (e) => {\r\n        if(e.target.name === 'title') {\r\n            setTitle(e.target.value);\r\n            localStorage.setItem('twitTitle', e.target.value)\r\n        } else {\r\n            setText(e.target.value);\r\n            setTextArea(160 - e.target.value.length)\r\n            localStorage.setItem('twitText', e.target.value)\r\n        }\r\n    }\r\n\r\n    const sendTwit = async() => {\r\n            if(!(title && text)) {\r\n                setError('Inputs required');\r\n                return;\r\n            }\r\n            setLoading(true);\r\n            const res = await axios({\r\n                method: 'POST',\r\n                url: `${apiUrl}`,\r\n                data: {title, text},\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                        console.log(error.response);\r\n                        setError(error.response.data.error);\r\n                });\r\n                // console.log(res);\r\n                if(res && res.data.success) {\r\n                    setLoading(false);\r\n                    localStorage.removeItem('twitTitle');\r\n                    localStorage.removeItem('twitText');\r\n                    props.setSync(!props.sync);\r\n                    props.showForm();\r\n                } else {\r\n                    setLoading(false);\r\n                    console.log('Error found'); \r\n                }\r\n    }\r\n\r\n    return (\r\n        <div className='text-center sticky top-5 rounded pb-1 bg-blue-200 mb-1'>\r\n             <h1 style={{fontSize: 20}} className='font-bold text-base mb-3'>\r\n                New twit\r\n            </h1>\r\n            <div style={{display: 'flex', flexDirection: 'column', alignItems: 'center', borderRadius: '20%'}}>\r\n\r\n            <input \r\n                type='text'\r\n                name='title'\r\n                value={title} \r\n                placeholder='title'\r\n                onChange={handleChange}\r\n                className='px-3 py-1 rounded mb-2'\r\n                required\r\n                />\r\n            <input \r\n                type='textarea'\r\n                name='text'\r\n                rows=\"5\"\r\n                cols=\"8\"\r\n                maxLength={160}\r\n                // wrap={true}\r\n                value={text} \r\n                placeholder='Drop in your twit ...' \r\n                onChange={handleChange}\r\n                style={{height: '100px'}}\r\n                className='px-3 rounded mb-1 text-md text-gray-600'\r\n                required\r\n            />\r\n                {/* <span style={{display: 'flex', alignSelf: 'center', marginLeft: '5em'}}>\r\n                    <AttachImage />\r\n                </span> */}\r\n                </div>\r\n            {textArea}\r\n            <div style={{flexDirection: 'column'}} className='flex mb-5'>\r\n                {error && <span className='mb-2 text-red-800 text-md'>{error}</span>}\r\n                <div className='justify-items-center mt-2'>\r\n                    <span \r\n                        style={{cursor: 'pointer'}}\r\n                        onClick={() => props.showForm()}\r\n                        className='hover:bg-gray-900 bg-gray-400 font-medium p-1 rounded text-white'\r\n                    >    \r\n                        Cancel\r\n                    </span>\r\n\r\n                    {!loading ?\r\n                    <span \r\n                        style={{cursor: 'pointer'}}\r\n                        onClick={sendTwit}\r\n                        className='hover:bg-green-900 bg-green-400 font-medium p-1 rounded text-white mx-2'\r\n                    >    \r\n                        Send\r\n                    </span>\r\n                    :\r\n                    <span className='m-auto'>\r\n                        <Loader \r\n                        type='ThreeDots'\r\n                        color='#00bfff'\r\n                        height={40} \r\n                        width={40} \r\n                        />\r\n                     </span>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport axios from 'axios';\r\nimport Loader from 'react-loader-spinner';\r\nimport { baseUrl } from '../helper';\r\n\r\nexport default function CommentForm(props) {\r\n    const [text, setText] = useState('');\r\n    const [textArea, setTextArea] = useState(160);\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const token = localStorage.getItem('token'); \r\n    \r\n    const apiUrl = `${baseUrl}/comments`; \r\n\r\n    const handleChange = (e) => {\r\n        if(e.target.name === 'text') {\r\n            setText(e.target.value);\r\n            setTextArea(160 - e.target.value.length)\r\n        }\r\n    }\r\n\r\n    const sendComment = async() => {\r\n        if(!props.twitId) return;\r\n        if(!text) {\r\n            setError('Inputs required');\r\n            return;\r\n        }\r\n        setLoading(true);\r\n        const res = await axios({\r\n            method: 'POST',\r\n            url: `${apiUrl}/${props.twitId}`,\r\n            data: {text},\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n            .catch(error => {\r\n                    console.log(error.response);\r\n                    setError(error.response.data.error);\r\n            });\r\n            console.log(res);\r\n            if(res && res.data.success) {\r\n                setLoading(false);\r\n                props.setSync(!props.sync);\r\n                props.showCommentForm();\r\n            } else {\r\n                setLoading(false);\r\n                console.log('Error found'); \r\n            }\r\n    }\r\n\r\n    return (\r\n        <div className='text-center'>\r\n             <p style={{fontSize: 20}} className='font-bold text-xs mb-3'>\r\n                New Comment\r\n            </p>\r\n            <input \r\n                type='textarea'\r\n                name='text'\r\n                rows={5}\r\n                cols={8}\r\n                maxLength={160}\r\n                value={text} \r\n                placeholder='Drop in your comment ...' \r\n                onChange={handleChange}\r\n                className='px-3 rounded mb-5 h-20 text-md text-gray-600'\r\n                required\r\n            /><br/>\r\n            {textArea}\r\n            <div style={{flexDirection: 'column'}} className='flex mb-5'>\r\n                {error && <span className='mb-2 text-red-800 text-xs'>{error}</span>}\r\n                <div className='justify-items-center'>\r\n                    <span \r\n                        style={{cursor: 'pointer'}}\r\n                        onClick={() => props.showCommentForm()}\r\n                        className='hover:bg-gray-900 bg-gray-400 font-medium p-1 rounded text-white'\r\n                    >    \r\n                        Cancel\r\n                    </span>\r\n\r\n                    {!loading ?\r\n                    <span \r\n                        style={{cursor: 'pointer'}}\r\n                        onClick={sendComment}\r\n                        className='hover:bg-green-900 bg-green-400 font-medium p-1 rounded text-white mx-2'\r\n                    >    \r\n                        Send\r\n                    </span>\r\n                    :\r\n                    <span className='m-auto'>\r\n                        <Loader \r\n                        type='ThreeDots'\r\n                        color='#00bfff'\r\n                        height={40} \r\n                        width={40} \r\n                        />\r\n                     </span>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Moment from 'react-moment';\r\nimport { BsPersonFill, BsChatTextFill } from 'react-icons/bs';\r\nimport { AiTwotoneLike, AiTwotoneDelete, AiFillHome } from 'react-icons/ai';\r\nimport { IoIosPeople } from 'react-icons/io';\r\nimport { RiChatNewLine } from 'react-icons/ri';\r\nimport TwitForm from './TwitForm';\r\nimport CommentForm from './CommentForm';\r\nimport { baseUrl } from '../helper';\r\nimport { Logout } from './GoogleAuth';\r\n\r\nexport default function Twits() {\r\n    const [error, setError] = useState('');\r\n    const [twits, setTwits] = useState([]);\r\n    const [formActive, setFormActive] = useState(false);\r\n    const [sync, setSync] = useState(false);\r\n    const [users, setUsers] = useState(0);\r\n\r\n    const email = localStorage.getItem('email') ? localStorage.getItem('email') : '';\r\n    const img = localStorage.getItem('img') ? localStorage.getItem('img') : '';\r\n    const history = useHistory();\r\n    const token = localStorage.getItem('token');\r\n\r\n    const apiUrl = `${baseUrl}/twits`;\r\n\r\n    const showForm = () => {\r\n        setFormActive(!formActive);\r\n    }\r\n\r\n    const logout = () => {\r\n        localStorage.removeItem('token');\r\n        history.push('/');\r\n    }\r\n\r\n    const apiCallHook = async(method, url) => {\r\n        await axios({\r\n            method,\r\n            url,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n            })\r\n            .catch(error => {\r\n                if(error.isAxiosError) {\r\n                    console.log(error.isAxiosError);\r\n                }\r\n            });\r\n            setSync(!sync);\r\n    }\r\n\r\n    const getTwits = async() => {\r\n        const res = await axios({\r\n            method: 'GET',\r\n            url: `${apiUrl}`,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n            })\r\n            .catch(error => {\r\n                if(error.isAxiosError) {\r\n                    console.log(error.isAxiosError);\r\n                }\r\n            });\r\n            if(res && res.data.success) {\r\n                setTwits(res.data.data.map(x => {\r\n                    x.formActive = false;\r\n                    return x;\r\n                }));\r\n            } else {\r\n                console.log('Error found'); \r\n                setError('Error found');\r\n            }\r\n    }\r\n\r\n    const getUsers = async() => {\r\n        const res = await axios({\r\n            method: 'GET',\r\n            url: `${baseUrl}/auth/users`,\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n            })\r\n            .catch(error => {\r\n                if(error.isAxiosError) {\r\n                    console.log(error.isAxiosError);\r\n                }\r\n            });\r\n            if(res && res.data.success) {\r\n                setUsers(res.data.data.count);\r\n            } else {\r\n                console.log('Error found');\r\n                setError('Error found');\r\n            }\r\n    }\r\n\r\n    const checkOpenForms = () => {\r\n        console.log('checking open forms', twits.filter(twit => twit.formActive));\r\n        let closedTwits = twits.map(twit => {\r\n            twit.formActive = false;\r\n            return twit;\r\n        });\r\n        setTwits(closedTwits);\r\n        console.log('closing open forms', twits.filter(twit => twit.formActive));\r\n    }\r\n\r\nuseEffect(() => {\r\n    if(!token) {\r\n        history.push('/');\r\n    }\r\n    getUsers();\r\n    return () => {\r\n        console.log('cleanup twits 1');\r\n    }\r\n}, []);\r\n\r\nuseEffect(async() => {\r\n    getTwits();\r\n\r\n    return () => {\r\n        console.log('cleanup twits 2');\r\n    }\r\n}, [sync]);\r\n    \r\n    return (\r\n        <div style={{fontFamily: 'Roboto', fontWeight: '600'}} className='mb-5 font-Roboto'>\r\n            {formActive && <TwitForm error={error} showForm={showForm} sync={sync} setSync={setSync}/>}\r\n            <p style={{fontFamily: 'Roboto', fontWeight: '600'}} className='italic text-white-700 font-medium text-center'><span className='text-purple-900 font-bold text-xl'>Twitee<br/></span> .... Feel free, express yourself, network ....</p>\r\n            <div className='py-2 px-2 rounded bg-gray-100 mb-4 flex justify-between'>\r\n                {img !== 'null' ? (\r\n                    <span>\r\n                        <img src={img} alt='Profile' style={{width: '30px', height: '30px', borderRadius: '50%'}} />\r\n                    </span>) \r\n                    : <span className='text-left'><AiFillHome size={25} /></span>}\r\n                {users > 0 && <span className='text-left flex'><IoIosPeople size={25}/>{users}</span>}\r\n                <span style={{cursor: 'pointer'}} className='text-right' onClick={logout}><Logout />\r\n                </span>\r\n            </div>\r\n            <div className='w-full text-white-400 flex justify-between' onClick={showForm}>\r\n                <span></span>\r\n                <span className='font-bold mb-4 italic'>Twits</span>\r\n                <span style={{cursor: 'pointer'}} className='sticky top-4 mr-4 -ml-6'><RiChatNewLine size={25} /></span>\r\n            </div>\r\n            {\r\n                twits.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()).map((twit, idx) => \r\n                    <Twit key={idx} twit={twit} email={email} apiCallHook={apiCallHook} baseUrl={baseUrl} sync={sync} setSync={setSync} showForm={showForm} formActive={formActive} checkOpenForms={checkOpenForms} />\r\n                )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Twit = (props) => {\r\n    const [commentFormActive, setCommentFormActive] = useState(false);\r\n\r\n    const { twit: {id, title, text, twits, likes, comments, createdAt }, email, apiCallHook, baseUrl, sync, setSync, checkOpenForms } = props;\r\n\r\n    // console.log(comments);\r\n    const likeCount = likes.filter(like => like.isLiked).length;\r\n    const showCommentForm = () => {\r\n        setCommentFormActive(!commentFormActive);\r\n        props.twit.formActive = !commentFormActive;\r\n    }\r\n    \r\n    const likeTwit = () => {\r\n        // console.log('like twit with id: ', id);\r\n        apiCallHook('POST', `${baseUrl}/likes/like/${id}`);\r\n    }\r\n    const commentTwit = () => {\r\n        // console.log('comment twit with id: ', id);\r\n        checkOpenForms();\r\n        showCommentForm();\r\n    }\r\n    const deleteTwit = () => {\r\n        // console.log('delete twit with id: ', id);\r\n        apiCallHook('DELETE', `${baseUrl}/twits/${id}`);\r\n    }\r\n\r\n\r\n    return (\r\n    <div className='bg-gray-200 rounded p-5 mb-2'>\r\n        <p style={{fontWeight: 'bolder'}} className='font-bold text-md text-center'>{title}</p>\r\n        <span className='text-xs mb-2'>\r\n            <Moment fromNow>{createdAt}</Moment>\r\n        </span>\r\n        <p  style={{fontFamily: 'Architects Daughter', fontWeight: '500', fontSize: '18px'}} className=''>{text}</p>\r\n        <p className='text-xs text-gray-800 flex my-2'>\r\n            <span className='mx-2 flex'>\r\n                {twits.imageUrl ? (\r\n                <span className='mr-1'>\r\n                    <img src={twits.imageUrl} alt='Profile' style={{width: '20px', height: '20px', borderRadius: '50%'}} />\r\n                </span>)\r\n                : <BsPersonFill size={15}/>}\r\n                {email === twits.email ? 'Me' : twits.username}\r\n            </span>\r\n            <span style={{cursor: 'pointer'}} className='mx-2 flex' onClick={() => likeTwit()}>\r\n                <AiTwotoneLike color={likeCount > 0 ? 'blue' : 'gray'} size={15}/><span className='text-xs'>{likeCount}</span>\r\n            </span>\r\n            <span style={{cursor: 'pointer'}} className='mx-2 flex' onClick={() => commentTwit()}>\r\n                <BsChatTextFill size={15}/>\r\n            </span>\r\n            {email === twits.email &&\r\n            <span style={{cursor: 'pointer'}} className='mx-2 flex hover:text-red-800' onClick={() => deleteTwit()}>\r\n                <AiTwotoneDelete size={15} color='red'/>\r\n            </span>}\r\n        </p>\r\n        {commentFormActive && <CommentForm twitId={id} showCommentForm={showCommentForm} sync={sync} setSync={setSync}/>}\r\n\r\n        {comments.length > 0 && \r\n                (<div className='mt-2 rounded'>\r\n                    {comments.filter(comment => !comment.isDeleted).map((comment, idx) => (\r\n                        <Comment key={idx} comment={comment} apiCallHook={apiCallHook} email={email} />\r\n                    )\r\n                )}\r\n            </div>)\r\n        }\r\n    </div>\r\n    )\r\n}\r\n\r\nconst Comment = (props) => {\r\n    const { comment: { id, text, usercomments, likecomments, createdAt }, email, apiCallHook } = props;\r\n\r\n    const likeCount = likecomments?.filter(like => like.isLiked).length;\r\n    const likeComment = () => {\r\n        apiCallHook('POST', `${baseUrl}/likecomments/like/${id}`);\r\n    }\r\n    const deleteComment = () => {\r\n        // console.log('delete twit with id: ', id);\r\n        apiCallHook('DELETE', `${baseUrl}/comments/${id}`);\r\n    }\r\n\r\n    return(\r\n        <div className='bg-green-300 mb-2 p-2 rounded'>\r\n            <span className='text-xs mb-2'>\r\n            <Moment fromNow>{createdAt}</Moment>\r\n            </span>\r\n            <p style={{fontFamily: 'Architects Daughter', fontWeight: '500', fontSize: '18px'}} className=''>{text}</p>\r\n            <span className='mx-2 flex items-justify text-xs my-2'>\r\n                {usercomments.imageUrl ? (\r\n                <span className='mr-1'>\r\n                    <img src={usercomments.imageUrl} alt='Profile' style={{width: '20px', height: '20px', borderRadius: '50%'}} />\r\n                </span>)\r\n                : <BsPersonFill size={15}/>}\r\n                <span className=''>\r\n                    {email === usercomments.email ? 'Me' : usercomments.username}\r\n                </span>\r\n                <span style={{cursor: 'pointer'}} className='mx-2 flex' onClick={() => likeComment()}>\r\n                    <AiTwotoneLike color={likeCount > 0 ? 'blue' : 'gray'} size={15}/>\r\n                    <span className='text-xs'>{likeCount}</span>\r\n                </span>\r\n                {email === usercomments.email &&\r\n                <span style={{cursor: 'pointer'}} className='mx-2 flex hover:text-red-800' onClick={() => deleteComment()}>\r\n                    <AiTwotoneDelete size={15} color='red'/>\r\n                </span>}\r\n            </span>\r\n        </div>\r\n    )\r\n}","/* eslint-disable no-unused-vars */\nimport React, { useState } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Posts from \"./components/Posts\";\nimport Twits from './components/Twits';\n\nfunction App() {\n    const [loggedIn, setLoggedIn] = useState(JSON.parse(localStorage.getItem('loggedIn')));\n    const [signup, setSignup] = useState(JSON.parse(localStorage.getItem('signup')) || false);\n    // console.log(loggedIn, localStorage.getItem('signup'));\n    \n  return (\n    <Router>\n        {/* <div className=\"h-full w-full m-0 max-w-sm mx-auto bg-blue-200 rounded-xl shadow-md flex\"> */}\n        <div className=\"font-Roboto h-full w-full m-0 max-w-xl max-h-xl my-0 mx-auto bg-blue-300 rounded-xl shadow-md -px-3\">\n              <div className=\"bg-gray-100 rounded-xl p-4\">\n      <Switch>\n              <Route exact path=\"/\" component={Posts} />\n              <Route exact path=\"/twits\" component={Twits} />\n      </Switch>\n            {/* <Posts /> */}\n          </div>\n        </div> \n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n// import * as serviceWorker from \"./service-worker\";\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\nserviceWorkerRegistration.register();\n"],"sourceRoot":""}